var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function l(){return Object.create(null)}function r(t){t.forEach(o)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function a(t,e,n=e){return t.set(n),e}const d="undefined"!=typeof window;let u=d?()=>window.performance.now():()=>Date.now(),f=d?t=>requestAnimationFrame(t):t;const p=new Set;function h(t){p.forEach(e=>{e.c(t)||(p.delete(e),e.f())}),0!==p.size&&f(h)}function m(t){let e;return 0===p.size&&f(h),{promise:new Promise(n=>{p.add(e={c:t,f:n})}),abort(){p.delete(e)}}}function g(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function w(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function v(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function x(){return b(" ")}function _(){return b("")}function A(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let P;function L(){if(void 0===P){P=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){P=!0}}return P}function N(t,e,n){t.classList[n?"add":"remove"](e)}class C{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=k(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)y(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach($)}}const S=new Set;let B,E=0;function O(t,e,n,o,l,r,i,s=0){const c=16.666/o;let a="{\n";for(let t=0;t<=1;t+=c){const o=e+(n-e)*r(t);a+=100*t+`%{${i(o,1-o)}}\n`}const d=a+`100% {${i(n,1-n)}}\n}`,u=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(d)}_${s}`,f=t.ownerDocument;S.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(k("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[u]||(h[u]=!0,p.insertRule(`@keyframes ${u} ${d}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?m+", ":""}${u} ${o}ms linear ${l}ms 1 both`,E+=1,u}function R(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),l=n.length-o.length;l&&(t.style.animation=o.join(", "),E-=l,E||f(()=>{E||(S.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),S.clear())}))}function D(n,o,l,r){if(!o)return t;const i=n.getBoundingClientRect();if(o.left===i.left&&o.right===i.right&&o.top===i.top&&o.bottom===i.bottom)return t;const{delay:s=0,duration:c=300,easing:a=e,start:d=u()+s,end:f=d+c,tick:p=t,css:h}=l(n,{from:o,to:i},r);let g,y=!0,$=!1;function w(){h&&R(n,g),y=!1}return m(t=>{if(!$&&t>=d&&($=!0),$&&t>=f&&(p(1,0),w()),!y)return!1;if($){const e=0+1*a((t-d)/c);p(e,1-e)}return!0}),h&&(g=O(n,0,1,c,s,a,h)),s||($=!0),p(0,1),w}function U(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:o}=e,l=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=o,V(t,l)}}function V(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const o=getComputedStyle(t),l="none"===o.transform?"":o.transform;t.style.transform=`${l} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}function Z(t){B=t}function q(t){(function(){if(!B)throw new Error("Function called outside component initialization");return B})().$$.on_mount.push(t)}const H=[],I=[],j=[],z=[],W=Promise.resolve();let G=!1;function X(t){j.push(t)}let F=!1;const Y=new Set;function J(){if(!F){F=!0;do{for(let t=0;t<H.length;t+=1){const e=H[t];Z(e),K(e.$$)}for(H.length=0;I.length;)I.pop()();for(let t=0;t<j.length;t+=1){const e=j[t];Y.has(e)||(Y.add(e),e())}j.length=0}while(H.length);for(;z.length;)z.pop()();G=!1,F=!1,Y.clear()}}function K(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}let Q;function tt(){return Q||(Q=Promise.resolve(),Q.then(()=>{Q=null})),Q}function et(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const nt=new Set;let ot;function lt(){ot={r:0,c:[],p:ot}}function rt(){ot.r||r(ot.c),ot=ot.p}function it(t,e){t&&t.i&&(nt.delete(t),t.i(e))}function st(t,e,n,o){if(t&&t.o){if(nt.has(t))return;nt.add(t),ot.c.push(()=>{nt.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const ct={duration:0};function at(n,o,l){let r,s,c=o(n,l),a=!1,d=0;function f(){r&&R(n,r)}function p(){const{delay:o=0,duration:l=300,easing:i=e,tick:p=t,css:h}=c||ct;h&&(r=O(n,0,1,l,o,i,h,d++)),p(0,1);const g=u()+o,y=g+l;s&&s.abort(),a=!0,X(()=>et(n,!0,"start")),s=m(t=>{if(a){if(t>=y)return p(1,0),et(n,!0,"end"),f(),a=!1;if(t>=g){const e=i((t-g)/l);p(e,1-e)}}return a})}let h=!1;return{start(){h||(R(n),i(c)?(c=c(),tt().then(p)):p())},invalidate(){h=!1},end(){a&&(f(),a=!1)}}}function dt(n,o,l){let s,c=o(n,l),a=!0;const d=ot;function f(){const{delay:o=0,duration:l=300,easing:i=e,tick:f=t,css:p}=c||ct;p&&(s=O(n,1,0,l,o,i,p));const h=u()+o,g=h+l;X(()=>et(n,!1,"start")),m(t=>{if(a){if(t>=g)return f(0,1),et(n,!1,"end"),--d.r||r(d.c),!1;if(t>=h){const e=i((t-h)/l);f(1-e,e)}}return a})}return d.r+=1,i(c)?tt().then(()=>{c=c(),f()}):f(),{end(t){t&&c.tick&&c.tick(1,0),a&&(s&&R(n,s),a=!1)}}}const ut="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ft(t,e){t.f(),function(t,e){st(t,1,1,()=>{e.delete(t.key)})}(t,e)}function pt(t,e,n,o,l,r,i,s,c,a,d,u){let f=t.length,p=r.length,h=f;const m={};for(;h--;)m[t[h].key]=h;const g=[],y=new Map,$=new Map;for(h=p;h--;){const t=u(l,r,h),s=n(t);let c=i.get(s);c?o&&c.p(t,e):(c=a(s,t),c.c()),y.set(s,g[h]=c),s in m&&$.set(s,Math.abs(h-m[s]))}const w=new Set,k=new Set;function v(t){it(t,1),t.m(s,d),i.set(t.key,t),d=t.first,p--}for(;f&&p;){const e=g[p-1],n=t[f-1],o=e.key,l=n.key;e===n?(d=e.first,f--,p--):y.has(l)?!i.has(o)||w.has(o)?v(e):k.has(l)?f--:$.get(o)>$.get(l)?(k.add(o),v(e)):(w.add(l),f--):(c(n,i),f--)}for(;f--;){const e=t[f];y.has(e.key)||c(e,i)}for(;p;)v(g[p-1]);return g}function ht(t){t&&t.c()}function mt(t,e,n){const{fragment:l,on_mount:s,on_destroy:c,after_update:a}=t.$$;l&&l.m(e,n),X(()=>{const e=s.map(o).filter(i);c?c.push(...e):r(e),t.$$.on_mount=[]}),a.forEach(X)}function gt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function yt(t,e){-1===t.$$.dirty[0]&&(H.push(t),G||(G=!0,W.then(J)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function $t(e,n,o,i,s,c,a=[-1]){const d=B;Z(e);const u=n.props||{},f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:l(),dirty:a};let p=!1;if(f.ctx=o?o(e,u,(t,n,...o)=>{const l=o.length?o[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=l)&&(f.bound[t]&&f.bound[t](l),p&&yt(e,t)),n}):[],f.update(),p=!0,r(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach($)}else f.fragment&&f.fragment.c();n.intro&&it(e.$$.fragment),mt(e,n.target,n.anchor),J()}Z(d)}class wt{$destroy(){gt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const kt=[];function vt(e,n=t){let o;const l=[];function r(t){if(s(e,t)&&(e=t,o)){const t=!kt.length;for(let t=0;t<l.length;t+=1){const n=l[t];n[1](),kt.push(n,e)}if(t){for(let t=0;t<kt.length;t+=2)kt[t][0](kt[t+1]);kt.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(i,s=t){const c=[i,s];return l.push(c),1===l.length&&(o=n(r)||t),i(e),()=>{const t=l.indexOf(c);-1!==t&&l.splice(t,1),0===l.length&&(o(),o=null)}}}}let bt=vt({round:1,turn:0,rolled:0,status:"",dicesArr:[0,0,0,0]}),xt=vt({points:[],won:null}),_t=vt([{col:[[13,14,15,0,1,2,3,4],[12,11,10,9,8,7,6,5],[13,14,15,0,1,2,3,4]]},{col:[[{},{},{},{},{},{},{},{}],[{},{},{},{},{},{},{},{}],[{},{},{},{},{},{},{},{}]]}]),At=1,Mt=vt([[{loc:0,p:1,id:1,key:At++},{loc:0,p:1,id:2,key:At++},{loc:0,p:1,id:3,key:At++},{loc:0,p:1,id:4,key:At++},{loc:0,p:1,id:5,key:At++},{loc:0,p:1,id:6,key:At++},{loc:0,p:1,id:7,key:At++}],[{loc:0,p:2,id:1,key:At++},{loc:0,p:2,id:2,key:At++},{loc:0,p:2,id:3,key:At++},{loc:0,p:2,id:4,key:At++},{loc:0,p:2,id:5,key:At++},{loc:0,p:2,id:6,key:At++},{loc:0,p:2,id:7,key:At++}]]);function Tt(t){const e=t-1;return e*e*e+1}function Pt(t){return--t*t*t*t*t+1}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function Lt(t){var{fallback:e}=t,o=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(t);l<o.length;l++)e.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(t,o[l])&&(n[o[l]]=t[o[l]])}return n}(t,["fallback"]);const l=new Map,r=new Map;function s(t,l,r){return(s,c)=>(t.set(c.key,{rect:s.getBoundingClientRect()}),()=>{if(l.has(c.key)){const{rect:t}=l.get(c.key);return l.delete(c.key),function(t,e,l){const{delay:r=0,duration:s=(t=>30*Math.sqrt(t)),easing:c=Tt}=n(n({},o),l),a=e.getBoundingClientRect(),d=t.left-a.left,u=t.top-a.top,f=t.width/a.width,p=t.height/a.height,h=Math.sqrt(d*d+u*u),m=getComputedStyle(e),g="none"===m.transform?"":m.transform,y=+m.opacity;return{delay:r,duration:i(s)?s(h):s,easing:c,css:(t,e)=>`\n\t\t\t\topacity: ${t*y};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${g} translate(${e*d}px,${e*u}px) scale(${t+(1-t)*f}, ${t+(1-t)*p});\n\t\t\t`}}(t,s,c)}return t.delete(c.key),e&&e(s,c,r)})}return[s(r,l,!1),s(l,r,!0)]}function Nt(t,e,n){const o=getComputedStyle(t),l="none"===o.transform?"":o.transform,r=e.from.width/t.clientWidth,s=e.from.height/t.clientHeight,c=(e.from.left-e.to.left)/r,a=(e.from.top-e.to.top)/s,d=Math.sqrt(c*c+a*a),{delay:u=0,duration:f=(t=>120*Math.sqrt(t)),easing:p=Tt}=n;return{delay:u,duration:i(f)?f(d):f,easing:p,css:(t,e)=>`transform: ${l} translate(${e*c}px, ${e*a}px);`}}function Ct(e){let n,o;return{c(){n=k("div"),o=b(e[1]),M(n,"class","scoreboard"),M(n,"data-owner",e[0])},m(t,e){y(t,n,e),g(n,o)},p(t,[e]){2&e&&T(o,t[1]),1&e&&M(n,"data-owner",t[0])},i:t,o:t,d(t){t&&$(n)}}}function St(t,e,n){let o,l,r;c(t,Mt,t=>n(5,o=t)),c(t,xt,t=>n(6,l=t)),c(t,bt,t=>n(7,r=t));let i,s,d,u,{col:f}=e;return s=0===f?0:1,i=s+1,t.$set=t=>{"col"in t&&n(2,f=t.col)},t.$$.update=()=>{58&t.$$.dirty&&(n(4,u=o[s].filter(t=>15===t.loc)),n(1,d=u.length),a(xt,l.points[s]=d,l)),73&t.$$.dirty&&7===l.points[s]&&(a(xt,l.won=i,l),a(bt,r.status=`<em class="special">Player ${i} Won!</em>`,r))},[i,d,f]}class Bt extends wt{constructor(t){super(),$t(this,t,St,Ct,s,{col:2})}}function Et(t){let e,n,o,l,r,i,s,c,a,d;return{c(){e=v("g"),n=v("g"),o=v("path"),l=v("path"),r=v("g"),i=v("path"),s=v("path"),c=v("g"),a=v("path"),d=v("path"),M(o,"d","M50 35L62.9904 57.5H37.0096L50 35Z"),M(o,"fill","#7D7D7D"),M(l,"d","M50 35L62.9904 57.5H37.0096L50 35Z"),M(l,"fill","url(#paint2_linear)"),M(n,"id","white-Dice-tri"),M(i,"d","M50 35V50L37.0096 57.5L50 35Z"),M(i,"fill","#F4F4F4"),M(s,"d","M50 35V50L37.0096 57.5L50 35Z"),M(s,"fill","url(#paint3_linear)"),M(r,"id","white-hi"),M(a,"d","M50 35L62.9904 57.5L50 50V35Z"),M(a,"fill","#B9B9B9"),M(d,"d","M50 35L62.9904 57.5L50 50V35Z"),M(d,"fill","url(#paint4_linear)"),M(c,"id","white-low"),M(e,"id","white-top")},m(t,u){y(t,e,u),g(e,n),g(n,o),g(n,l),g(e,r),g(r,i),g(r,s),g(e,c),g(c,a),g(c,d)},d(t){t&&$(e)}}}function Ot(e){let n,o,l,r,i,s,c,a,d,u,f,p,h,m,w,k,b,x,_,A,T,P,L,N,C,S,B=!!e[0]&&1===e[0]&&Et();return{c(){n=v("svg"),o=v("g"),l=v("g"),r=v("path"),i=v("g"),s=v("path"),c=v("path"),a=v("g"),d=v("path"),u=v("path"),B&&B.c(),f=v("defs"),p=v("linearGradient"),h=v("stop"),m=v("stop"),w=v("linearGradient"),k=v("stop"),b=v("stop"),x=v("linearGradient"),_=v("stop"),A=v("stop"),T=v("linearGradient"),P=v("stop"),L=v("stop"),N=v("linearGradient"),C=v("stop"),S=v("stop"),M(r,"id","Dice-tri"),M(r,"d","M50 0L93.3013 75H6.69873L50 0Z"),M(r,"fill","#0B0B0B"),M(s,"d","M50 0V50L6.69873 75L50 0Z"),M(s,"fill","black"),M(c,"d","M50 0V50L6.69873 75L50 0Z"),M(c,"fill","url(#paint0_linear)"),M(i,"id","black-hi"),M(d,"d","M50 0L93.3013 75L50 50V0Z"),M(d,"fill","#222222"),M(u,"d","M50 0L93.3013 75L50 50V0Z"),M(u,"fill","url(#paint1_linear)"),M(u,"fill-opacity","0.6"),M(a,"id","black-low"),M(l,"id","black-dice"),M(o,"id","Dice-1-000"),M(h,"stop-color","white"),M(m,"offset","0.677083"),M(m,"stop-color","white"),M(m,"stop-opacity","0"),M(p,"id","paint0_linear"),M(p,"x1","-3.5"),M(p,"y1","-13"),M(p,"x2","92"),M(p,"y2","75"),M(p,"gradientUnits","userSpaceOnUse"),M(k,"stop-color","white"),M(b,"offset","0.304651"),M(b,"stop-color","white"),M(b,"stop-opacity","0"),M(w,"id","paint1_linear"),M(w,"x1","39.8013"),M(w,"y1","-13"),M(w,"x2","135.301"),M(w,"y2","75"),M(w,"gradientUnits","userSpaceOnUse"),M(_,"stop-color","white"),M(A,"offset","1"),M(A,"stop-color","white"),M(A,"stop-opacity","0"),M(x,"id","paint2_linear"),M(x,"x1","50"),M(x,"y1","35"),M(x,"x2","50"),M(x,"y2","65"),M(x,"gradientUnits","userSpaceOnUse"),M(P,"stop-color","white"),M(L,"offset","1"),M(L,"stop-color","white"),M(L,"stop-opacity","0"),M(T,"id","paint3_linear"),M(T,"x1","43.5048"),M(T,"y1","35"),M(T,"x2","43.5048"),M(T,"y2","57.5"),M(T,"gradientUnits","userSpaceOnUse"),M(C,"stop-color","white"),M(S,"offset","1"),M(S,"stop-color","white"),M(S,"stop-opacity","0"),M(N,"id","paint4_linear"),M(N,"x1","56.4952"),M(N,"y1","35"),M(N,"x2","56.4952"),M(N,"y2","57.5"),M(N,"gradientUnits","userSpaceOnUse"),M(n,"width","100"),M(n,"height","100"),M(n,"viewBox","0 0 100 77"),M(n,"fill","none"),M(n,"xmlns","http://www.w3.org/2000/svg")},m(t,e){y(t,n,e),g(n,o),g(o,l),g(l,r),g(l,i),g(i,s),g(i,c),g(l,a),g(a,d),g(a,u),B&&B.m(o,null),g(n,f),g(f,p),g(p,h),g(p,m),g(f,w),g(w,k),g(w,b),g(f,x),g(x,_),g(x,A),g(f,T),g(T,P),g(T,L),g(f,N),g(N,C),g(N,S)},p(t,[e]){t[0]&&1===t[0]?B||(B=Et(),B.c(),B.m(o,null)):B&&(B.d(1),B=null)},i:t,o:t,d(t){t&&$(n),B&&B.d()}}}function Rt(t,e,n){let{rolledNum:o=0}=e;return t.$set=t=>{"rolledNum"in t&&n(0,o=t.rolledNum)},[o]}class Dt extends wt{constructor(t){super(),$t(this,t,Rt,Ot,s,{rolledNum:0})}}function Ut(t,e,n){const o=t.slice();return o[8]=e[n],o[10]=n,o}function Vt(t){let e,n,o;return e=new Dt({props:{rolledNum:t[8]}}),{c(){ht(e.$$.fragment),n=x()},m(t,l){mt(e,t,l),y(t,n,l),o=!0},p(t,n){const o={};1&n&&(o.rolledNum=t[8]),e.$set(o)},i(t){o||(it(e.$$.fragment,t),o=!0)},o(t){st(e.$$.fragment,t),o=!1},d(t){gt(e,t),t&&$(n)}}}function Zt(t){let e,n,o,l,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=Vt(Ut(t,r,e));const s=t=>st(i[t],1,1,()=>{i[t]=null});return{c(){e=k("div");for(let t=0;t<i.length;t+=1)i[t].c();M(e,"class","dicesBlock"),M(e,"style",t[2]),N(e,"rolled",t[1])},m(r,s){y(r,e,s);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0,o||(l=A(e,"click",t[5]),o=!0)},p(t,[o]){if(1&o){let n;for(r=t[0],n=0;n<r.length;n+=1){const l=Ut(t,r,n);i[n]?(i[n].p(l,o),it(i[n],1)):(i[n]=Vt(l),i[n].c(),it(i[n],1),i[n].m(e,null))}for(lt(),n=r.length;n<i.length;n+=1)s(n);rt()}(!n||4&o)&&M(e,"style",t[2]),2&o&&N(e,"rolled",t[1])},i(t){if(!n){for(let t=0;t<r.length;t+=1)it(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)st(i[t]);n=!1},d(t){t&&$(e),w(i,t),o=!1,l()}}}function qt(t,e,n){const[o,l]=Lt({duration:t=>Math.sqrt(200*t),fallback(t,e){const n=getComputedStyle(t),o="none"===n.transform?"":n.transform;return{duration:600,easing:Pt,css:t=>`\n\t\t\t\t\ttransform: ${o} scale(${t});\n\t\t\t\t\topacity: ${t}\n\t\t\t\t`}}});let{dicesArr:r=[0,0,0,0]}=e,{rolled:i=0}=e,{pos:s={left:0,top:0,width:0,height:0}}=e,{moveToDeck:c}=e,a="";return t.$set=t=>{"dicesArr"in t&&n(0,r=t.dicesArr),"rolled"in t&&n(1,i=t.rolled),"pos"in t&&n(3,s=t.pos),"moveToDeck"in t&&n(4,c=t.moveToDeck)},t.$$.update=()=>{24&t.$$.dirty&&n(2,a=c?`position: absolute; top: ${s.top}px; left: ${s.left}px; width: ${s.width}px; height: ${s.height}px;`:"")},[r,i,a,s,c,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}(t,e)}]}class Ht extends wt{constructor(t){super(),$t(this,t,qt,Zt,s,{dicesArr:0,rolled:1,pos:3,moveToDeck:4})}}class It{constructor(){this.crypto="function"==typeof window.crypto.getRandomValues,this.intMin=Number.MIN_VALUE,this.intMax=Number.MAX_VALUE}random(){return this.crypto?window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295:Math.random()}bool(){return this.random()<.5}int(t,e){return this.randinterval(t,e,!0)}float(t,e){return t+(e-t)*this.random()}string(t,e){let n="";for(let o=0;o<t;o++)n+=e.charAt(this.int(0,e.length-1));return n}pick(t){return t[this.int(0,t.length-1)]}chance(t){return this.float(0,100)<t}challenge(t,e,n){let o=(n-t)/((e-t)/100);return o<=0&&(o=0),o>=100&&(o=100),this.chance(o)}shuffle(t){let e,n,o=t.length;for(;--o>0;)n=this.int(0,o),e=t[o],t[o]=t[n],t[n]=e;return t}weighted(t,e){if(t.length!==e.length)throw new RangeError("Chance: Length of array and odds must match");let n,o=0;for(let t=0;t<e.length;++t){if(n=e[t],isNaN(n))throw new RangeError("Chance: All weights must be numbers");n>0&&(o+=n)}if(0===o)throw new RangeError("Chance: No valid entries in array odds");const l=this.random()*o;let r,i=0,s=-1;for(let t=0;t<e.length;++t){if(n=e[t],i+=n,n>0){if(l<=i){r=t;break}s=t}t===e.length-1&&(r=s)}return t[r]}randinterval(t,e,n){return t==e?t:e<t?this.randinterval(e,t,n):t<0||e<1?this.rand(e-t+(n?1:0))+t:t+this.rand(e-t+(n?1:0))}rand(t){return(t<=0||t>this.intMax)&&console.error("n out of (0, INT_MAX]"),Math.floor(this.random()*t)}}function jt(e){return{c:t,m:t,d:t}}function zt(t){let e,n,o,l,r,i=t[3].diceToMove+"";return{c(){e=k("pre"),n=b("it's a "),o=k("em"),l=b(i),r=b("!")},m(t,i){y(t,e,i),g(e,n),g(e,o),g(o,l),g(e,r)},p(t,e){8&e&&i!==(i=t[3].diceToMove+"")&&T(l,i)},d(t){t&&$(e)}}}function Wt(t){let e,n,o,l,s;return{c(){e=k("button"),e.textContent="ROLL",n=x(),o=k("button"),o.textContent="PASS"},m(r,c){y(r,e,c),y(r,n,c),y(r,o,c),l||(s=[A(e,"click",t[1]),A(o,"click",(function(){i(t[0])&&t[0].apply(this,arguments)}))],l=!0)},p(e,n){t=e},d(t){t&&$(e),t&&$(n),t&&$(o),l=!1,r(s)}}}function Gt(e){let n,o,l;return{c(){n=k("button"),n.textContent="RESTART"},m(t,r){y(t,n,r),o||(l=A(n,"click",e[5]),o=!0)},p:t,d(t){t&&$(n),o=!1,l()}}}function Xt(e){let n,o,l,r,i,s,c,a,d,u,f,p,h,m,w,v,_,A,P=e[3].round+"",L=e[3].rolled?`<em data-player="${e[2]}">Player ${e[2]}</em> rolled the Dices`:`<em data-player="${e[2]}">Player ${e[2]}</em> hasn't rolled yet.`,N=e[3].status+"",S=!Boolean(e[3].played)&&Boolean(e[3].rolled),B=e[3].rolled&&jt(),E=S&&zt(e);function O(t,e){return t[4].won?Gt:Wt}let R=O(e),D=R(e);return{c(){n=k("div"),o=k("pre"),l=b("Round:"),r=k("em"),i=b(P),s=b("\nit's "),c=k("em"),a=b("Player "),d=b(e[2]),u=b("'s turn\n\n\n"),p=b("\n\n"),m=x(),w=k("div"),B&&B.c(),v=x(),E&&E.c(),_=x(),A=k("div"),D.c(),M(c,"data-player",e[2]),f=new C(p),h=new C(null),M(n,"class","status"),M(w,"class","dices"),M(A,"class","command")},m(t,e){y(t,n,e),g(n,o),g(o,l),g(o,r),g(r,i),g(o,s),g(o,c),g(c,a),g(c,d),g(o,u),f.m(L,o),g(o,p),h.m(N,o),y(t,m,e),y(t,w,e),B&&B.m(w,null),g(w,v),E&&E.m(w,null),y(t,_,e),y(t,A,e),D.m(A,null)},p(t,[e]){8&e&&P!==(P=t[3].round+"")&&T(i,P),4&e&&T(d,t[2]),4&e&&M(c,"data-player",t[2]),12&e&&L!==(L=t[3].rolled?`<em data-player="${t[2]}">Player ${t[2]}</em> rolled the Dices`:`<em data-player="${t[2]}">Player ${t[2]}</em> hasn't rolled yet.`)&&f.p(L),8&e&&N!==(N=t[3].status+"")&&h.p(N),t[3].rolled?B||(B=jt(),B.c(),B.m(w,v)):B&&(B.d(1),B=null),8&e&&(S=!Boolean(t[3].played)&&Boolean(t[3].rolled)),S?E?E.p(t,e):(E=zt(t),E.c(),E.m(w,null)):E&&(E.d(1),E=null),R===(R=O(t))&&D?D.p(t,e):(D.d(1),D=R(t),D&&(D.c(),D.m(A,null)))},i:t,o:t,d(t){t&&$(n),t&&$(m),t&&$(w),B&&B.d(),E&&E.d(),t&&$(_),t&&$(A),D.d()}}}function Ft(t,e,n){let o,l,r;c(t,bt,t=>n(3,o=t)),c(t,Mt,t=>n(7,l=t)),c(t,xt,t=>n(4,r=t));let i=new It,s=()=>i.int(0,1),{rollAll:d=function(){return[s(),s(),s(),s()]}}=e,{nextTurn:u=function(){a(bt,o={turn:(o.turn+1)%2,rolled:0,played:0,round:o.round+1,status:o.status+"\n...next turn...",dicesArr:[0,0,0,0]}),console.log("NEXT TURN")}}=e;const f=(t,e)=>t+e;let p;a(bt,o.dicesArr=[0,0,0,0],o),a(bt,o.diceToMove=o.dicesArr.reduce(f),o),a(bt,o.rolled=0,o),a(bt,o.played=0,o);return t.$set=t=>{"rollAll"in t&&n(6,d=t.rollAll),"nextTurn"in t&&n(0,u=t.nextTurn)},t.$$.update=()=>{8&t.$$.dirty&&n(2,p=o.turn+1)},[u,function(){0==o.rolled&&0==o.played?(a(bt,o.dicesArr=d(),o),a(bt,o.diceToMove=o.dicesArr.reduce(f),o),a(bt,o.rolled=1,o),a(bt,o.status=`\nPlayer <em>${p}</em> just rolled: <em>${o.diceToMove}</em>`,o),0===o.diceToMove&&setTimeout(()=>{u()},1e3)):a(bt,o.status+="\nDice is already rolled, you can not roll again.",o)},p,o,r,function(){a(Mt,l=[[{loc:0,p:1,id:1},{loc:0,p:1,id:2},{loc:0,p:1,id:3},{loc:0,p:1,id:4},{loc:0,p:1,id:5},{loc:0,p:1,id:6},{loc:0,p:1,id:7}],[{loc:0,p:2,id:1},{loc:0,p:2,id:2},{loc:0,p:2,id:3},{loc:0,p:2,id:4},{loc:0,p:2,id:5},{loc:0,p:2,id:6},{loc:0,p:2,id:7}]]),a(bt,o={round:1,turn:r.won%2,status:"",dicesArr:[0,0,0,0],played:0,rolled:0}),a(xt,r={points:[],won:null})},d]}class Yt extends wt{constructor(t){super(),$t(this,t,Ft,Xt,s,{rollAll:6,nextTurn:0,roll:1})}get roll(){return this.$$.ctx[1]}}const{setTimeout:Jt,window:Kt}=ut;function Qt(t,e,n){const o=t.slice();return o[38]=e[n],o}function te(t,e,n){const o=t.slice();return o[38]=e[n],o[51]=n,o}function ee(t,e,n){const o=t.slice();return o[47]=e[n],o[49]=n,o}function ne(t,e,n){const o=t.slice();return o[44]=e[n],o[46]=n,o}function oe(t,e,n){const o=t.slice();return o[41]=e[n],o[43]=n,o}function le(t,e,n){const o=t.slice();return o[38]=e[n],o}function re(e,n){let o,l,r,i,s,c,a,d,u,f=n[38].id+"",p=t;return{key:e,first:null,c(){o=k("div"),l=b(f),r=x(),M(o,"class","pawn"),M(o,"data-owner",i=n[38].p),M(o,"data-pawnname",s=n[38].id),this.first=o},m(t,e){y(t,o,e),g(o,l),g(o,r),u=!0},p(t,e){(!u||1024&e[0])&&f!==(f=t[38].id+"")&&T(l,f),(!u||1024&e[0]&&i!==(i=t[38].p))&&M(o,"data-owner",i),(!u||1024&e[0]&&s!==(s=t[38].id))&&M(o,"data-pawnname",s)},r(){d=o.getBoundingClientRect()},f(){U(o),p(),V(o,d)},a(){p(),p=D(o,d,Nt,{})},i(t){u||(X(()=>{a&&a.end(1),c||(c=at(o,n[14],{key:n[38].key})),c.start()}),u=!0)},o(t){c&&c.invalidate(),a=dt(o,n[13],{key:n[38].key}),u=!1},d(t){t&&$(o),t&&a&&a.end()}}}function ie(t){let e,n,o,l,r,i,s,c,a,d=t[10],u=[];for(let e=0;e<d.length;e+=1)u[e]=de(ee(t,d,e));const f=t=>st(u[t],1,1,()=>{u[t]=null});return{c(){e=k("td");for(let t=0;t<u.length;t+=1)u[t].c();M(e,"data-col",n=t[46]),M(e,"data-row",o=t[43]),M(e,"data-order",l=t[44][t[43]]),M(e,"data-celltype",r=t[15](t[44][t[43]])),M(e,"class",i=t[16](t[44][t[43]]))},m(n,o){y(n,e,o);for(let t=0;t<u.length;t+=1)u[t].m(e,null);s=!0,c||(a=A(e,"click",t[23]),c=!0)},p(t,n){if(35840&n[0]){let o;for(d=t[10],o=0;o<d.length;o+=1){const l=ee(t,d,o);u[o]?(u[o].p(l,n),it(u[o],1)):(u[o]=de(l),u[o].c(),it(u[o],1),u[o].m(e,null))}for(lt(),o=d.length;o<u.length;o+=1)f(o);rt()}(!s||2048&n[0]&&l!==(l=t[44][t[43]]))&&M(e,"data-order",l),(!s||2048&n[0]&&r!==(r=t[15](t[44][t[43]])))&&M(e,"data-celltype",r),(!s||2048&n[0]&&i!==(i=t[16](t[44][t[43]])))&&M(e,"class",i)},i(t){if(!s){for(let t=0;t<d.length;t+=1)it(u[t]);s=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)st(u[t]);s=!1},d(t){t&&$(e),w(u,t),c=!1,a()}}}function se(e){let n;return{c(){n=k("td"),M(n,"class","none")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}function ce(e){let n,o,l;return o=new Bt({props:{col:e[46]}}),{c(){n=k("td"),ht(o.$$.fragment),M(n,"class","none")},m(t,e){y(t,n,e),mt(o,n,null),l=!0},p:t,i(t){l||(it(o.$$.fragment,t),l=!0)},o(t){st(o.$$.fragment,t),l=!1},d(t){t&&$(n),gt(o)}}}function ae(t){let e,n,o,l,r,i,s,c=t[38].id+"";return{c(){e=k("div"),n=b(c),M(e,"class","pawn"),M(e,"data-owner",o=t[38].p),M(e,"data-pawnname",l=t[38].id)},m(t,o){y(t,e,o),g(e,n),s=!0},p(t,r){(!s||3072&r[0])&&c!==(c=t[38].id+"")&&T(n,c),(!s||3072&r[0]&&o!==(o=t[38].p))&&M(e,"data-owner",o),(!s||3072&r[0]&&l!==(l=t[38].id))&&M(e,"data-pawnname",l)},i(n){s||(X(()=>{i&&i.end(1),r||(r=at(e,t[14],{key:t[38].key})),r.start()}),s=!0)},o(n){r&&r.invalidate(),i=dt(e,t[13],{key:t[38].key}),s=!1},d(t){t&&$(e),t&&i&&i.end()}}}function de(t){let e,n;function o(...e){return t[22](t[44],t[43],t[46],t[49],...e)}let l=t[47].filter(o),r=[];for(let e=0;e<l.length;e+=1)r[e]=ae(te(t,l,e));const i=t=>st(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=_()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);y(t,e,o),n=!0},p(n,s){if(t=n,35840&s[0]){let n;for(l=t[47].filter(o),n=0;n<l.length;n+=1){const o=te(t,l,n);r[n]?(r[n].p(o,s),it(r[n],1)):(r[n]=ae(o),r[n].c(),it(r[n],1),r[n].m(e.parentNode,e))}for(lt(),n=l.length;n<r.length;n+=1)i(n);rt()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)it(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)st(r[t]);n=!1},d(t){w(r,t),t&&$(e)}}}function ue(t){let e,n,o,l;const r=[ce,se,ie],i=[];function s(t,e){return"15"==t[44][t[43]]?0:"0"==t[44][t[43]]?1:2}return e=s(t),n=i[e]=r[e](t),{c(){n.c(),o=_()},m(t,n){i[e].m(t,n),y(t,o,n),l=!0},p(t,l){let c=e;e=s(t),e===c?i[e].p(t,l):(lt(),st(i[c],1,1,()=>{i[c]=null}),rt(),n=i[e],n||(n=i[e]=r[e](t),n.c()),it(n,1),n.m(o.parentNode,o))},i(t){l||(it(n),l=!0)},o(t){st(n),l=!1},d(t){i[e].d(t),t&&$(o)}}}function fe(t){let e,n,o,l=t[11][0].col,r=[];for(let e=0;e<l.length;e+=1)r[e]=ue(ne(t,l,e));const i=t=>st(r[t],1,1,()=>{r[t]=null});return{c(){e=k("tr");for(let t=0;t<r.length;t+=1)r[t].c();n=x()},m(t,l){y(t,e,l);for(let t=0;t<r.length;t+=1)r[t].m(e,null);g(e,n),o=!0},p(t,o){if(232448&o[0]){let s;for(l=t[11][0].col,s=0;s<l.length;s+=1){const i=ne(t,l,s);r[s]?(r[s].p(i,o),it(r[s],1)):(r[s]=ue(i),r[s].c(),it(r[s],1),r[s].m(e,n))}for(lt(),s=l.length;s<r.length;s+=1)i(s);rt()}},i(t){if(!o){for(let t=0;t<l.length;t+=1)it(r[t]);o=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)st(r[t]);o=!1},d(t){t&&$(e),w(r,t)}}}function pe(e,n){let o,l,r,i,s,c,a,d,u,f=n[38].id+"",p=t;return{key:e,first:null,c(){o=k("div"),l=b(f),r=x(),M(o,"class","pawn"),M(o,"data-owner",i=n[38].p),M(o,"data-pawnname",s=n[38].id),this.first=o},m(t,e){y(t,o,e),g(o,l),g(o,r),u=!0},p(t,e){(!u||1024&e[0])&&f!==(f=t[38].id+"")&&T(l,f),(!u||1024&e[0]&&i!==(i=t[38].p))&&M(o,"data-owner",i),(!u||1024&e[0]&&s!==(s=t[38].id))&&M(o,"data-pawnname",s)},r(){d=o.getBoundingClientRect()},f(){U(o),p(),V(o,d)},a(){p(),p=D(o,d,Nt,{})},i(t){u||(X(()=>{a&&a.end(1),c||(c=at(o,n[14],{key:n[38].key})),c.start()}),u=!0)},o(t){c&&c.invalidate(),a=dt(o,n[13],{key:n[38].key}),u=!1},d(t){t&&$(o),t&&a&&a.end()}}}function he(t){let e,n;return e=new Ht({props:{dicesArr:t[9].dicesArr,moveToDeck:!0,rolled:t[9].rolled,pos:t[1]}}),e.$on("click",(function(){i(t[0].roll)&&t[0].roll.apply(this,arguments)})),{c(){ht(e.$$.fragment)},m(t,o){mt(e,t,o),n=!0},p(n,o){t=n;const l={};512&o[0]&&(l.dicesArr=t[9].dicesArr),512&o[0]&&(l.rolled=t[9].rolled),2&o[0]&&(l.pos=t[1]),e.$set(l)},i(t){n||(it(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){gt(e,t)}}}function me(t){let e,n,o,l,i,s,c,a,d,u,f,p,h,m,v,b,T,P,C,S,B,E,O,R,D=!1,U=()=>{D=!1},V=[],Z=new Map,q=[],H=new Map;X(t[18]),X(t[19]),l=new Ht({props:{dicesArr:t[9].dicesArr,moveToDeck:!1,rolled:t[9].rolled}});let I=t[10][0].filter(ye);const j=t=>t[38].id;for(let e=0;e<I.length;e+=1){let n=le(t,I,e),o=j(n);Z.set(o,V[e]=re(o,n))}let z=t[11][0].col[0],W=[];for(let e=0;e<z.length;e+=1)W[e]=fe(oe(t,z,e));const G=t=>st(W[t],1,1,()=>{W[t]=null});let F=t[10][1].filter($e);const Y=t=>t[38].id;for(let e=0;e<F.length;e+=1){let n=Qt(t,F,e),o=Y(n);H.set(o,q[e]=pe(o,n))}C=new Yt({props:{}}),t[26](C);let J=!t[12].won&&he(t);return{c(){n=k("div"),o=k("div"),ht(l.$$.fragment),i=x(),s=k("div"),c=k("div");for(let t=0;t<V.length;t+=1)V[t].c();a=x(),d=k("div"),f=x(),p=k("table");for(let t=0;t<W.length;t+=1)W[t].c();h=x(),m=k("div"),v=k("div");for(let t=0;t<q.length;t+=1)q[t].c();b=x(),T=k("div"),P=x(),ht(C.$$.fragment),S=x(),J&&J.c(),B=_(),M(o,"class","ghostlayer"),N(o,"ghVisible",1===t[9].rolled),M(c,"class","pawns pawns1"),M(d,"class","tetra-dices"),X(()=>t[21].call(d)),N(d,"active",0===t[9].turn),M(s,"class","deck deck1"),M(v,"class","pawns pawns2"),M(T,"class","tetra-dices"),N(T,"active",1===t[9].turn),M(m,"class","deck deck2"),M(n,"class","board"),N(n,"fadeAlittle",1===t[9].rolled)},m(r,w){y(r,n,w),g(n,o),mt(l,o,null),g(n,i),g(n,s),g(s,c);for(let t=0;t<V.length;t+=1)V[t].m(c,null);g(s,a),g(s,d),u=function(t,e){const n=getComputedStyle(t),o=(parseInt(n.zIndex)||0)-1;"static"===n.position&&(t.style.position="relative");const l=k("iframe");l.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${o};`),l.setAttribute("aria-hidden","true"),l.tabIndex=-1;const r=L();let i;return r?(l.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=A(window,"message",t=>{t.source===l.contentWindow&&e()})):(l.src="about:blank",l.onload=()=>{i=A(l.contentWindow,"resize",e)}),g(t,l),()=>{(r||i&&l.contentWindow)&&i(),$(l)}}(d,t[21].bind(d)),g(n,f),g(n,p);for(let t=0;t<W.length;t+=1)W[t].m(p,null);g(n,h),g(n,m),g(m,v);for(let t=0;t<q.length;t+=1)q[t].m(v,null);g(m,b),g(m,T),t[25](n),y(r,P,w),mt(C,r,w),y(r,S,w),J&&J.m(r,w),y(r,B,w),E=!0,O||(R=[A(Kt,"scroll",()=>{D=!0,clearTimeout(e),e=Jt(U,100),t[18]()}),A(Kt,"resize",t[19]),A(c,"click",t[20]),A(v,"click",t[24])],O=!0)},p(t,r){12&r[0]&&!D&&(D=!0,clearTimeout(e),scrollTo(t[2],t[3]),e=Jt(U,100));const i={};if(512&r[0]&&(i.dicesArr=t[9].dicesArr),512&r[0]&&(i.rolled=t[9].rolled),l.$set(i),512&r[0]&&N(o,"ghVisible",1===t[9].rolled),1024&r[0]){const e=t[10][0].filter(ye);lt();for(let t=0;t<V.length;t+=1)V[t].r();V=pt(V,r,j,1,t,e,Z,c,ft,re,null,le);for(let t=0;t<V.length;t+=1)V[t].a();rt()}if(512&r[0]&&N(d,"active",0===t[9].turn),232448&r[0]){let e;for(z=t[11][0].col[0],e=0;e<z.length;e+=1){const n=oe(t,z,e);W[e]?(W[e].p(n,r),it(W[e],1)):(W[e]=fe(n),W[e].c(),it(W[e],1),W[e].m(p,null))}for(lt(),e=z.length;e<W.length;e+=1)G(e);rt()}if(1024&r[0]){const e=t[10][1].filter($e);lt();for(let t=0;t<q.length;t+=1)q[t].r();q=pt(q,r,Y,1,t,e,H,v,ft,pe,null,Qt);for(let t=0;t<q.length;t+=1)q[t].a();rt()}512&r[0]&&N(T,"active",1===t[9].turn),512&r[0]&&N(n,"fadeAlittle",1===t[9].rolled);C.$set({}),t[12].won?J&&(lt(),st(J,1,1,()=>{J=null}),rt()):J?(J.p(t,r),4096&r[0]&&it(J,1)):(J=he(t),J.c(),it(J,1),J.m(B.parentNode,B))},i(t){if(!E){it(l.$$.fragment,t);for(let t=0;t<I.length;t+=1)it(V[t]);for(let t=0;t<z.length;t+=1)it(W[t]);for(let t=0;t<F.length;t+=1)it(q[t]);it(C.$$.fragment,t),it(J),E=!0}},o(t){st(l.$$.fragment,t);for(let t=0;t<V.length;t+=1)st(V[t]);W=W.filter(Boolean);for(let t=0;t<W.length;t+=1)st(W[t]);for(let t=0;t<q.length;t+=1)st(q[t]);st(C.$$.fragment,t),st(J),E=!1},d(e){e&&$(n),gt(l);for(let t=0;t<V.length;t+=1)V[t].d();u(),w(W,e);for(let t=0;t<q.length;t+=1)q[t].d();t[25](null),e&&$(P),t[26](null),gt(C,e),e&&$(S),J&&J.d(e),e&&$(B),O=!1,r(R)}}}function ge(t){const e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY}}const ye=t=>0===t.loc,$e=t=>0===t.loc;function we(t,e,n){let o,l,r,i,s;c(t,bt,t=>n(9,o=t)),c(t,Mt,t=>n(10,l=t)),c(t,_t,t=>n(11,r=t)),c(t,xt,t=>n(12,i=t));const[d,u]=Lt({duration:t=>Math.sqrt(200*t),fallback(t,e){const n=getComputedStyle(t),o="none"===n.transform?"":n.transform;return{duration:600,easing:Pt,css:t=>`\n\t\t\t\t\ttransform: ${o} scale(${t});\n\t\t\t\t\topacity: ${t}\n\t\t\t\t`}}});let f,p,h,m,g,y,$,w,k,v=function(t){return t<5||12<t?"safe":"combat"},b=function(t){return 1==o.rolled&&0==o.played&&T==t},x=function(t=!1){a(bt,o={turn:(o.turn+(t?0:1))%2,rolled:0,played:0,round:o.round+1,status:o.status+"\n...next turn...",dicesArr:[0,0,0,0]}),bt.set(o),console.log("NEXT TURN")},_=function(t,e,n){let r=t-1;if(console.log(b(t)?t+" may play":t+" may not play"),b(t)){let n;const i=l[r].findIndex(t=>t.id===Number(e)),s=l[r][i],c=s.loc+o.diceToMove;let d,u,f;console.log(c,t,s.id,s.loc);let p,h,m,g=!0;"safe"===v(c)?(n=Number(1==t?0:2),console.log("check col",n),15===c?(s.loc=15,a(bt,o.status=`<em>Player ${t}'s</em> Pawn <em>${s.id}</em> made it!.\n1 Point for <em>Player ${t}!</em>`,o)):c>15?(g=!1,a(bt,o.status="You should land exactly onto the New Home\nIf you can't move otherwise you should <code>Pass</code>",o)):0===c?a(bt,o.status="This message shouldn't appear. Case is checked in Dice.svelte",o):(d=l[r].find(t=>t.loc===c),p=null!=d,p&&a(bt,o.status=`<em>Player ${t}'s </em> own pawn is there. \nIf you can't move otherwise you should <code>Pass</code>`,o))):(n=1,f=l[(r+1)%2].find(t=>t.loc===c),m=null!=f,m&&a(bt,o.status=`Opponent <em>Player ${(r+1)%2+1}'s </em> pawn is there.`,o),u=l[r].find(t=>t.loc===c),h=null!=u,h&&a(bt,o.status+=`\n<em>Player ${t}'s </em> own pawn is there.`,o)),console.log("that cell",n,c),d||u||m||!g?m&&(8===c?a(bt,o.status+=`\nPlayer <em>${f.p}</em>'s Pawn #<em>${f.id}</em> is Safe!\nTry another move!`,o):(a(bt,o.status+="Send 'em Home!",o),a(bt,o.status+=`\nPlayer <em>${f.p}</em>'s Pawn #<em>${f.id}</em> going back Home `,o),f.loc=0,a(Mt,l[r][i].loc=c,l),a(bt,o.played=1,o),x())):(console.log("MOVING PAWN"),a(bt,o.status+=`\nPlayer <em data-player="${T}">${T}</em>'s Pawn #<em data-player="${T}">${s.id}</em> moving to square <em>${c}</em>`,o),8===c&&a(bt,o.status+="\nPawn is now <em>Untouchable</em>!",o),8!==c&&4!==c||a(bt,o.status+=`\n<em data-player="${T}">${T} gets to play again!</em>`,o),a(Mt,l[r][i].loc=c,l),a(bt,o.played=1,o),x(8===c||4===c))}else a(bt,o.status+=void 0!==t?`\nit's not Player <em>${t}</em>'s turn!.`:"\nno pawns there!",o)},A=t=>[...new Set(t)],M=!1;q(()=>{n(27,M=!0)}),p={top:null,left:null,width:null,height:null};let T;return t.$$.update=()=>{512&t.$$.dirty[0]&&(T=o.turn+1),512&t.$$.dirty[0]&&n(28,f=document.querySelector(`.deck${o.turn+1} .tetra-dices`)),268435504&t.$$.dirty[0]&&(n(1,p.left=f?ge(f).left:{},p),n(1,p.top=f?ge(f).top:{},p)),192&t.$$.dirty[0]&&(n(1,p.width=w,p),n(1,p.height=$,p)),268435458&t.$$.dirty[0]&&(p?p.left:({}=f?ge(f).left:void 0)),268435458&t.$$.dirty[0]&&(p?p.top:({}=f?ge(f).top:void 0)),t.$$.dirty[0],512&t.$$.dirty[0]&&1===o.rolled&&(function(t,e){let n=l[t].map(t=>t.loc+e).filter(t=>t<16),o=A(n),r=A([...l[t]].map(t=>t.loc).filter(t=>0<t&&t<15)),i=A([...l[(t+1)%2]].map(t=>t.loc).filter(t=>8===t));A([...l[0],...l[1]].map(t=>t.loc).filter(t=>4<t&&t<13));return o.filter(t=>!r.includes(t)&&!i.includes(t)).length>0}(o.turn,o.diceToMove)||setTimeout(()=>{x()},1e3))},[s,p,h,m,g,y,$,w,k,o,l,r,i,d,u,v,function(t){return 8===t||4===t?"special":""},_,function(){n(3,m=Kt.pageYOffset),n(2,h=Kt.pageXOffset)},function(){n(4,g=Kt.innerWidth),n(5,y=Kt.innerHeight)},t=>_(t.target.dataset.owner,t.target.dataset.pawnname,t.target),function(){w=this.offsetWidth,$=this.offsetHeight,n(7,w),n(6,$)},(t,e,n,o,l)=>l.loc===t[e]&&("safe"!==v(l.loc)||n===(0===o?0:2)),t=>_(t.target.dataset.owner,t.target.dataset.pawnname,t.target),t=>_(t.target.dataset.owner,t.target.dataset.pawnname,t.target),function(t){I[t?"unshift":"push"](()=>{k=t,n(8,k)})},function(t){I[t?"unshift":"push"](()=>{s=t,n(0,s)})}]}class ke extends wt{constructor(t){super(),$t(this,t,we,me,s,{},[-1,-1])}}function ve(e){let n,o,l;return o=new ke({}),{c(){n=k("main"),ht(o.$$.fragment)},m(t,e){y(t,n,e),mt(o,n,null),l=!0},p:t,i(t){l||(it(o.$$.fragment,t),l=!0)},o(t){st(o.$$.fragment,t),l=!1},d(t){t&&$(n),gt(o)}}}function be(t,e,n){let o,l,r;return c(t,bt,t=>n(0,o=t)),c(t,Mt,t=>n(1,l=t)),c(t,xt,t=>n(2,r=t)),t.$$.update=()=>{1&t.$$.dirty&&console.log("gamestate:",o),2&t.$$.dirty&&console.log("pawns:",l),4&t.$$.dirty&&console.log("game",r)},[]}return new class extends wt{constructor(t){super(),$t(this,t,be,ve,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
