var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function l(){return Object.create(null)}function r(t){t.forEach(o)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function c(t){let e;return a(t,t=>e=t)(),e}function u(t,e,n){t.$$.on_destroy.push(a(e,n))}function d(t,e,n=e){return t.set(n),e}const f="undefined"!=typeof window;let p=f?()=>window.performance.now():()=>Date.now(),h=f?t=>requestAnimationFrame(t):t;const m=new Set;function g(t){m.forEach(e=>{e.c(t)||(m.delete(e),e.f())}),0!==m.size&&h(g)}function y(t){let e;return 0===m.size&&h(g),{promise:new Promise(n=>{m.add(e={c:t,f:n})}),abort(){m.delete(e)}}}function w(t,e){t.appendChild(e)}function $(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function x(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function M(t){return document.createTextNode(t)}function _(){return M(" ")}function S(){return M("")}function T(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let N;function L(){if(void 0===N){N=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){N=!0}}return N}function P(t,e,n){t.classList[n?"add":"remove"](e)}class O{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=k(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)$(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(v)}}const E=new Set;let R,B=0;function D(t,e,n,o,l,r,i,s=0){const a=16.666/o;let c="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*r(t);c+=100*t+`%{${i(o,1-o)}}\n`}const u=c+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${s}`,f=t.ownerDocument;E.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(k("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?m+", ":""}${d} ${o}ms linear ${l}ms 1 both`,B+=1,d}function j(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),l=n.length-o.length;l&&(t.style.animation=o.join(", "),B-=l,B||h(()=>{B||(E.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),E.clear())}))}function U(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const o=getComputedStyle(t),l="none"===o.transform?"":o.transform;t.style.transform=`${l} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}function G(t){R=t}function I(t){(function(){if(!R)throw new Error("Function called outside component initialization");return R})().$$.on_mount.push(t)}const V=[],Z=[],q=[],H=[],W=Promise.resolve();let F=!1;function z(t){q.push(t)}let Y=!1;const X=new Set;function J(){if(!Y){Y=!0;do{for(let t=0;t<V.length;t+=1){const e=V[t];G(e),K(e.$$)}for(V.length=0;Z.length;)Z.pop()();for(let t=0;t<q.length;t+=1){const e=q[t];X.has(e)||(X.add(e),e())}q.length=0}while(V.length);for(;H.length;)H.pop()();F=!1,Y=!1,X.clear()}}function K(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}let Q;function tt(){return Q||(Q=Promise.resolve(),Q.then(()=>{Q=null})),Q}function et(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const nt=new Set;let ot;function lt(){ot={r:0,c:[],p:ot}}function rt(){ot.r||r(ot.c),ot=ot.p}function it(t,e){t&&t.i&&(nt.delete(t),t.i(e))}function st(t,e,n,o){if(t&&t.o){if(nt.has(t))return;nt.add(t),ot.c.push(()=>{nt.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const at={duration:0};function ct(n,o,l){let r,s,a=o(n,l),c=!1,u=0;function d(){r&&j(n,r)}function f(){const{delay:o=0,duration:l=300,easing:i=e,tick:f=t,css:h}=a||at;h&&(r=D(n,0,1,l,o,i,h,u++)),f(0,1);const m=p()+o,g=m+l;s&&s.abort(),c=!0,z(()=>et(n,!0,"start")),s=y(t=>{if(c){if(t>=g)return f(1,0),et(n,!0,"end"),d(),c=!1;if(t>=m){const e=i((t-m)/l);f(e,1-e)}}return c})}let h=!1;return{start(){h||(j(n),i(a)?(a=a(),tt().then(f)):f())},invalidate(){h=!1},end(){c&&(d(),c=!1)}}}function ut(n,o,l){let s,a=o(n,l),c=!0;const u=ot;function d(){const{delay:o=0,duration:l=300,easing:i=e,tick:d=t,css:f}=a||at;f&&(s=D(n,1,0,l,o,i,f));const h=p()+o,m=h+l;z(()=>et(n,!1,"start")),y(t=>{if(c){if(t>=m)return d(0,1),et(n,!1,"end"),--u.r||r(u.c),!1;if(t>=h){const e=i((t-h)/l);d(1-e,e)}}return c})}return u.r+=1,i(a)?tt().then(()=>{a=a(),d()}):d(),{end(t){t&&a.tick&&a.tick(1,0),c&&(s&&j(n,s),c=!1)}}}const dt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ft(t,e){t.f(),function(t,e){st(t,1,1,()=>{e.delete(t.key)})}(t,e)}function pt(t){t&&t.c()}function ht(t,e,n){const{fragment:l,on_mount:s,on_destroy:a,after_update:c}=t.$$;l&&l.m(e,n),z(()=>{const e=s.map(o).filter(i);a?a.push(...e):r(e),t.$$.on_mount=[]}),c.forEach(z)}function mt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function gt(t,e){-1===t.$$.dirty[0]&&(V.push(t),F||(F=!0,W.then(J)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function yt(e,n,o,i,s,a,c=[-1]){const u=R;G(e);const d=n.props||{},f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:s,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:l(),dirty:c};let p=!1;if(f.ctx=o?o(e,d,(t,n,...o)=>{const l=o.length?o[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=l)&&(f.bound[t]&&f.bound[t](l),p&&gt(e,t)),n}):[],f.update(),p=!0,r(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(v)}else f.fragment&&f.fragment.c();n.intro&&it(e.$$.fragment),ht(e,n.target,n.anchor),J()}G(u)}class wt{$destroy(){mt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const $t=[];function vt(e,n=t){let o;const l=[];function r(t){if(s(e,t)&&(e=t,o)){const t=!$t.length;for(let t=0;t<l.length;t+=1){const n=l[t];n[1](),$t.push(n,e)}if(t){for(let t=0;t<$t.length;t+=2)$t[t][0]($t[t+1]);$t.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(i,s=t){const a=[i,s];return l.push(a),1===l.length&&(o=n(r)||t),i(e),()=>{const t=l.indexOf(a);-1!==t&&l.splice(t,1),0===l.length&&(o(),o=null)}}}}let bt=function(t,e){const n=vt(e),{subscribe:o,set:l}=n,r="undefined"!=typeof localStorage?localStorage.getItem(t):null;return r&&l(JSON.parse(r)),{set(e){"undefined"!=typeof localStorage&&localStorage.setItem(t,JSON.stringify(e)),l(e)},update(t){const e=t(c(n));this.set(e)},subscribe:o}}("localsettings",{helpmode:!0}),kt=vt({round:1,turn:0,rolled:0,status:"",dicesArr:[0,0,0,0],justScored:!1}),xt=vt({points:[],won:null}),Mt=vt([{col:[[0,0,0,0,0,0,0,0],[13,14,15,0,1,2,3,4],[12,11,10,9,8,7,6,5],[13,14,15,0,1,2,3,4],[0,0,0,0,0,0,0,0]]},{col:[[{},{},{},{},{},{},{},{}],[{},{},{},{},{},{},{},{}],[{},{},{},{},{},{},{},{}]]}]),_t=1,St=vt([[{loc:0,p:1,id:1,key:_t++},{loc:0,p:1,id:2,key:_t++},{loc:0,p:1,id:3,key:_t++},{loc:0,p:1,id:4,key:_t++},{loc:0,p:1,id:5,key:_t++},{loc:0,p:1,id:6,key:_t++},{loc:0,p:1,id:7,key:_t++}],[{loc:0,p:2,id:1,key:_t++},{loc:0,p:2,id:2,key:_t++},{loc:0,p:2,id:3,key:_t++},{loc:0,p:2,id:4,key:_t++},{loc:0,p:2,id:5,key:_t++},{loc:0,p:2,id:6,key:_t++},{loc:0,p:2,id:7,key:_t++}]]);function Tt(t){const e=t-1;return e*e*e+1}function At(t){return--t*t*t*t*t+1}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function Ct(t){var{fallback:e}=t,o=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(t);l<o.length;l++)e.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(t,o[l])&&(n[o[l]]=t[o[l]])}return n}(t,["fallback"]);const l=new Map,r=new Map;function s(t,l,r){return(s,a)=>(t.set(a.key,{rect:s.getBoundingClientRect()}),()=>{if(l.has(a.key)){const{rect:t}=l.get(a.key);return l.delete(a.key),function(t,e,l){const{delay:r=0,duration:s=(t=>30*Math.sqrt(t)),easing:a=Tt}=n(n({},o),l),c=e.getBoundingClientRect(),u=t.left-c.left,d=t.top-c.top,f=t.width/c.width,p=t.height/c.height,h=Math.sqrt(u*u+d*d),m=getComputedStyle(e),g="none"===m.transform?"":m.transform,y=+m.opacity;return{delay:r,duration:i(s)?s(h):s,easing:a,css:(t,e)=>`\n\t\t\t\topacity: ${t*y};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${g} translate(${e*u}px,${e*d}px) scale(${t+(1-t)*f}, ${t+(1-t)*p});\n\t\t\t`}}(t,s,a)}return t.delete(a.key),e&&e(s,a,r)})}return[s(r,l,!1),s(l,r,!0)]}function Nt(t,e,n){const o=getComputedStyle(t),l="none"===o.transform?"":o.transform,r=e.from.width/t.clientWidth,s=e.from.height/t.clientHeight,a=(e.from.left-e.to.left)/r,c=(e.from.top-e.to.top)/s,u=Math.sqrt(a*a+c*c),{delay:d=0,duration:f=(t=>120*Math.sqrt(t)),easing:p=Tt}=n;return{delay:d,duration:i(f)?f(u):f,easing:p,css:(t,e)=>`transform: ${l} translate(${e*a}px, ${e*c}px);`}}function Lt(e){let n,o;return{c(){n=k("div"),o=M(e[1]),A(n,"class","scoreboard"),A(n,"data-owner",e[0]),P(n,"won",!!e[2].won),P(n,"glowOnce",e[3].justScored&&!e[2].won)},m(t,e){$(t,n,e),w(n,o)},p(t,[e]){2&e&&C(o,t[1]),1&e&&A(n,"data-owner",t[0]),4&e&&P(n,"won",!!t[2].won),12&e&&P(n,"glowOnce",t[3].justScored&&!t[2].won)},i:t,o:t,d(t){t&&v(n)}}}function Pt(t,e,n){let o,l,r;u(t,St,t=>n(7,o=t)),u(t,xt,t=>n(2,l=t)),u(t,kt,t=>n(3,r=t));let i,s,a,c,{col:f}=e;return s=1===f?0:1,i=s+1,t.$set=t=>{"col"in t&&n(4,f=t.col)},t.$$.update=()=>{226&t.$$.dirty&&(n(6,c=o[s].filter(t=>15===t.loc)),n(1,a=c.length),d(xt,l.points[s]=a,l)),37&t.$$.dirty&&7===l.points[s]&&(d(xt,l.won=i,l),d(kt,r.status=`<em class="special">Player ${i} Won!</em>`,r)),8&t.$$.dirty&&console.log("justScored",r.justScored)},[i,a,l,r,f]}class Ot extends wt{constructor(t){super(),yt(this,t,Pt,Lt,s,{col:4})}}class Et{constructor(){this.crypto="function"==typeof window.crypto.getRandomValues,this.intMin=Number.MIN_VALUE,this.intMax=Number.MAX_VALUE}random(){return this.crypto?window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295:Math.random()}bool(){return this.random()<.5}int(t,e){return this.randinterval(t,e,!0)}float(t,e){return t+(e-t)*this.random()}string(t,e){let n="";for(let o=0;o<t;o++)n+=e.charAt(this.int(0,e.length-1));return n}pick(t){return t[this.int(0,t.length-1)]}chance(t){return this.float(0,100)<t}challenge(t,e,n){let o=(n-t)/((e-t)/100);return o<=0&&(o=0),o>=100&&(o=100),this.chance(o)}shuffle(t){let e,n,o=t.length;for(;--o>0;)n=this.int(0,o),e=t[o],t[o]=t[n],t[n]=e;return t}weighted(t,e){if(t.length!==e.length)throw new RangeError("Chance: Length of array and odds must match");let n,o=0;for(let t=0;t<e.length;++t){if(n=e[t],isNaN(n))throw new RangeError("Chance: All weights must be numbers");n>0&&(o+=n)}if(0===o)throw new RangeError("Chance: No valid entries in array odds");const l=this.random()*o;let r,i=0,s=-1;for(let t=0;t<e.length;++t){if(n=e[t],i+=n,n>0){if(l<=i){r=t;break}s=t}t===e.length-1&&(r=s)}return t[r]}randinterval(t,e,n){return t==e?t:e<t?this.randinterval(e,t,n):t<0||e<1?this.rand(e-t+(n?1:0))+t:t+this.rand(e-t+(n?1:0))}rand(t){return(t<=0||t>this.intMax)&&console.error("n out of (0, INT_MAX]"),Math.floor(this.random()*t)}}function Rt(t){let e,n,o,l,r,i,s,a,c,u;return{c(){e=x("g"),n=x("g"),o=x("path"),l=x("path"),r=x("g"),i=x("path"),s=x("path"),a=x("g"),c=x("path"),u=x("path"),A(o,"d","M50 35L62.9904 57.5H37.0096L50 35Z"),A(o,"fill","#7D7D7D"),A(l,"d","M50 35L62.9904 57.5H37.0096L50 35Z"),A(l,"fill","url(#paint2_linear)"),A(n,"class","white-Dice-tri"),A(i,"d","M50 35V50L37.0096 57.5L50 35Z"),A(i,"fill","#F4F4F4"),A(s,"d","M50 35V50L37.0096 57.5L50 35Z"),A(s,"fill","url(#paint3_linear)"),A(r,"class","white-hi"),A(c,"d","M50 35L62.9904 57.5L50 50V35Z"),A(c,"fill","#B9B9B9"),A(u,"d","M50 35L62.9904 57.5L50 50V35Z"),A(u,"fill","url(#paint4_linear)"),A(a,"class","white-low"),A(e,"class","white-top")},m(t,d){$(t,e,d),w(e,n),w(n,o),w(n,l),w(e,r),w(r,i),w(r,s),w(e,a),w(a,c),w(a,u)},d(t){t&&v(e)}}}function Bt(e){let n,o,l,r,i,s,a,c,u,d,f,p,h,m,g,y,b,k,M,_,S,T,C,N,L,P,O=!!e[0]&&1===e[0]&&Rt();return{c(){n=x("svg"),o=x("g"),l=x("g"),r=x("path"),i=x("g"),s=x("path"),a=x("path"),c=x("g"),u=x("path"),d=x("path"),O&&O.c(),f=x("defs"),p=x("linearGradient"),h=x("stop"),m=x("stop"),g=x("linearGradient"),y=x("stop"),b=x("stop"),k=x("linearGradient"),M=x("stop"),_=x("stop"),S=x("linearGradient"),T=x("stop"),C=x("stop"),N=x("linearGradient"),L=x("stop"),P=x("stop"),A(r,"class","Dice-tri"),A(r,"d","M50 0L93.3013 75H6.69873L50 0Z"),A(r,"fill","#0B0B0B"),A(s,"d","M50 0V50L6.69873 75L50 0Z"),A(s,"fill","black"),A(a,"d","M50 0V50L6.69873 75L50 0Z"),A(a,"fill","url(#paint0_linear)"),A(i,"class","black-hi"),A(u,"d","M50 0L93.3013 75L50 50V0Z"),A(u,"fill","#222222"),A(d,"d","M50 0L93.3013 75L50 50V0Z"),A(d,"fill","url(#paint1_linear)"),A(d,"fill-opacity","0.6"),A(c,"class","black-low"),A(l,"class","black-dice"),A(o,"class","Dice-1-000"),A(h,"stop-color","white"),A(m,"offset","0.677083"),A(m,"stop-color","white"),A(m,"stop-opacity","0"),A(p,"id","paint0_linear"),A(p,"x1","-3.5"),A(p,"y1","-13"),A(p,"x2","92"),A(p,"y2","75"),A(p,"gradientUnits","userSpaceOnUse"),A(y,"stop-color","white"),A(b,"offset","0.304651"),A(b,"stop-color","white"),A(b,"stop-opacity","0"),A(g,"id","paint1_linear"),A(g,"x1","39.8013"),A(g,"y1","-13"),A(g,"x2","135.301"),A(g,"y2","75"),A(g,"gradientUnits","userSpaceOnUse"),A(M,"stop-color","white"),A(_,"offset","1"),A(_,"stop-color","white"),A(_,"stop-opacity","0"),A(k,"id","paint2_linear"),A(k,"x1","50"),A(k,"y1","35"),A(k,"x2","50"),A(k,"y2","65"),A(k,"gradientUnits","userSpaceOnUse"),A(T,"stop-color","white"),A(C,"offset","1"),A(C,"stop-color","white"),A(C,"stop-opacity","0"),A(S,"id","paint3_linear"),A(S,"x1","43.5048"),A(S,"y1","35"),A(S,"x2","43.5048"),A(S,"y2","57.5"),A(S,"gradientUnits","userSpaceOnUse"),A(L,"stop-color","white"),A(P,"offset","1"),A(P,"stop-color","white"),A(P,"stop-opacity","0"),A(N,"id","paint4_linear"),A(N,"x1","56.4952"),A(N,"y1","35"),A(N,"x2","56.4952"),A(N,"y2","57.5"),A(N,"gradientUnits","userSpaceOnUse"),A(n,"width","100"),A(n,"height","100"),A(n,"viewBox","0 0 100 77"),A(n,"fill","none"),A(n,"xmlns","http://www.w3.org/2000/svg"),A(n,"class","diceSvg"),A(n,"style",e[1])},m(t,e){$(t,n,e),w(n,o),w(o,l),w(l,r),w(l,i),w(i,s),w(i,a),w(l,c),w(c,u),w(c,d),O&&O.m(o,null),w(n,f),w(f,p),w(p,h),w(p,m),w(f,g),w(g,y),w(g,b),w(f,k),w(k,M),w(k,_),w(f,S),w(S,T),w(S,C),w(f,N),w(N,L),w(N,P)},p(t,[e]){t[0]&&1===t[0]?O||(O=Rt(),O.c(),O.m(o,null)):O&&(O.d(1),O=null),2&e&&A(n,"style",t[1])},i:t,o:t,d(t){t&&v(n),O&&O.d()}}}function Dt(t,e,n){let o,l=new Et,{rolledNum:r=0}=e,{rolled:i=null}=e,s=0;return t.$set=t=>{"rolledNum"in t&&n(0,r=t.rolledNum),"rolled"in t&&n(2,i=t.rolled)},t.$$.update=()=>{if(12&t.$$.dirty)if(i){let t=l.int(-5,5);n(3,s+=t),n(1,o=`transform: rotate(calc(${s} * 360deg));`)}else n(1,o=`transform: rotate(calc(${s} * 360deg));`)},[r,o,i]}class jt extends wt{constructor(t){super(),yt(this,t,Dt,Bt,s,{rolledNum:0,rolled:2})}}function Ut(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function Gt(t){let e,n,o;return e=new jt({props:{rolledNum:t[9],rolled:t[1]}}),{c(){pt(e.$$.fragment),n=_()},m(t,l){ht(e,t,l),$(t,n,l),o=!0},p(t,n){const o={};1&n&&(o.rolledNum=t[9]),2&n&&(o.rolled=t[1]),e.$set(o)},i(t){o||(it(e.$$.fragment,t),o=!0)},o(t){st(e.$$.fragment,t),o=!1},d(t){mt(e,t),t&&v(n)}}}function It(t){let e,n,o,l,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=Gt(Ut(t,r,e));const s=t=>st(i[t],1,1,()=>{i[t]=null});return{c(){e=k("div");for(let t=0;t<i.length;t+=1)i[t].c();A(e,"class","dicesBlock"),A(e,"style",t[2]),P(e,"rolled",t[1]),P(e,"helpglow",t[3].helpmode&&!t[1])},m(r,s){$(r,e,s);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0,o||(l=T(e,"click",t[6]),o=!0)},p(t,[o]){if(3&o){let n;for(r=t[0],n=0;n<r.length;n+=1){const l=Ut(t,r,n);i[n]?(i[n].p(l,o),it(i[n],1)):(i[n]=Gt(l),i[n].c(),it(i[n],1),i[n].m(e,null))}for(lt(),n=r.length;n<i.length;n+=1)s(n);rt()}(!n||4&o)&&A(e,"style",t[2]),2&o&&P(e,"rolled",t[1]),10&o&&P(e,"helpglow",t[3].helpmode&&!t[1])},i(t){if(!n){for(let t=0;t<r.length;t+=1)it(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)st(i[t]);n=!1},d(t){t&&v(e),b(i,t),o=!1,l()}}}function Vt(t,e,n){let o;u(t,bt,t=>n(3,o=t));const[l,r]=Ct({duration:t=>Math.sqrt(200*t),fallback(t,e){const n=getComputedStyle(t),o="none"===n.transform?"":n.transform;return{duration:600,easing:At,css:t=>`\n\t\t\t\t\ttransform: ${o} scale(${t});\n\t\t\t\t\topacity: ${t}\n\t\t\t\t`}}});let{dicesArr:i=[0,0,0,0]}=e,{rolled:s=0}=e,{pos:a={left:0,top:0,width:0,height:0}}=e,{moveToDeck:c}=e,d="";return t.$set=t=>{"dicesArr"in t&&n(0,i=t.dicesArr),"rolled"in t&&n(1,s=t.rolled),"pos"in t&&n(4,a=t.pos),"moveToDeck"in t&&n(5,c=t.moveToDeck)},t.$$.update=()=>{48&t.$$.dirty&&n(2,d=c?`position: absolute; top: ${a.top}px; left: ${a.left}px; width: ${a.width}px; height: ${a.height}px;`:"")},[i,s,d,o,a,c,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}(t,e)}]}class Zt extends wt{constructor(t){super(),yt(this,t,Vt,It,s,{dicesArr:0,rolled:1,pos:4,moveToDeck:5})}}function qt(e){let n,o,l,r,i,s,a,c,u,d,f,p,h=e[0].won+"";return{c(){n=k("div"),o=k("p"),l=M("Player "),r=M(h),i=M(" won!"),a=_(),c=k("button"),c.textContent="RESTART",u=_(),d=k("p"),A(o,"data-owner",s=e[0].won),A(n,"class","command fullscreen"),P(n,"visible",e[0].won)},m(t,s){$(t,n,s),w(n,o),w(o,l),w(o,r),w(o,i),w(n,a),w(n,c),w(n,u),w(n,d),f||(p=T(c,"click",e[1]),f=!0)},p(t,[e]){1&e&&h!==(h=t[0].won+"")&&C(r,h),1&e&&s!==(s=t[0].won)&&A(o,"data-owner",s),1&e&&P(n,"visible",t[0].won)},i:t,o:t,d(t){t&&v(n),f=!1,p()}}}function Ht(t,e,n){let o,l,r;u(t,kt,t=>n(6,o=t)),u(t,St,t=>n(7,l=t)),u(t,xt,t=>n(0,r=t));let i=new Et,s=()=>i.int(0,1),{rollAll:a=function(){return[s(),s(),s(),s()]}}=e,{nextTurn:c=function(){d(kt,o={turn:(o.turn+1)%2,rolled:0,played:0,round:o.round+1,status:o.status+"\n...next turn...",dicesArr:[0,0,0,0],justScored:!1}),console.log("NEXT TURN")}}=e;const f=(t,e)=>t+e;let p;d(kt,o.dicesArr=[0,0,0,0],o),d(kt,o.diceToMove=o.dicesArr.reduce(f),o),d(kt,o.rolled=0,o),d(kt,o.played=0,o);return t.$set=t=>{"rollAll"in t&&n(2,a=t.rollAll),"nextTurn"in t&&n(3,c=t.nextTurn)},t.$$.update=()=>{64&t.$$.dirty&&(p=o.turn+1)},[r,function(){d(St,l=[[{loc:0,p:1,id:1},{loc:0,p:1,id:2},{loc:0,p:1,id:3},{loc:0,p:1,id:4},{loc:0,p:1,id:5},{loc:0,p:1,id:6},{loc:0,p:1,id:7}],[{loc:0,p:2,id:1},{loc:0,p:2,id:2},{loc:0,p:2,id:3},{loc:0,p:2,id:4},{loc:0,p:2,id:5},{loc:0,p:2,id:6},{loc:0,p:2,id:7}]]),d(kt,o={round:1,turn:r.won%2,status:"",dicesArr:[0,0,0,0],played:0,rolled:0,settings:o.settings,justScored:!1}),d(xt,r={points:[],won:null})},a,c,function(){0==o.rolled&&0==o.played?(d(kt,o.dicesArr=a(),o),d(kt,o.diceToMove=o.dicesArr.reduce(f),o),d(kt,o.rolled=1,o),d(kt,o.status=`\nPlayer <em>${p}</em> just rolled: <em>${o.diceToMove}</em>`,o),0===o.diceToMove&&setTimeout(()=>{c()},1e3)):d(kt,o.status+="\nDice is already rolled, you can not roll again.",o)}]}class Wt extends wt{constructor(t){super(),yt(this,t,Ht,qt,s,{rollAll:2,nextTurn:3,roll:4})}get roll(){return this.$$.ctx[4]}}const{setTimeout:Ft,window:zt}=dt;function Yt(t,e,n){const o=t.slice();return o[53]=e[n],o[60]=n,o}function Xt(t,e,n){const o=t.slice();return o[56]=e[n],o[58]=n,o}function Jt(t,e,n){const o=t.slice();return o[53]=e[n],o[55]=n,o}function Kt(t,e,n){const o=t.slice();return o[50]=e[n],o[52]=n,o}function Qt(t,e,n){const o=t.slice();return o[47]=e[n],o[49]=n,o}function te(t){let e,n,o,l,r,i,s,a,c,u=t[13],d=[];for(let e=0;e<u.length;e+=1)d[e]=se(Xt(t,u,e));const f=t=>st(d[t],1,1,()=>{d[t]=null});return{c(){e=k("td");for(let t=0;t<d.length;t+=1)d[t].c();A(e,"data-col",n=t[52]),A(e,"data-row",o=t[49]),A(e,"data-order",l=t[50][t[49]]),A(e,"data-celltype",r=t[18](t[50][t[49]])),A(e,"class",i=t[19](t[50][t[49]]))},m(n,o){$(n,e,o);for(let t=0;t<d.length;t+=1)d[t].m(e,null);s=!0,a||(c=T(e,"click",t[29]),a=!0)},p(t,n){if(4486144&n[0]){let o;for(u=t[13],o=0;o<u.length;o+=1){const l=Xt(t,u,o);d[o]?(d[o].p(l,n),it(d[o],1)):(d[o]=se(l),d[o].c(),it(d[o],1),d[o].m(e,null))}for(lt(),o=u.length;o<d.length;o+=1)f(o);rt()}(!s||16384&n[0]&&l!==(l=t[50][t[49]]))&&A(e,"data-order",l),(!s||16384&n[0]&&r!==(r=t[18](t[50][t[49]])))&&A(e,"data-celltype",r),(!s||16384&n[0]&&i!==(i=t[19](t[50][t[49]])))&&A(e,"class",i)},i(t){if(!s){for(let t=0;t<u.length;t+=1)it(d[t]);s=!0}},o(t){d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)st(d[t]);s=!1},d(t){t&&v(e),b(d,t),a=!1,c()}}}function ee(e){let n;return{c(){n=k("td"),A(n,"class","none")},m(t,e){$(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function ne(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function oe(e){let n;function o(t,e){return 0===t[12].turn&&0===t[52]||1===t[12].turn&&4===t[52]?ce:ae}let l=o(e),r=l(e);return{c(){r.c(),n=S()},m(t,e){r.m(t,e),$(t,n,e)},p(t,e){l===(l=o(t))&&r?r.p(t,e):(r.d(1),r=l(t),r&&(r.c(),r.m(n.parentNode,n)))},i:t,o:t,d(t){r.d(t),t&&v(n)}}}function le(t){let e,n,o=(0===t[52]||4===t[52])&&function(t){let e,n,o,l,r,i=[],s=new Map,a=t[13][0===t[52]?0:1].filter(ge);const c=t=>t[53].id;for(let e=0;e<a.length;e+=1){let n=Jt(t,a,e),o=c(n);s.set(o,i[e]=ue(o,n))}return{c(){e=k("div");for(let t=0;t<i.length;t+=1)i[t].c();A(e,"class",n="pawns pawns"+(0===t[52]?1:2))},m(n,s){$(n,e,s);for(let t=0;t<i.length;t+=1)i[t].m(e,null);o=!0,l||(r=T(e,"click",t[25]),l=!0)},p(t,n){if(4207616&n[0]){const o=t[13][0===t[52]?0:1].filter(ge);lt();for(let t=0;t<i.length;t+=1)i[t].r();i=function(t,e,n,o,l,r,i,s,a,c,u,d){let f=t.length,p=r.length,h=f;const m={};for(;h--;)m[t[h].key]=h;const g=[],y=new Map,w=new Map;for(h=p;h--;){const t=d(l,r,h),s=n(t);let a=i.get(s);a?o&&a.p(t,e):(a=c(s,t),a.c()),y.set(s,g[h]=a),s in m&&w.set(s,Math.abs(h-m[s]))}const $=new Set,v=new Set;function b(t){it(t,1),t.m(s,u),i.set(t.key,t),u=t.first,p--}for(;f&&p;){const e=g[p-1],n=t[f-1],o=e.key,l=n.key;e===n?(u=e.first,f--,p--):y.has(l)?!i.has(o)||$.has(o)?b(e):v.has(l)?f--:w.get(o)>w.get(l)?(v.add(o),b(e)):($.add(l),f--):(a(n,i),f--)}for(;f--;){const e=t[f];y.has(e.key)||a(e,i)}for(;p;)b(g[p-1]);return g}(i,n,c,1,t,o,s,e,ft,ue,null,Jt);for(let t=0;t<i.length;t+=1)i[t].a();rt()}},i(t){if(!o){for(let t=0;t<a.length;t+=1)it(i[t]);o=!0}},o(t){for(let t=0;t<i.length;t+=1)st(i[t]);o=!1},d(t){t&&v(e);for(let t=0;t<i.length;t+=1)i[t].d();l=!1,r()}}}(t);return{c(){e=k("td"),o&&o.c(),A(e,"class","start none")},m(t,l){$(t,e,l),o&&o.m(e,null),n=!0},p(t,e){0!==t[52]&&4!==t[52]||o.p(t,e)},i(t){n||(it(o),n=!0)},o(t){st(o),n=!1},d(t){t&&v(e),o&&o.d()}}}function re(e){let n,o,l;return o=new Ot({props:{col:e[52]}}),{c(){n=k("td"),pt(o.$$.fragment),A(n,"class","none")},m(t,e){$(t,n,e),ht(o,n,null),l=!0},p:t,i(t){l||(it(o.$$.fragment,t),l=!0)},o(t){st(o.$$.fragment,t),l=!1},d(t){t&&v(n),mt(o)}}}function ie(t){let e,n,o,l,r,i,s,a=t[53].id+"";return{c(){e=k("div"),n=M(a),A(e,"class","pawn"),A(e,"data-owner",o=t[53].p),A(e,"data-pawnname",l=t[53].id),P(e,"helpglow",!((1===t[53].p?0:1)!==t[12].turn||!t[10].helpmode||!t[12].rolled||0===t[12].diceToMove)&&t[22](1===t[53].p?0:1,t[12].diceToMove,t[53].loc))},m(t,o){$(t,e,o),w(e,n),s=!0},p(t,r){(!s||24576&r[0])&&a!==(a=t[53].id+"")&&C(n,a),(!s||24576&r[0]&&o!==(o=t[53].p))&&A(e,"data-owner",o),(!s||24576&r[0]&&l!==(l=t[53].id))&&A(e,"data-pawnname",l),4486144&r[0]&&P(e,"helpglow",!((1===t[53].p?0:1)!==t[12].turn||!t[10].helpmode||!t[12].rolled||0===t[12].diceToMove)&&t[22](1===t[53].p?0:1,t[12].diceToMove,t[53].loc))},i(n){s||(z(()=>{i&&i.end(1),r||(r=ct(e,t[17],{key:t[53].key})),r.start()}),s=!0)},o(n){r&&r.invalidate(),i=ut(e,t[16],{key:t[53].key}),s=!1},d(t){t&&v(e),t&&i&&i.end()}}}function se(t){let e,n;function o(...e){return t[28](t[50],t[49],t[52],t[58],...e)}let l=t[56].filter(o),r=[];for(let e=0;e<l.length;e+=1)r[e]=ie(Yt(t,l,e));const i=t=>st(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=S()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);$(t,e,o),n=!0},p(n,s){if(t=n,4486144&s[0]){let n;for(l=t[56].filter(o),n=0;n<l.length;n+=1){const o=Yt(t,l,n);r[n]?(r[n].p(o,s),it(r[n],1)):(r[n]=ie(o),r[n].c(),it(r[n],1),r[n].m(e.parentNode,e))}for(lt(),n=l.length;n<r.length;n+=1)i(n);rt()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)it(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)st(r[t]);n=!1},d(t){b(r,t),t&&v(e)}}}function ae(e){let n;return{c(){n=k("td"),A(n,"class","none"),A(n,"rowspan","4")},m(t,e){$(t,n,e)},p:t,d(t){t&&v(n)}}}function ce(e){let n,o;return{c(){n=k("td"),A(n,"class","none"),A(n,"rowspan","4"),z(()=>e[27].call(n))},m(t,l){$(t,n,l),e[26](n),o=function(t,e){const n=getComputedStyle(t),o=(parseInt(n.zIndex)||0)-1;"static"===n.position&&(t.style.position="relative");const l=k("iframe");l.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${o};`),l.setAttribute("aria-hidden","true"),l.tabIndex=-1;const r=L();let i;return r?(l.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=T(window,"message",t=>{t.source===l.contentWindow&&e()})):(l.src="about:blank",l.onload=()=>{i=T(l.contentWindow,"resize",e)}),w(t,l),()=>{(r||i&&l.contentWindow)&&i(),v(l)}}(n,e[27].bind(n))},p:t,d(t){t&&v(n),e[26](null),o()}}}function ue(n,o){let l,r,i,s,a,c,u,d,f=o[53].id+"",h=t;return{key:n,first:null,c(){l=k("div"),r=M(f),A(l,"class","pawn"),A(l,"data-owner",i=o[53].p),A(l,"data-pawnname",s=o[53].id),P(l,"helpglow",!!((1===o[53].p?0:1)===o[12].turn&&o[10].helpmode&&o[12].rolled&&0!==o[12].diceToMove&&o[55]<1)&&o[22](1===o[53].p?0:1,o[12].diceToMove,o[53].loc)),this.first=l},m(t,e){$(t,l,e),w(l,r),d=!0},p(t,e){(!d||8192&e[0])&&f!==(f=t[53].id+"")&&C(r,f),(!d||8192&e[0]&&i!==(i=t[53].p))&&A(l,"data-owner",i),(!d||8192&e[0]&&s!==(s=t[53].id))&&A(l,"data-pawnname",s),4207616&e[0]&&P(l,"helpglow",!!((1===t[53].p?0:1)===t[12].turn&&t[10].helpmode&&t[12].rolled&&0!==t[12].diceToMove&&t[55]<1)&&t[22](1===t[53].p?0:1,t[12].diceToMove,t[53].loc))},r(){u=l.getBoundingClientRect()},f(){!function(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:o}=e,l=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=o,U(t,l)}}(l),h(),U(l,u)},a(){h(),h=function(n,o,l,r){if(!o)return t;const i=n.getBoundingClientRect();if(o.left===i.left&&o.right===i.right&&o.top===i.top&&o.bottom===i.bottom)return t;const{delay:s=0,duration:a=300,easing:c=e,start:u=p()+s,end:d=u+a,tick:f=t,css:h}=l(n,{from:o,to:i},r);let m,g=!0,w=!1;function $(){h&&j(n,m),g=!1}return y(t=>{if(!w&&t>=u&&(w=!0),w&&t>=d&&(f(1,0),$()),!g)return!1;if(w){const e=0+1*c((t-u)/a);f(e,1-e)}return!0}),h&&(m=D(n,0,1,a,s,c,h)),s||(w=!0),f(0,1),$}(l,u,Nt,{})},i(t){d||(z(()=>{c&&c.end(1),a||(a=ct(l,o[17],{key:o[53].key})),a.start()}),d=!0)},o(t){a&&a.invalidate(),c=ut(l,o[16],{key:o[53].key}),d=!1},d(t){t&&v(l),t&&c&&c.end()}}}function de(t){let e,n,o,l;const r=[re,le,oe,ne,ee,te],i=[];function s(t,e){return"15"==t[50][t[49]]?0:"0"==t[49]&&"0"==t[50][t[49]]?1:0!=t[52]&&4!=t[52]||4!==t[49]?(0===t[52]||4===t[52])&&4<t[49]?3:"0"==t[50][t[49]]?4:5:2}return e=s(t),n=i[e]=r[e](t),{c(){n.c(),o=S()},m(t,n){i[e].m(t,n),$(t,o,n),l=!0},p(t,l){let a=e;e=s(t),e===a?i[e].p(t,l):(lt(),st(i[a],1,1,()=>{i[a]=null}),rt(),n=i[e],n||(n=i[e]=r[e](t),n.c()),it(n,1),n.m(o.parentNode,o))},i(t){l||(it(n),l=!0)},o(t){st(n),l=!1},d(t){i[e].d(t),t&&v(o)}}}function fe(t){let e,n,o,l=t[14][0].col,r=[];for(let e=0;e<l.length;e+=1)r[e]=de(Kt(t,l,e));const i=t=>st(r[t],1,1,()=>{r[t]=null});return{c(){e=k("tr");for(let t=0;t<r.length;t+=1)r[t].c();n=_()},m(t,l){$(t,e,l);for(let t=0;t<r.length;t+=1)r[t].m(e,null);w(e,n),o=!0},p(t,o){if(7107970&o[0]){let s;for(l=t[14][0].col,s=0;s<l.length;s+=1){const i=Kt(t,l,s);r[s]?(r[s].p(i,o),it(r[s],1)):(r[s]=de(i),r[s].c(),it(r[s],1),r[s].m(e,n))}for(lt(),s=l.length;s<r.length;s+=1)i(s);rt()}},i(t){if(!o){for(let t=0;t<l.length;t+=1)it(r[t]);o=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)st(r[t]);o=!1},d(t){t&&v(e),b(r,t)}}}function pe(t){let e,n;return e=new Zt({props:{dicesArr:t[12].dicesArr,moveToDeck:!0,rolled:t[12].rolled,pos:t[2]}}),e.$on("click",(function(){i(t[0].roll)&&t[0].roll.apply(this,arguments)})),{c(){pt(e.$$.fragment)},m(t,o){ht(e,t,o),n=!0},p(n,o){t=n;const l={};4096&o[0]&&(l.dicesArr=t[12].dicesArr),4096&o[0]&&(l.rolled=t[12].rolled),4&o[0]&&(l.pos=t[2]),e.$set(l)},i(t){n||(it(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){mt(e,t)}}}function he(t){let e,n,o,l,i,s,a,c,u,d,f,p,h,m,g,y,S,N,L,E,R,B,D,j,U,G,I,V,Z,q,H,W,F,Y,X,J,K,Q,tt,et,nt,ot,at,ct,ut,dt,ft,gt,yt,wt,$t,vt,bt,kt,xt,Mt,_t,St,Tt,At,Ct,Nt,Lt,Pt,Ot,Et,Rt=!1,Bt=()=>{Rt=!1},Dt=t[10].helpmode?"help on":"help off",jt=t[12].round+"",Ut=t[12].rolled?`<em data-player="${t[11]}">Player ${t[11]}</em> rolled the Dices`:`<em data-player="${t[11]}">Player ${t[11]}</em> hasn't rolled yet.`,Gt=t[12].status+"";z(t[23]),z(t[24]),l=new Zt({props:{dicesArr:t[12].dicesArr,moveToDeck:!1,rolled:t[12].rolled}});let It=t[14][0].col[0],Vt=[];for(let e=0;e<It.length;e+=1)Vt[e]=fe(Qt(t,It,e));const qt=t=>st(Vt[t],1,1,()=>{Vt[t]=null});c=new Wt({props:{}}),t[31](c);let Ht=!t[15].won&&pe(t);return{c(){n=k("div"),o=k("div"),pt(l.$$.fragment),i=_(),s=k("table");for(let t=0;t<Vt.length;t+=1)Vt[t].c();a=_(),pt(c.$$.fragment),u=_(),d=k("nav"),f=k("button"),p=M(Dt),h=_(),m=k("button"),m.textContent="log",g=_(),y=k("button"),y.textContent="rules",S=_(),N=k("div"),L=k("nav"),E=k("button"),E.textContent="x",R=_(),B=k("pre"),D=M("Round:"),j=k("em"),U=M(jt),G=M("\nit's "),I=k("em"),V=M("Player "),Z=M(t[11]),q=M("'s turn\n\n\n"),W=M("\n\n"),Y=_(),X=k("div"),J=k("nav"),K=k("button"),K.textContent="x",Q=_(),tt=k("article"),tt.innerHTML='<h1>Royal Game of UR</h1> \n  <p>... is a two-player strategy race board game that is ~4500years old.</p> \n  <ul><li>When it&#39;s your turn, you roll all 4 tetrahedron (like pyramids, but all sides are triangles) shaped dices.</li> \n  <li>You count the white marked edges that land on top, and move a pawn of your as many squares. All of the movement has to be done by 1 pawn.</li> \n  <li>You can&#39;t land on your own pawns.</li> \n  <li>You can&#39;t land on your opponents pawn if its on the special square in the middle of <strong>War Zone</strong>.</li> \n  <li>You pawns are safe so long as they&#39;re in the <strong>Safe Zone</strong>, which is <strong>first 4</strong> and <strong>last 2 squares</strong> on your path.</li> \n  <li>If you land on one of your opponents pawns, it&#39;ll be moved back to the starting point.</li> \n  <li>You gain a point when you can move your pawn with your exactly last move out of the board.</li> \n  <li>Whoever gets <strong>7 points</strong> first wins!</li></ul> \n<div class="nbsp"></div> \n<p>Not clear? OR intrigued about the history of this game? Then you should watch this video featuring <strong>Irving Finkel</strong>, who discovered the long forgotten Game of UR:<br><a href="https://www.youtube.com/watch?v=WZskjLq040I">Tom Scott vs Irving Finkel: The Royal Game of Ur [25:32]</a></p>',et=_(),Ht&&Ht.c(),nt=_(),ot=x("svg"),at=x("defs"),ct=x("filter"),ut=x("feMorphology"),dt=x("animate"),ft=x("feGaussianBlur"),gt=x("animate"),yt=x("feFlood"),wt=x("feComposite"),$t=x("feMerge"),vt=x("feMergeNode"),bt=x("feMergeNode"),kt=x("filter"),xt=x("feMorphology"),Mt=x("animate"),_t=x("feGaussianBlur"),St=x("animate"),Tt=x("feFlood"),At=x("feComposite"),Ct=x("feMerge"),Nt=x("feMergeNode"),Lt=x("feMergeNode"),A(o,"class","ghostlayer"),P(o,"ghVisible",1===t[12].rolled),A(n,"class","board"),P(n,"fadeAlittle",1===t[12].rolled),P(f,"modepassive",!t[10].helpmode),A(E,"class","closebutton"),A(I,"data-player",t[11]),H=new O(W),F=new O(null),A(N,"class","status fullscreen"),P(N,"visible","status"===t[12].view),A(K,"class","closebutton"),A(X,"class","rules fullscreen"),P(X,"visible","rules"===t[12].view),A(dt,"attributeName","radius"),A(dt,"values","0;0;0;0;0;3;0;0;0;0;0;4;0;5;0;0;"),A(dt,"dur","6s"),A(dt,"repeatCount","indefinite"),A(ut,"operator","dilate"),A(ut,"radius","4"),A(ut,"in","SourceAlpha"),A(ut,"result","thicken"),A(gt,"attributeName","stdDeviation"),A(gt,"values","0;0;0;0;0;6;0;0;0;0;0;7;1;5;0;0;"),A(gt,"dur","6s"),A(gt,"repeatCount","indefinite"),A(ft,"in","thicken"),A(ft,"stdDeviation","10"),A(ft,"result","blurred"),A(yt,"flood-color","gold"),A(yt,"result","glowColor"),A(wt,"in","glowColor"),A(wt,"in2","blurred"),A(wt,"operator","in"),A(wt,"result","softGlow_colored"),A(vt,"in","softGlow_colored"),A(bt,"in","SourceGraphic"),A(ct,"id","sofGlow"),A(ct,"height","300%"),A(ct,"width","300%"),A(ct,"x","-75%"),A(ct,"y","-75%"),A(Mt,"attributeName","radius"),A(Mt,"values","1;2;0;0;0;0;"),A(Mt,"dur","1s"),A(Mt,"repeatCount","indefinite"),A(xt,"operator","dilate"),A(xt,"radius","0"),A(xt,"in","SourceAlpha"),A(xt,"result","thicken"),A(St,"attributeName","stdDeviation"),A(St,"values","9;3;1;0;0;0;"),A(St,"dur","1s"),A(St,"repeatCount","indefinite"),A(_t,"in","thicken"),A(_t,"stdDeviation","0"),A(_t,"result","blurred"),A(Tt,"flood-color","gold"),A(Tt,"result","glowColor"),A(At,"in","glowColor"),A(At,"in2","blurred"),A(At,"operator","in"),A(At,"result","softGlow_colored"),A(Nt,"in","softGlow_colored"),A(Lt,"in","SourceGraphic"),A(kt,"id","glowOnce"),A(kt,"height","300%"),A(kt,"width","300%"),A(kt,"x","-75%"),A(kt,"y","-75%"),A(ot,"id","svgdefs")},m(r,v){$(r,n,v),w(n,o),ht(l,o,null),w(n,i),w(n,s);for(let t=0;t<Vt.length;t+=1)Vt[t].m(s,null);t[30](n),$(r,a,v),ht(c,r,v),$(r,u,v),$(r,d,v),w(d,f),w(f,p),w(d,h),w(d,m),w(d,g),w(d,y),$(r,S,v),$(r,N,v),w(N,L),w(L,E),w(N,R),w(N,B),w(B,D),w(B,j),w(j,U),w(B,G),w(B,I),w(I,V),w(I,Z),w(B,q),H.m(Ut,B),w(B,W),F.m(Gt,B),$(r,Y,v),$(r,X,v),w(X,J),w(J,K),w(X,Q),w(X,tt),$(r,et,v),Ht&&Ht.m(r,v),$(r,nt,v),$(r,ot,v),w(ot,at),w(at,ct),w(ct,ut),w(ut,dt),w(ct,ft),w(ft,gt),w(ct,yt),w(ct,wt),w(ct,$t),w($t,vt),w($t,bt),w(at,kt),w(kt,xt),w(xt,Mt),w(kt,_t),w(_t,St),w(kt,Tt),w(kt,At),w(kt,Ct),w(Ct,Nt),w(Ct,Lt),Pt=!0,Ot||(Et=[T(zt,"keydown",t[20]),T(zt,"scroll",()=>{Rt=!0,clearTimeout(e),e=Ft(Bt,100),t[23]()}),T(zt,"resize",t[24]),T(f,"click",t[32]),T(m,"click",t[33]),T(y,"click",t[34]),T(E,"click",t[35]),T(K,"click",t[36])],Ot=!0)},p(t,r){24&r[0]&&!Rt&&(Rt=!0,clearTimeout(e),scrollTo(t[3],t[4]),e=Ft(Bt,100));const i={};if(4096&r[0]&&(i.dicesArr=t[12].dicesArr),4096&r[0]&&(i.rolled=t[12].rolled),l.$set(i),4096&r[0]&&P(o,"ghVisible",1===t[12].rolled),7107970&r[0]){let e;for(It=t[14][0].col[0],e=0;e<It.length;e+=1){const n=Qt(t,It,e);Vt[e]?(Vt[e].p(n,r),it(Vt[e],1)):(Vt[e]=fe(n),Vt[e].c(),it(Vt[e],1),Vt[e].m(s,null))}for(lt(),e=It.length;e<Vt.length;e+=1)qt(e);rt()}4096&r[0]&&P(n,"fadeAlittle",1===t[12].rolled);c.$set({}),(!Pt||1024&r[0])&&Dt!==(Dt=t[10].helpmode?"help on":"help off")&&C(p,Dt),1024&r[0]&&P(f,"modepassive",!t[10].helpmode),(!Pt||4096&r[0])&&jt!==(jt=t[12].round+"")&&C(U,jt),(!Pt||2048&r[0])&&C(Z,t[11]),(!Pt||2048&r[0])&&A(I,"data-player",t[11]),(!Pt||6144&r[0])&&Ut!==(Ut=t[12].rolled?`<em data-player="${t[11]}">Player ${t[11]}</em> rolled the Dices`:`<em data-player="${t[11]}">Player ${t[11]}</em> hasn't rolled yet.`)&&H.p(Ut),(!Pt||4096&r[0])&&Gt!==(Gt=t[12].status+"")&&F.p(Gt),4096&r[0]&&P(N,"visible","status"===t[12].view),4096&r[0]&&P(X,"visible","rules"===t[12].view),t[15].won?Ht&&(lt(),st(Ht,1,1,()=>{Ht=null}),rt()):Ht?(Ht.p(t,r),32768&r[0]&&it(Ht,1)):(Ht=pe(t),Ht.c(),it(Ht,1),Ht.m(nt.parentNode,nt))},i(t){if(!Pt){it(l.$$.fragment,t);for(let t=0;t<It.length;t+=1)it(Vt[t]);it(c.$$.fragment,t),it(Ht),Pt=!0}},o(t){st(l.$$.fragment,t),Vt=Vt.filter(Boolean);for(let t=0;t<Vt.length;t+=1)st(Vt[t]);st(c.$$.fragment,t),st(Ht),Pt=!1},d(e){e&&v(n),mt(l),b(Vt,e),t[30](null),e&&v(a),t[31](null),mt(c,e),e&&v(u),e&&v(d),e&&v(S),e&&v(N),e&&v(Y),e&&v(X),e&&v(et),Ht&&Ht.d(e),e&&v(nt),e&&v(ot),Ot=!1,r(Et)}}}function me(t){const e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY}}const ge=t=>0===t.loc;function ye(t,e,n){let o,l,r,i,s,a;u(t,bt,t=>n(10,o=t)),u(t,kt,t=>n(12,l=t)),u(t,St,t=>n(13,r=t)),u(t,Mt,t=>n(14,i=t)),u(t,xt,t=>n(15,s=t));const[c,f]=Ct({duration:t=>Math.sqrt(200*t),fallback(t,e){const n=getComputedStyle(t),o="none"===n.transform?"":n.transform;return{duration:600,easing:At,css:t=>`\n\t\t\t\t\ttransform: ${o} scale(${t});\n\t\t\t\t\topacity: ${t}\n\t\t\t\t`}}});let p,h,m=function(t){return t<5||12<t?"safe":"combat"},g=function(t=!1){d(kt,l={turn:(l.turn+(t?0:1))%2,rolled:0,played:0,round:l.round+1,status:l.status+"\n...next turn...",dicesArr:[0,0,0,0],justScored:l.justScored}),kt.set(l)};let y,w,$,v,b,k,x,M,_,S=function(t,e,n){let o=t-1;if(d(kt,l.justScored=!1,l),function(t){return 1==l.rolled&&0==l.played&&N==t}(t)){const n=r[o].findIndex(t=>t.id===Number(e)),i=r[o][n],s=i.loc+l.diceToMove;let a,c,u,f,p,h,y=!0;"safe"===m(s)?15===s?(i.loc=15,d(kt,l.justScored=!0,l),setTimeout(()=>{d(kt,l.justScored=!1,l)},2e3),d(kt,l.status=`<em>Player ${t}'s</em> Pawn <em>${i.id}</em> made it!.\n1 Point for <em>Player ${t}!</em>`,l)):s>15?(y=!1,d(kt,l.status="You should land exactly onto the New Home\nIf you can't move otherwise you should <code>Pass</code>",l)):0===s?d(kt,l.status="This message shouldn't appear. Case is checked in Dice.svelte",l):(a=r[o].find(t=>t.loc===s),f=null!=a,f&&d(kt,l.status=`<em>Player ${t}'s </em> own pawn is there.Â \nIf you can't move otherwise you should <code>Pass</code>`,l)):(u=r[(o+1)%2].find(t=>t.loc===s),h=null!=u,h&&d(kt,l.status=`Opponent <em>Player ${(o+1)%2+1}'s </em> pawn is there.`,l),c=r[o].find(t=>t.loc===s),p=null!=c,p&&d(kt,l.status+=`\n<em>Player ${t}'s </em> own pawn is there.`,l)),a||c||h||!y?h&&(8===s?d(kt,l.status+=`\nPlayer <em>${u.p}</em>'s Pawn #<em>${u.id}</em> is Safe!\nTry another move!`,l):(d(kt,l.status+="Send 'em Home!",l),d(kt,l.status+=`\nPlayer <em>${u.p}</em>'s Pawn #<em>${u.id}</em> going back Home `,l),u.loc=0,d(St,r[o][n].loc=s,r),d(kt,l.played=1,l),g())):(d(kt,l.status+=`\nPlayer <em data-player="${N}">${N}</em>'s Pawn #<em data-player="${N}">${i.id}</em> moving to square <em>${s}</em>`,l),8===s&&d(kt,l.status+="\nPawn is now <em>Untouchable</em>!",l),8!==s&&4!==s||d(kt,l.status+=`\n<em data-player="${N}">${N} gets to play again!</em>`,l),d(St,r[o][n].loc=s,r),d(kt,l.played=1,l),g(8===s||4===s))}else d(kt,l.status+=void 0!==t?`\nit's not Player <em>${t}</em>'s turn!.`:"\nno pawns there!",l)},T=t=>[...new Set(t)],A=function(t,e,n=null){let o=r[t].map(t=>t.loc+e).filter(t=>t<16),l=T(o),i=T([...r[t]].map(t=>t.loc).filter(t=>0<t&&t<15)),s=T([...r[(t+1)%2]].map(t=>t.loc).filter(t=>8===t)),a=(T([...r[0],...r[1]].map(t=>t.loc).filter(t=>4<t&&t<13)),l.filter(t=>!i.includes(t)&&!s.includes(t)));return null!==n&void 0!==n?(console.log("difference:",a),console.log("thispawn + diceToMove:",`${n} + ${e} = ${n+e}`),console.log("movable pawns:",a.filter(t=>t===n+e).length>0?n:null),console.log(a.filter(t=>t===n+e).length>0&&`${t} ${e} ${n}`),a.filter(t=>t===n+e).length>0):a.length>0},C=!1;I(()=>{n(39,C=!0)}),w={top:null,left:null,width:null,height:null};let N;return t.$$.update=()=>{1024&t.$$.dirty[0]&&console.log(o),4096&t.$$.dirty[0]&&n(11,N=l.turn+1),98&t.$$.dirty[0]&&(n(2,w.left=y?me(y).left:{},w),n(2,w.top=y?me(y).top:{},w)),384&t.$$.dirty[0]&&(n(2,w.width=M,w),n(2,w.height=x,w)),6&t.$$.dirty[0]&&(w?w.left:({}=y?me(y).left:void 0)),6&t.$$.dirty[0]&&(w?w.top:({}=y?me(y).top:void 0)),t.$$.dirty[1],4096&t.$$.dirty[0]&&1===l.rolled&&(A(l.turn,l.diceToMove)||setTimeout(()=>{g()},1e3))},[a,y,w,$,v,b,k,x,M,_,o,N,l,r,i,s,c,f,m,function(t){return 8===t||4===t?"special":""},function(t){p=t.key,h=t.keyCode,"Escape"!==p&&"Esc"!==p||d(kt,l.view="",l)},S,A,function(){n(4,v=zt.pageYOffset),n(3,$=zt.pageXOffset)},function(){n(5,b=zt.innerWidth),n(6,k=zt.innerHeight)},t=>S(t.target.dataset.owner,t.target.dataset.pawnname,t.target),function(t){Z[t?"unshift":"push"](()=>{y=t,n(1,y)})},function(){M=this.offsetWidth,x=this.offsetHeight,n(8,M),n(7,x)},(t,e,n,o,l)=>l.loc===t[e]&&("safe"!==m(l.loc)||n===(0===o?1:3)),t=>S(t.target.dataset.owner,t.target.dataset.pawnname,t.target),function(t){Z[t?"unshift":"push"](()=>{_=t,n(9,_)})},function(t){Z[t?"unshift":"push"](()=>{a=t,n(0,a)})},()=>d(bt,o.helpmode=!o.helpmode,o),()=>d(kt,l.view="status",l),()=>d(kt,l.view="rules",l),()=>d(kt,l.view="",l),()=>d(kt,l.view="",l)]}class we extends wt{constructor(t){super(),yt(this,t,ye,he,s,{},[-1,-1])}}function $e(e){let n,o,l;return o=new we({}),{c(){n=k("main"),pt(o.$$.fragment)},m(t,e){$(t,n,e),ht(o,n,null),l=!0},p:t,i(t){l||(it(o.$$.fragment,t),l=!0)},o(t){st(o.$$.fragment,t),l=!1},d(t){t&&v(n),mt(o)}}}return new class extends wt{constructor(t){super(),yt(this,t,null,$e,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
