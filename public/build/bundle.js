var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function l(){return Object.create(null)}function r(t){t.forEach(o)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function c(t,e,n=e){return t.set(n),e}const u="undefined"!=typeof window;let d=u?()=>window.performance.now():()=>Date.now(),f=u?t=>requestAnimationFrame(t):t;const p=new Set;function h(t){p.forEach(e=>{e.c(t)||(p.delete(e),e.f())}),0!==p.size&&f(h)}function g(t){let e;return 0===p.size&&f(h),{promise:new Promise(n=>{p.add(e={c:t,f:n})}),abort(){p.delete(e)}}}function m(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function $(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function x(){return k(" ")}function M(){return k("")}function _(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function T(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function A(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let S;function C(){if(void 0===S){S=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){S=!0}}return S}function N(t,e,n){t.classList[n?"add":"remove"](e)}class L{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=v(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)y(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(w)}}const P=new Set;let E,O=0;function R(t,e,n,o,l,r,i,s=0){const a=16.666/o;let c="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*r(t);c+=100*t+`%{${i(o,1-o)}}\n`}const u=c+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${s}`,f=t.ownerDocument;P.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(v("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?g+", ":""}${d} ${o}ms linear ${l}ms 1 both`,O+=1,d}function B(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),l=n.length-o.length;l&&(t.style.animation=o.join(", "),O-=l,O||f(()=>{O||(P.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),P.clear())}))}function D(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const o=getComputedStyle(t),l="none"===o.transform?"":o.transform;t.style.transform=`${l} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}function j(t){E=t}function U(t){(function(){if(!E)throw new Error("Function called outside component initialization");return E})().$$.on_mount.push(t)}const G=[],V=[],Z=[],q=[],I=Promise.resolve();let H=!1;function W(t){Z.push(t)}let F=!1;const z=new Set;function Y(){if(!F){F=!0;do{for(let t=0;t<G.length;t+=1){const e=G[t];j(e),X(e.$$)}for(G.length=0;V.length;)V.pop()();for(let t=0;t<Z.length;t+=1){const e=Z[t];z.has(e)||(z.add(e),e())}Z.length=0}while(G.length);for(;q.length;)q.pop()();H=!1,F=!1,z.clear()}}function X(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}let J;function K(){return J||(J=Promise.resolve(),J.then(()=>{J=null})),J}function Q(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const tt=new Set;let et;function nt(){et={r:0,c:[],p:et}}function ot(){et.r||r(et.c),et=et.p}function lt(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function rt(t,e,n,o){if(t&&t.o){if(tt.has(t))return;tt.add(t),et.c.push(()=>{tt.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const it={duration:0};function st(n,o,l){let r,s,a=o(n,l),c=!1,u=0;function f(){r&&B(n,r)}function p(){const{delay:o=0,duration:l=300,easing:i=e,tick:p=t,css:h}=a||it;h&&(r=R(n,0,1,l,o,i,h,u++)),p(0,1);const m=d()+o,y=m+l;s&&s.abort(),c=!0,W(()=>Q(n,!0,"start")),s=g(t=>{if(c){if(t>=y)return p(1,0),Q(n,!0,"end"),f(),c=!1;if(t>=m){const e=i((t-m)/l);p(e,1-e)}}return c})}let h=!1;return{start(){h||(B(n),i(a)?(a=a(),K().then(p)):p())},invalidate(){h=!1},end(){c&&(f(),c=!1)}}}function at(n,o,l){let s,a=o(n,l),c=!0;const u=et;function f(){const{delay:o=0,duration:l=300,easing:i=e,tick:f=t,css:p}=a||it;p&&(s=R(n,1,0,l,o,i,p));const h=d()+o,m=h+l;W(()=>Q(n,!1,"start")),g(t=>{if(c){if(t>=m)return f(0,1),Q(n,!1,"end"),--u.r||r(u.c),!1;if(t>=h){const e=i((t-h)/l);f(1-e,e)}}return c})}return u.r+=1,i(a)?K().then(()=>{a=a(),f()}):f(),{end(t){t&&a.tick&&a.tick(1,0),c&&(s&&B(n,s),c=!1)}}}const ct="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ut(t,e){t.f(),function(t,e){rt(t,1,1,()=>{e.delete(t.key)})}(t,e)}function dt(t){t&&t.c()}function ft(t,e,n){const{fragment:l,on_mount:s,on_destroy:a,after_update:c}=t.$$;l&&l.m(e,n),W(()=>{const e=s.map(o).filter(i);a?a.push(...e):r(e),t.$$.on_mount=[]}),c.forEach(W)}function pt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ht(t,e){-1===t.$$.dirty[0]&&(G.push(t),H||(H=!0,I.then(Y)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function gt(e,n,o,i,s,a,c=[-1]){const u=E;j(e);const d=n.props||{},f=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:s,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:l(),dirty:c};let p=!1;if(f.ctx=o?o(e,d,(t,n,...o)=>{const l=o.length?o[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=l)&&(f.bound[t]&&f.bound[t](l),p&&ht(e,t)),n}):[],f.update(),p=!0,r(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(w)}else f.fragment&&f.fragment.c();n.intro&&lt(e.$$.fragment),ft(e,n.target,n.anchor),Y()}j(u)}class mt{$destroy(){pt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const yt=[];function wt(e,n=t){let o;const l=[];function r(t){if(s(e,t)&&(e=t,o)){const t=!yt.length;for(let t=0;t<l.length;t+=1){const n=l[t];n[1](),yt.push(n,e)}if(t){for(let t=0;t<yt.length;t+=2)yt[t][0](yt[t+1]);yt.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(i,s=t){const a=[i,s];return l.push(a),1===l.length&&(o=n(r)||t),i(e),()=>{const t=l.indexOf(a);-1!==t&&l.splice(t,1),0===l.length&&(o(),o=null)}}}}let $t=wt({round:1,turn:0,rolled:0,status:"",dicesArr:[0,0,0,0],settings:{helpmode:!0},justScored:!1}),vt=wt({points:[],won:null}),bt=wt([{col:[[0,0,0,0,0,0,0,0],[13,14,15,0,1,2,3,4],[12,11,10,9,8,7,6,5],[13,14,15,0,1,2,3,4],[0,0,0,0,0,0,0,0]]},{col:[[{},{},{},{},{},{},{},{}],[{},{},{},{},{},{},{},{}],[{},{},{},{},{},{},{},{}]]}]),kt=1,xt=wt([[{loc:0,p:1,id:1,key:kt++},{loc:0,p:1,id:2,key:kt++},{loc:0,p:1,id:3,key:kt++},{loc:0,p:1,id:4,key:kt++},{loc:0,p:1,id:5,key:kt++},{loc:0,p:1,id:6,key:kt++},{loc:0,p:1,id:7,key:kt++}],[{loc:0,p:2,id:1,key:kt++},{loc:0,p:2,id:2,key:kt++},{loc:0,p:2,id:3,key:kt++},{loc:0,p:2,id:4,key:kt++},{loc:0,p:2,id:5,key:kt++},{loc:0,p:2,id:6,key:kt++},{loc:0,p:2,id:7,key:kt++}]]);function Mt(t){const e=t-1;return e*e*e+1}function _t(t){return--t*t*t*t*t+1}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function Tt(t){var{fallback:e}=t,o=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(t);l<o.length;l++)e.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(t,o[l])&&(n[o[l]]=t[o[l]])}return n}(t,["fallback"]);const l=new Map,r=new Map;function s(t,l,r){return(s,a)=>(t.set(a.key,{rect:s.getBoundingClientRect()}),()=>{if(l.has(a.key)){const{rect:t}=l.get(a.key);return l.delete(a.key),function(t,e,l){const{delay:r=0,duration:s=(t=>30*Math.sqrt(t)),easing:a=Mt}=n(n({},o),l),c=e.getBoundingClientRect(),u=t.left-c.left,d=t.top-c.top,f=t.width/c.width,p=t.height/c.height,h=Math.sqrt(u*u+d*d),g=getComputedStyle(e),m="none"===g.transform?"":g.transform,y=+g.opacity;return{delay:r,duration:i(s)?s(h):s,easing:a,css:(t,e)=>`\n\t\t\t\topacity: ${t*y};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${m} translate(${e*u}px,${e*d}px) scale(${t+(1-t)*f}, ${t+(1-t)*p});\n\t\t\t`}}(t,s,a)}return t.delete(a.key),e&&e(s,a,r)})}return[s(r,l,!1),s(l,r,!0)]}function At(t,e,n){const o=getComputedStyle(t),l="none"===o.transform?"":o.transform,r=e.from.width/t.clientWidth,s=e.from.height/t.clientHeight,a=(e.from.left-e.to.left)/r,c=(e.from.top-e.to.top)/s,u=Math.sqrt(a*a+c*c),{delay:d=0,duration:f=(t=>120*Math.sqrt(t)),easing:p=Mt}=n;return{delay:d,duration:i(f)?f(u):f,easing:p,css:(t,e)=>`transform: ${l} translate(${e*a}px, ${e*c}px);`}}function St(e){let n,o;return{c(){n=v("div"),o=k(e[1]),T(n,"class","scoreboard"),T(n,"data-owner",e[0]),N(n,"won",!!e[2].won),N(n,"glowOnce",e[3].justScored&&!e[2].won)},m(t,e){y(t,n,e),m(n,o)},p(t,[e]){2&e&&A(o,t[1]),1&e&&T(n,"data-owner",t[0]),4&e&&N(n,"won",!!t[2].won),12&e&&N(n,"glowOnce",t[3].justScored&&!t[2].won)},i:t,o:t,d(t){t&&w(n)}}}function Ct(t,e,n){let o,l,r;a(t,xt,t=>n(7,o=t)),a(t,vt,t=>n(2,l=t)),a(t,$t,t=>n(3,r=t));let i,s,u,d,{col:f}=e;return s=1===f?0:1,i=s+1,t.$set=t=>{"col"in t&&n(4,f=t.col)},t.$$.update=()=>{226&t.$$.dirty&&(n(6,d=o[s].filter(t=>15===t.loc)),n(1,u=d.length),c(vt,l.points[s]=u,l)),37&t.$$.dirty&&7===l.points[s]&&(c(vt,l.won=i,l),c($t,r.status=`<em class="special">Player ${i} Won!</em>`,r)),8&t.$$.dirty&&console.log("justScored",r.justScored)},[i,u,l,r,f]}class Nt extends mt{constructor(t){super(),gt(this,t,Ct,St,s,{col:4})}}class Lt{constructor(){this.crypto="function"==typeof window.crypto.getRandomValues,this.intMin=Number.MIN_VALUE,this.intMax=Number.MAX_VALUE}random(){return this.crypto?window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295:Math.random()}bool(){return this.random()<.5}int(t,e){return this.randinterval(t,e,!0)}float(t,e){return t+(e-t)*this.random()}string(t,e){let n="";for(let o=0;o<t;o++)n+=e.charAt(this.int(0,e.length-1));return n}pick(t){return t[this.int(0,t.length-1)]}chance(t){return this.float(0,100)<t}challenge(t,e,n){let o=(n-t)/((e-t)/100);return o<=0&&(o=0),o>=100&&(o=100),this.chance(o)}shuffle(t){let e,n,o=t.length;for(;--o>0;)n=this.int(0,o),e=t[o],t[o]=t[n],t[n]=e;return t}weighted(t,e){if(t.length!==e.length)throw new RangeError("Chance: Length of array and odds must match");let n,o=0;for(let t=0;t<e.length;++t){if(n=e[t],isNaN(n))throw new RangeError("Chance: All weights must be numbers");n>0&&(o+=n)}if(0===o)throw new RangeError("Chance: No valid entries in array odds");const l=this.random()*o;let r,i=0,s=-1;for(let t=0;t<e.length;++t){if(n=e[t],i+=n,n>0){if(l<=i){r=t;break}s=t}t===e.length-1&&(r=s)}return t[r]}randinterval(t,e,n){return t==e?t:e<t?this.randinterval(e,t,n):t<0||e<1?this.rand(e-t+(n?1:0))+t:t+this.rand(e-t+(n?1:0))}rand(t){return(t<=0||t>this.intMax)&&console.error("n out of (0, INT_MAX]"),Math.floor(this.random()*t)}}function Pt(t){let e,n,o,l,r,i,s,a,c,u;return{c(){e=b("g"),n=b("g"),o=b("path"),l=b("path"),r=b("g"),i=b("path"),s=b("path"),a=b("g"),c=b("path"),u=b("path"),T(o,"d","M50 35L62.9904 57.5H37.0096L50 35Z"),T(o,"fill","#7D7D7D"),T(l,"d","M50 35L62.9904 57.5H37.0096L50 35Z"),T(l,"fill","url(#paint2_linear)"),T(n,"class","white-Dice-tri"),T(i,"d","M50 35V50L37.0096 57.5L50 35Z"),T(i,"fill","#F4F4F4"),T(s,"d","M50 35V50L37.0096 57.5L50 35Z"),T(s,"fill","url(#paint3_linear)"),T(r,"class","white-hi"),T(c,"d","M50 35L62.9904 57.5L50 50V35Z"),T(c,"fill","#B9B9B9"),T(u,"d","M50 35L62.9904 57.5L50 50V35Z"),T(u,"fill","url(#paint4_linear)"),T(a,"class","white-low"),T(e,"class","white-top")},m(t,d){y(t,e,d),m(e,n),m(n,o),m(n,l),m(e,r),m(r,i),m(r,s),m(e,a),m(a,c),m(a,u)},d(t){t&&w(e)}}}function Et(e){let n,o,l,r,i,s,a,c,u,d,f,p,h,g,$,v,k,x,M,_,A,S,C,N,L,P,E=!!e[0]&&1===e[0]&&Pt();return{c(){n=b("svg"),o=b("g"),l=b("g"),r=b("path"),i=b("g"),s=b("path"),a=b("path"),c=b("g"),u=b("path"),d=b("path"),E&&E.c(),f=b("defs"),p=b("linearGradient"),h=b("stop"),g=b("stop"),$=b("linearGradient"),v=b("stop"),k=b("stop"),x=b("linearGradient"),M=b("stop"),_=b("stop"),A=b("linearGradient"),S=b("stop"),C=b("stop"),N=b("linearGradient"),L=b("stop"),P=b("stop"),T(r,"class","Dice-tri"),T(r,"d","M50 0L93.3013 75H6.69873L50 0Z"),T(r,"fill","#0B0B0B"),T(s,"d","M50 0V50L6.69873 75L50 0Z"),T(s,"fill","black"),T(a,"d","M50 0V50L6.69873 75L50 0Z"),T(a,"fill","url(#paint0_linear)"),T(i,"class","black-hi"),T(u,"d","M50 0L93.3013 75L50 50V0Z"),T(u,"fill","#222222"),T(d,"d","M50 0L93.3013 75L50 50V0Z"),T(d,"fill","url(#paint1_linear)"),T(d,"fill-opacity","0.6"),T(c,"class","black-low"),T(l,"class","black-dice"),T(o,"class","Dice-1-000"),T(h,"stop-color","white"),T(g,"offset","0.677083"),T(g,"stop-color","white"),T(g,"stop-opacity","0"),T(p,"id","paint0_linear"),T(p,"x1","-3.5"),T(p,"y1","-13"),T(p,"x2","92"),T(p,"y2","75"),T(p,"gradientUnits","userSpaceOnUse"),T(v,"stop-color","white"),T(k,"offset","0.304651"),T(k,"stop-color","white"),T(k,"stop-opacity","0"),T($,"id","paint1_linear"),T($,"x1","39.8013"),T($,"y1","-13"),T($,"x2","135.301"),T($,"y2","75"),T($,"gradientUnits","userSpaceOnUse"),T(M,"stop-color","white"),T(_,"offset","1"),T(_,"stop-color","white"),T(_,"stop-opacity","0"),T(x,"id","paint2_linear"),T(x,"x1","50"),T(x,"y1","35"),T(x,"x2","50"),T(x,"y2","65"),T(x,"gradientUnits","userSpaceOnUse"),T(S,"stop-color","white"),T(C,"offset","1"),T(C,"stop-color","white"),T(C,"stop-opacity","0"),T(A,"id","paint3_linear"),T(A,"x1","43.5048"),T(A,"y1","35"),T(A,"x2","43.5048"),T(A,"y2","57.5"),T(A,"gradientUnits","userSpaceOnUse"),T(L,"stop-color","white"),T(P,"offset","1"),T(P,"stop-color","white"),T(P,"stop-opacity","0"),T(N,"id","paint4_linear"),T(N,"x1","56.4952"),T(N,"y1","35"),T(N,"x2","56.4952"),T(N,"y2","57.5"),T(N,"gradientUnits","userSpaceOnUse"),T(n,"width","100"),T(n,"height","100"),T(n,"viewBox","0 0 100 77"),T(n,"fill","none"),T(n,"xmlns","http://www.w3.org/2000/svg"),T(n,"class","diceSvg"),T(n,"style",e[1])},m(t,e){y(t,n,e),m(n,o),m(o,l),m(l,r),m(l,i),m(i,s),m(i,a),m(l,c),m(c,u),m(c,d),E&&E.m(o,null),m(n,f),m(f,p),m(p,h),m(p,g),m(f,$),m($,v),m($,k),m(f,x),m(x,M),m(x,_),m(f,A),m(A,S),m(A,C),m(f,N),m(N,L),m(N,P)},p(t,[e]){t[0]&&1===t[0]?E||(E=Pt(),E.c(),E.m(o,null)):E&&(E.d(1),E=null),2&e&&T(n,"style",t[1])},i:t,o:t,d(t){t&&w(n),E&&E.d()}}}function Ot(t,e,n){let o,l=new Lt,{rolledNum:r=0}=e,{rolled:i=null}=e,s=0;return t.$set=t=>{"rolledNum"in t&&n(0,r=t.rolledNum),"rolled"in t&&n(2,i=t.rolled)},t.$$.update=()=>{if(12&t.$$.dirty)if(i){let t=l.int(-5,5);n(3,s+=t),n(1,o=`transform: rotate(calc(${s} * 360deg));`)}else n(1,o=`transform: rotate(calc(${s} * 360deg));`)},[r,o,i]}class Rt extends mt{constructor(t){super(),gt(this,t,Ot,Et,s,{rolledNum:0,rolled:2})}}function Bt(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function Dt(t){let e,n,o;return e=new Rt({props:{rolledNum:t[9],rolled:t[1]}}),{c(){dt(e.$$.fragment),n=x()},m(t,l){ft(e,t,l),y(t,n,l),o=!0},p(t,n){const o={};1&n&&(o.rolledNum=t[9]),2&n&&(o.rolled=t[1]),e.$set(o)},i(t){o||(lt(e.$$.fragment,t),o=!0)},o(t){rt(e.$$.fragment,t),o=!1},d(t){pt(e,t),t&&w(n)}}}function jt(t){let e,n,o,l,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=Dt(Bt(t,r,e));const s=t=>rt(i[t],1,1,()=>{i[t]=null});return{c(){e=v("div");for(let t=0;t<i.length;t+=1)i[t].c();T(e,"class","dicesBlock"),T(e,"style",t[2]),N(e,"rolled",t[1]),N(e,"helpglow",t[3].settings.helpmode&&!t[1])},m(r,s){y(r,e,s);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0,o||(l=_(e,"click",t[6]),o=!0)},p(t,[o]){if(3&o){let n;for(r=t[0],n=0;n<r.length;n+=1){const l=Bt(t,r,n);i[n]?(i[n].p(l,o),lt(i[n],1)):(i[n]=Dt(l),i[n].c(),lt(i[n],1),i[n].m(e,null))}for(nt(),n=r.length;n<i.length;n+=1)s(n);ot()}(!n||4&o)&&T(e,"style",t[2]),2&o&&N(e,"rolled",t[1]),10&o&&N(e,"helpglow",t[3].settings.helpmode&&!t[1])},i(t){if(!n){for(let t=0;t<r.length;t+=1)lt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)rt(i[t]);n=!1},d(t){t&&w(e),$(i,t),o=!1,l()}}}function Ut(t,e,n){let o;a(t,$t,t=>n(3,o=t));const[l,r]=Tt({duration:t=>Math.sqrt(200*t),fallback(t,e){const n=getComputedStyle(t),o="none"===n.transform?"":n.transform;return{duration:600,easing:_t,css:t=>`\n\t\t\t\t\ttransform: ${o} scale(${t});\n\t\t\t\t\topacity: ${t}\n\t\t\t\t`}}});let{dicesArr:i=[0,0,0,0]}=e,{rolled:s=0}=e,{pos:c={left:0,top:0,width:0,height:0}}=e,{moveToDeck:u}=e,d="";return t.$set=t=>{"dicesArr"in t&&n(0,i=t.dicesArr),"rolled"in t&&n(1,s=t.rolled),"pos"in t&&n(4,c=t.pos),"moveToDeck"in t&&n(5,u=t.moveToDeck)},t.$$.update=()=>{48&t.$$.dirty&&n(2,d=u?`position: absolute; top: ${c.top}px; left: ${c.left}px; width: ${c.width}px; height: ${c.height}px;`:"")},[i,s,d,o,c,u,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}(t,e)}]}class Gt extends mt{constructor(t){super(),gt(this,t,Ut,jt,s,{dicesArr:0,rolled:1,pos:4,moveToDeck:5})}}function Vt(e){let n,o,l,r,i,s,a,c,u,d,f,p,h=e[0].won+"";return{c(){n=v("div"),o=v("p"),l=k("Player "),r=k(h),i=k(" won!"),a=x(),c=v("button"),c.textContent="RESTART",u=x(),d=v("p"),T(o,"data-owner",s=e[0].won),T(n,"class","command fullscreen"),N(n,"visible",e[0].won)},m(t,s){y(t,n,s),m(n,o),m(o,l),m(o,r),m(o,i),m(n,a),m(n,c),m(n,u),m(n,d),f||(p=_(c,"click",e[1]),f=!0)},p(t,[e]){1&e&&h!==(h=t[0].won+"")&&A(r,h),1&e&&s!==(s=t[0].won)&&T(o,"data-owner",s),1&e&&N(n,"visible",t[0].won)},i:t,o:t,d(t){t&&w(n),f=!1,p()}}}function Zt(t,e,n){let o,l,r;a(t,$t,t=>n(6,o=t)),a(t,xt,t=>n(7,l=t)),a(t,vt,t=>n(0,r=t));let i=new Lt,s=()=>i.int(0,1),{rollAll:u=function(){return[s(),s(),s(),s()]}}=e,{nextTurn:d=function(){c($t,o={turn:(o.turn+1)%2,rolled:0,played:0,round:o.round+1,status:o.status+"\n...next turn...",dicesArr:[0,0,0,0],settings:o.settings,justScored:!1}),console.log("NEXT TURN")}}=e;const f=(t,e)=>t+e;let p;c($t,o.dicesArr=[0,0,0,0],o),c($t,o.diceToMove=o.dicesArr.reduce(f),o),c($t,o.rolled=0,o),c($t,o.played=0,o);return t.$set=t=>{"rollAll"in t&&n(2,u=t.rollAll),"nextTurn"in t&&n(3,d=t.nextTurn)},t.$$.update=()=>{64&t.$$.dirty&&(p=o.turn+1)},[r,function(){c(xt,l=[[{loc:0,p:1,id:1},{loc:0,p:1,id:2},{loc:0,p:1,id:3},{loc:0,p:1,id:4},{loc:0,p:1,id:5},{loc:0,p:1,id:6},{loc:0,p:1,id:7}],[{loc:0,p:2,id:1},{loc:0,p:2,id:2},{loc:0,p:2,id:3},{loc:0,p:2,id:4},{loc:0,p:2,id:5},{loc:0,p:2,id:6},{loc:0,p:2,id:7}]]),c($t,o={round:1,turn:r.won%2,status:"",dicesArr:[0,0,0,0],played:0,rolled:0,settings:o.settings,justScored:!1}),c(vt,r={points:[],won:null})},u,d,function(){0==o.rolled&&0==o.played?(c($t,o.dicesArr=u(),o),c($t,o.diceToMove=o.dicesArr.reduce(f),o),c($t,o.rolled=1,o),c($t,o.status=`\nPlayer <em>${p}</em> just rolled: <em>${o.diceToMove}</em>`,o),0===o.diceToMove&&setTimeout(()=>{d()},1e3)):c($t,o.status+="\nDice is already rolled, you can not roll again.",o)}]}class qt extends mt{constructor(t){super(),gt(this,t,Zt,Vt,s,{rollAll:2,nextTurn:3,roll:4})}get roll(){return this.$$.ctx[4]}}const{setTimeout:It,window:Ht}=ct;function Wt(t,e,n){const o=t.slice();return o[52]=e[n],o[59]=n,o}function Ft(t,e,n){const o=t.slice();return o[55]=e[n],o[57]=n,o}function zt(t,e,n){const o=t.slice();return o[52]=e[n],o[54]=n,o}function Yt(t,e,n){const o=t.slice();return o[49]=e[n],o[51]=n,o}function Xt(t,e,n){const o=t.slice();return o[46]=e[n],o[48]=n,o}function Jt(t){let e,n,o,l,r,i,s,a,c,u=t[12],d=[];for(let e=0;e<u.length;e+=1)d[e]=le(Ft(t,u,e));const f=t=>rt(d[t],1,1,()=>{d[t]=null});return{c(){e=v("td");for(let t=0;t<d.length;t+=1)d[t].c();T(e,"data-col",n=t[51]),T(e,"data-row",o=t[48]),T(e,"data-order",l=t[49][t[48]]),T(e,"data-celltype",r=t[17](t[49][t[48]])),T(e,"class",i=t[18](t[49][t[48]]))},m(n,o){y(n,e,o);for(let t=0;t<d.length;t+=1)d[t].m(e,null);s=!0,a||(c=_(e,"click",t[28]),a=!0)},p(t,n){if(2242560&n[0]){let o;for(u=t[12],o=0;o<u.length;o+=1){const l=Ft(t,u,o);d[o]?(d[o].p(l,n),lt(d[o],1)):(d[o]=le(l),d[o].c(),lt(d[o],1),d[o].m(e,null))}for(nt(),o=u.length;o<d.length;o+=1)f(o);ot()}(!s||8192&n[0]&&l!==(l=t[49][t[48]]))&&T(e,"data-order",l),(!s||8192&n[0]&&r!==(r=t[17](t[49][t[48]])))&&T(e,"data-celltype",r),(!s||8192&n[0]&&i!==(i=t[18](t[49][t[48]])))&&T(e,"class",i)},i(t){if(!s){for(let t=0;t<u.length;t+=1)lt(d[t]);s=!0}},o(t){d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)rt(d[t]);s=!1},d(t){t&&w(e),$(d,t),a=!1,c()}}}function Kt(e){let n;return{c(){n=v("td"),T(n,"class","none")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&w(n)}}}function Qt(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function te(e){let n;function o(t,e){return 0===t[11].turn&&0===t[51]||1===t[11].turn&&4===t[51]?ie:re}let l=o(e),r=l(e);return{c(){r.c(),n=M()},m(t,e){r.m(t,e),y(t,n,e)},p(t,e){l===(l=o(t))&&r?r.p(t,e):(r.d(1),r=l(t),r&&(r.c(),r.m(n.parentNode,n)))},i:t,o:t,d(t){r.d(t),t&&w(n)}}}function ee(t){let e,n,o=(0===t[51]||4===t[51])&&function(t){let e,n,o,l,r,i=[],s=new Map,a=t[12][0===t[51]?0:1].filter(pe);const c=t=>t[52].id;for(let e=0;e<a.length;e+=1){let n=zt(t,a,e),o=c(n);s.set(o,i[e]=se(o,n))}return{c(){e=v("div");for(let t=0;t<i.length;t+=1)i[t].c();T(e,"class",n="pawns pawns"+(0===t[51]?1:2))},m(n,s){y(n,e,s);for(let t=0;t<i.length;t+=1)i[t].m(e,null);o=!0,l||(r=_(e,"click",t[24]),l=!0)},p(t,n){if(2103296&n[0]){const o=t[12][0===t[51]?0:1].filter(pe);nt();for(let t=0;t<i.length;t+=1)i[t].r();i=function(t,e,n,o,l,r,i,s,a,c,u,d){let f=t.length,p=r.length,h=f;const g={};for(;h--;)g[t[h].key]=h;const m=[],y=new Map,w=new Map;for(h=p;h--;){const t=d(l,r,h),s=n(t);let a=i.get(s);a?o&&a.p(t,e):(a=c(s,t),a.c()),y.set(s,m[h]=a),s in g&&w.set(s,Math.abs(h-g[s]))}const $=new Set,v=new Set;function b(t){lt(t,1),t.m(s,u),i.set(t.key,t),u=t.first,p--}for(;f&&p;){const e=m[p-1],n=t[f-1],o=e.key,l=n.key;e===n?(u=e.first,f--,p--):y.has(l)?!i.has(o)||$.has(o)?b(e):v.has(l)?f--:w.get(o)>w.get(l)?(v.add(o),b(e)):($.add(l),f--):(a(n,i),f--)}for(;f--;){const e=t[f];y.has(e.key)||a(e,i)}for(;p;)b(m[p-1]);return m}(i,n,c,1,t,o,s,e,ut,se,null,zt);for(let t=0;t<i.length;t+=1)i[t].a();ot()}},i(t){if(!o){for(let t=0;t<a.length;t+=1)lt(i[t]);o=!0}},o(t){for(let t=0;t<i.length;t+=1)rt(i[t]);o=!1},d(t){t&&w(e);for(let t=0;t<i.length;t+=1)i[t].d();l=!1,r()}}}(t);return{c(){e=v("td"),o&&o.c(),T(e,"class","start none")},m(t,l){y(t,e,l),o&&o.m(e,null),n=!0},p(t,e){0!==t[51]&&4!==t[51]||o.p(t,e)},i(t){n||(lt(o),n=!0)},o(t){rt(o),n=!1},d(t){t&&w(e),o&&o.d()}}}function ne(e){let n,o,l;return o=new Nt({props:{col:e[51]}}),{c(){n=v("td"),dt(o.$$.fragment),T(n,"class","none")},m(t,e){y(t,n,e),ft(o,n,null),l=!0},p:t,i(t){l||(lt(o.$$.fragment,t),l=!0)},o(t){rt(o.$$.fragment,t),l=!1},d(t){t&&w(n),pt(o)}}}function oe(t){let e,n,o,l,r,i,s,a=t[52].id+"";return{c(){e=v("div"),n=k(a),T(e,"class","pawn"),T(e,"data-owner",o=t[52].p),T(e,"data-pawnname",l=t[52].id),N(e,"helpglow",!((1===t[52].p?0:1)!==t[11].turn||!t[11].settings.helpmode||!t[11].rolled||0===t[11].diceToMove)&&t[21](1===t[52].p?0:1,t[11].diceToMove,t[52].loc))},m(t,o){y(t,e,o),m(e,n),s=!0},p(t,r){(!s||12288&r[0])&&a!==(a=t[52].id+"")&&A(n,a),(!s||12288&r[0]&&o!==(o=t[52].p))&&T(e,"data-owner",o),(!s||12288&r[0]&&l!==(l=t[52].id))&&T(e,"data-pawnname",l),2242560&r[0]&&N(e,"helpglow",!((1===t[52].p?0:1)!==t[11].turn||!t[11].settings.helpmode||!t[11].rolled||0===t[11].diceToMove)&&t[21](1===t[52].p?0:1,t[11].diceToMove,t[52].loc))},i(n){s||(W(()=>{i&&i.end(1),r||(r=st(e,t[16],{key:t[52].key})),r.start()}),s=!0)},o(n){r&&r.invalidate(),i=at(e,t[15],{key:t[52].key}),s=!1},d(t){t&&w(e),t&&i&&i.end()}}}function le(t){let e,n;function o(...e){return t[27](t[49],t[48],t[51],t[57],...e)}let l=t[55].filter(o),r=[];for(let e=0;e<l.length;e+=1)r[e]=oe(Wt(t,l,e));const i=t=>rt(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=M()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);y(t,e,o),n=!0},p(n,s){if(t=n,2242560&s[0]){let n;for(l=t[55].filter(o),n=0;n<l.length;n+=1){const o=Wt(t,l,n);r[n]?(r[n].p(o,s),lt(r[n],1)):(r[n]=oe(o),r[n].c(),lt(r[n],1),r[n].m(e.parentNode,e))}for(nt(),n=l.length;n<r.length;n+=1)i(n);ot()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)lt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)rt(r[t]);n=!1},d(t){$(r,t),t&&w(e)}}}function re(e){let n;return{c(){n=v("td"),T(n,"class","none"),T(n,"rowspan","4")},m(t,e){y(t,n,e)},p:t,d(t){t&&w(n)}}}function ie(e){let n,o;return{c(){n=v("td"),T(n,"class","none"),T(n,"rowspan","4"),W(()=>e[26].call(n))},m(t,l){y(t,n,l),e[25](n),o=function(t,e){const n=getComputedStyle(t),o=(parseInt(n.zIndex)||0)-1;"static"===n.position&&(t.style.position="relative");const l=v("iframe");l.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${o};`),l.setAttribute("aria-hidden","true"),l.tabIndex=-1;const r=C();let i;return r?(l.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=_(window,"message",t=>{t.source===l.contentWindow&&e()})):(l.src="about:blank",l.onload=()=>{i=_(l.contentWindow,"resize",e)}),m(t,l),()=>{(r||i&&l.contentWindow)&&i(),w(l)}}(n,e[26].bind(n))},p:t,d(t){t&&w(n),e[25](null),o()}}}function se(n,o){let l,r,i,s,a,c,u,f,p=o[52].id+"",h=t;return{key:n,first:null,c(){l=v("div"),r=k(p),T(l,"class","pawn"),T(l,"data-owner",i=o[52].p),T(l,"data-pawnname",s=o[52].id),N(l,"helpglow",!!((1===o[52].p?0:1)===o[11].turn&&o[11].settings.helpmode&&o[11].rolled&&0!==o[11].diceToMove&&o[54]<1)&&o[21](1===o[52].p?0:1,o[11].diceToMove,o[52].loc)),this.first=l},m(t,e){y(t,l,e),m(l,r),f=!0},p(t,e){(!f||4096&e[0])&&p!==(p=t[52].id+"")&&A(r,p),(!f||4096&e[0]&&i!==(i=t[52].p))&&T(l,"data-owner",i),(!f||4096&e[0]&&s!==(s=t[52].id))&&T(l,"data-pawnname",s),2103296&e[0]&&N(l,"helpglow",!!((1===t[52].p?0:1)===t[11].turn&&t[11].settings.helpmode&&t[11].rolled&&0!==t[11].diceToMove&&t[54]<1)&&t[21](1===t[52].p?0:1,t[11].diceToMove,t[52].loc))},r(){u=l.getBoundingClientRect()},f(){!function(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:o}=e,l=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=o,D(t,l)}}(l),h(),D(l,u)},a(){h(),h=function(n,o,l,r){if(!o)return t;const i=n.getBoundingClientRect();if(o.left===i.left&&o.right===i.right&&o.top===i.top&&o.bottom===i.bottom)return t;const{delay:s=0,duration:a=300,easing:c=e,start:u=d()+s,end:f=u+a,tick:p=t,css:h}=l(n,{from:o,to:i},r);let m,y=!0,w=!1;function $(){h&&B(n,m),y=!1}return g(t=>{if(!w&&t>=u&&(w=!0),w&&t>=f&&(p(1,0),$()),!y)return!1;if(w){const e=0+1*c((t-u)/a);p(e,1-e)}return!0}),h&&(m=R(n,0,1,a,s,c,h)),s||(w=!0),p(0,1),$}(l,u,At,{})},i(t){f||(W(()=>{c&&c.end(1),a||(a=st(l,o[16],{key:o[52].key})),a.start()}),f=!0)},o(t){a&&a.invalidate(),c=at(l,o[15],{key:o[52].key}),f=!1},d(t){t&&w(l),t&&c&&c.end()}}}function ae(t){let e,n,o,l;const r=[ne,ee,te,Qt,Kt,Jt],i=[];function s(t,e){return"15"==t[49][t[48]]?0:"0"==t[48]&&"0"==t[49][t[48]]?1:0!=t[51]&&4!=t[51]||4!==t[48]?(0===t[51]||4===t[51])&&4<t[48]?3:"0"==t[49][t[48]]?4:5:2}return e=s(t),n=i[e]=r[e](t),{c(){n.c(),o=M()},m(t,n){i[e].m(t,n),y(t,o,n),l=!0},p(t,l){let a=e;e=s(t),e===a?i[e].p(t,l):(nt(),rt(i[a],1,1,()=>{i[a]=null}),ot(),n=i[e],n||(n=i[e]=r[e](t),n.c()),lt(n,1),n.m(o.parentNode,o))},i(t){l||(lt(n),l=!0)},o(t){rt(n),l=!1},d(t){i[e].d(t),t&&w(o)}}}function ce(t){let e,n,o,l=t[13][0].col,r=[];for(let e=0;e<l.length;e+=1)r[e]=ae(Yt(t,l,e));const i=t=>rt(r[t],1,1,()=>{r[t]=null});return{c(){e=v("tr");for(let t=0;t<r.length;t+=1)r[t].c();n=x()},m(t,l){y(t,e,l);for(let t=0;t<r.length;t+=1)r[t].m(e,null);m(e,n),o=!0},p(t,o){if(3553666&o[0]){let s;for(l=t[13][0].col,s=0;s<l.length;s+=1){const i=Yt(t,l,s);r[s]?(r[s].p(i,o),lt(r[s],1)):(r[s]=ae(i),r[s].c(),lt(r[s],1),r[s].m(e,n))}for(nt(),s=l.length;s<r.length;s+=1)i(s);ot()}},i(t){if(!o){for(let t=0;t<l.length;t+=1)lt(r[t]);o=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)rt(r[t]);o=!1},d(t){t&&w(e),$(r,t)}}}function ue(t){let e,n;return e=new Gt({props:{dicesArr:t[11].dicesArr,moveToDeck:!0,rolled:t[11].rolled,pos:t[2]}}),e.$on("click",(function(){i(t[0].roll)&&t[0].roll.apply(this,arguments)})),{c(){dt(e.$$.fragment)},m(t,o){ft(e,t,o),n=!0},p(n,o){t=n;const l={};2048&o[0]&&(l.dicesArr=t[11].dicesArr),2048&o[0]&&(l.rolled=t[11].rolled),4&o[0]&&(l.pos=t[2]),e.$set(l)},i(t){n||(lt(e.$$.fragment,t),n=!0)},o(t){rt(e.$$.fragment,t),n=!1},d(t){pt(e,t)}}}function de(t){let e,n,o,l,i,s,a,c,u,d,f,p,h,g,M,S,C,P,E,O,R,B,D,j,U,G,V,Z,q,I,H,F,z,Y,X,J,K,Q,tt,et,it,st,at,ct,ut,ht,gt,mt,yt,wt,$t,vt,bt,kt,xt,Mt,_t,Tt,At,St,Ct,Nt,Lt,Pt,Et,Ot,Rt=!1,Bt=()=>{Rt=!1},Dt=t[11].settings.helpmode?"help on":"help off",jt=t[11].round+"",Ut=t[11].rolled?`<em data-player="${t[10]}">Player ${t[10]}</em> rolled the Dices`:`<em data-player="${t[10]}">Player ${t[10]}</em> hasn't rolled yet.`,Vt=t[11].status+"";W(t[22]),W(t[23]),l=new Gt({props:{dicesArr:t[11].dicesArr,moveToDeck:!1,rolled:t[11].rolled}});let Zt=t[13][0].col[0],Wt=[];for(let e=0;e<Zt.length;e+=1)Wt[e]=ce(Xt(t,Zt,e));const Ft=t=>rt(Wt[t],1,1,()=>{Wt[t]=null});c=new qt({props:{}}),t[30](c);let zt=!t[14].won&&ue(t);return{c(){n=v("div"),o=v("div"),dt(l.$$.fragment),i=x(),s=v("table");for(let t=0;t<Wt.length;t+=1)Wt[t].c();a=x(),dt(c.$$.fragment),u=x(),d=v("nav"),f=v("button"),p=k(Dt),h=x(),g=v("button"),g.textContent="log",M=x(),S=v("button"),S.textContent="rules",C=x(),P=v("div"),E=v("nav"),O=v("button"),O.textContent="x",R=x(),B=v("pre"),D=k("Round:"),j=v("em"),U=k(jt),G=k("\nit's "),V=v("em"),Z=k("Player "),q=k(t[10]),I=k("'s turn\n\n\n"),F=k("\n\n"),Y=x(),X=v("div"),J=v("nav"),K=v("button"),K.textContent="x",Q=x(),tt=v("article"),tt.innerHTML='<h1>Royal Game of UR</h1> \n  <p>... is a two-player strategy race board game that is ~4500years old.</p> \n  <ul><li>When it&#39;s your turn, you roll all 4 tetrahedron (like pyramids, but all sides are triangles) shaped dices.</li> \n  <li>You count the white marked edges that land on top, and move a pawn of your as many squares. All of the movement has to be done by 1 pawn.</li> \n  <li>You can&#39;t land on your own pawns.</li> \n  <li>You can&#39;t land on your opponents pawn if its on the special square in the middle of <strong>War Zone</strong>.</li> \n  <li>You pawns are safe so long as they&#39;re in the <strong>Safe Zone</strong>, which is <strong>first 4</strong> and <strong>last 2 squares</strong> on your path.</li> \n  <li>If you land on one of your opponents pawns, it&#39;ll be moved back to the starting point.</li> \n  <li>You gain a point when you can move your pawn with your exactly last move out of the board.</li> \n  <li>Whoever gets <strong>7 points</strong> first wins!</li></ul> \n<p>Not clear? OR too intrigued about the history of this game? Then you should watch this video featuring <strong>Irving Finkel</strong>, who discovered the long forgotten Game of UR:<br><a href="https://www.youtube.com/watch?v=WZskjLq040I">Tom Scott vs Irving Finkel: The Royal Game of Ur [25:32]</a></p>',et=x(),zt&&zt.c(),it=x(),st=b("svg"),at=b("defs"),ct=b("filter"),ut=b("feMorphology"),ht=b("animate"),gt=b("feGaussianBlur"),mt=b("animate"),yt=b("feFlood"),wt=b("feComposite"),$t=b("feMerge"),vt=b("feMergeNode"),bt=b("feMergeNode"),kt=b("filter"),xt=b("feMorphology"),Mt=b("animate"),_t=b("feGaussianBlur"),Tt=b("animate"),At=b("feFlood"),St=b("feComposite"),Ct=b("feMerge"),Nt=b("feMergeNode"),Lt=b("feMergeNode"),T(o,"class","ghostlayer"),N(o,"ghVisible",1===t[11].rolled),T(n,"class","board"),N(n,"fadeAlittle",1===t[11].rolled),N(f,"modepassive",!t[11].settings.helpmode),T(O,"class","closebutton"),T(V,"data-player",t[10]),H=new L(F),z=new L(null),T(P,"class","status fullscreen"),N(P,"visible","status"===t[11].view),T(K,"class","closebutton"),T(X,"class","rules fullscreen"),N(X,"visible","rules"===t[11].view),T(ht,"attributeName","radius"),T(ht,"values","0;0;0;0;0;3;0;0;0;0;0;4;0;5;0;0;"),T(ht,"dur","6s"),T(ht,"repeatCount","indefinite"),T(ut,"operator","dilate"),T(ut,"radius","4"),T(ut,"in","SourceAlpha"),T(ut,"result","thicken"),T(mt,"attributeName","stdDeviation"),T(mt,"values","0;0;0;0;0;6;0;0;0;0;0;7;1;5;0;0;"),T(mt,"dur","6s"),T(mt,"repeatCount","indefinite"),T(gt,"in","thicken"),T(gt,"stdDeviation","10"),T(gt,"result","blurred"),T(yt,"flood-color","gold"),T(yt,"result","glowColor"),T(wt,"in","glowColor"),T(wt,"in2","blurred"),T(wt,"operator","in"),T(wt,"result","softGlow_colored"),T(vt,"in","softGlow_colored"),T(bt,"in","SourceGraphic"),T(ct,"id","sofGlow"),T(ct,"height","300%"),T(ct,"width","300%"),T(ct,"x","-75%"),T(ct,"y","-75%"),T(Mt,"attributeName","radius"),T(Mt,"values","1;2;0;0;0;0;"),T(Mt,"dur","1s"),T(Mt,"repeatCount","indefinite"),T(xt,"operator","dilate"),T(xt,"radius","0"),T(xt,"in","SourceAlpha"),T(xt,"result","thicken"),T(Tt,"attributeName","stdDeviation"),T(Tt,"values","9;3;1;0;0;0;"),T(Tt,"dur","1s"),T(Tt,"repeatCount","indefinite"),T(_t,"in","thicken"),T(_t,"stdDeviation","0"),T(_t,"result","blurred"),T(At,"flood-color","gold"),T(At,"result","glowColor"),T(St,"in","glowColor"),T(St,"in2","blurred"),T(St,"operator","in"),T(St,"result","softGlow_colored"),T(Nt,"in","softGlow_colored"),T(Lt,"in","SourceGraphic"),T(kt,"id","glowOnce"),T(kt,"height","300%"),T(kt,"width","300%"),T(kt,"x","-75%"),T(kt,"y","-75%"),T(st,"id","svgdefs")},m(r,w){y(r,n,w),m(n,o),ft(l,o,null),m(n,i),m(n,s);for(let t=0;t<Wt.length;t+=1)Wt[t].m(s,null);t[29](n),y(r,a,w),ft(c,r,w),y(r,u,w),y(r,d,w),m(d,f),m(f,p),m(d,h),m(d,g),m(d,M),m(d,S),y(r,C,w),y(r,P,w),m(P,E),m(E,O),m(P,R),m(P,B),m(B,D),m(B,j),m(j,U),m(B,G),m(B,V),m(V,Z),m(V,q),m(B,I),H.m(Ut,B),m(B,F),z.m(Vt,B),y(r,Y,w),y(r,X,w),m(X,J),m(J,K),m(X,Q),m(X,tt),y(r,et,w),zt&&zt.m(r,w),y(r,it,w),y(r,st,w),m(st,at),m(at,ct),m(ct,ut),m(ut,ht),m(ct,gt),m(gt,mt),m(ct,yt),m(ct,wt),m(ct,$t),m($t,vt),m($t,bt),m(at,kt),m(kt,xt),m(xt,Mt),m(kt,_t),m(_t,Tt),m(kt,At),m(kt,St),m(kt,Ct),m(Ct,Nt),m(Ct,Lt),Pt=!0,Et||(Ot=[_(Ht,"keydown",t[19]),_(Ht,"scroll",()=>{Rt=!0,clearTimeout(e),e=It(Bt,100),t[22]()}),_(Ht,"resize",t[23]),_(f,"click",t[31]),_(g,"click",t[32]),_(S,"click",t[33]),_(O,"click",t[34]),_(K,"click",t[35])],Et=!0)},p(t,r){24&r[0]&&!Rt&&(Rt=!0,clearTimeout(e),scrollTo(t[3],t[4]),e=It(Bt,100));const i={};if(2048&r[0]&&(i.dicesArr=t[11].dicesArr),2048&r[0]&&(i.rolled=t[11].rolled),l.$set(i),2048&r[0]&&N(o,"ghVisible",1===t[11].rolled),3553666&r[0]){let e;for(Zt=t[13][0].col[0],e=0;e<Zt.length;e+=1){const n=Xt(t,Zt,e);Wt[e]?(Wt[e].p(n,r),lt(Wt[e],1)):(Wt[e]=ce(n),Wt[e].c(),lt(Wt[e],1),Wt[e].m(s,null))}for(nt(),e=Zt.length;e<Wt.length;e+=1)Ft(e);ot()}2048&r[0]&&N(n,"fadeAlittle",1===t[11].rolled);c.$set({}),(!Pt||2048&r[0])&&Dt!==(Dt=t[11].settings.helpmode?"help on":"help off")&&A(p,Dt),2048&r[0]&&N(f,"modepassive",!t[11].settings.helpmode),(!Pt||2048&r[0])&&jt!==(jt=t[11].round+"")&&A(U,jt),(!Pt||1024&r[0])&&A(q,t[10]),(!Pt||1024&r[0])&&T(V,"data-player",t[10]),(!Pt||3072&r[0])&&Ut!==(Ut=t[11].rolled?`<em data-player="${t[10]}">Player ${t[10]}</em> rolled the Dices`:`<em data-player="${t[10]}">Player ${t[10]}</em> hasn't rolled yet.`)&&H.p(Ut),(!Pt||2048&r[0])&&Vt!==(Vt=t[11].status+"")&&z.p(Vt),2048&r[0]&&N(P,"visible","status"===t[11].view),2048&r[0]&&N(X,"visible","rules"===t[11].view),t[14].won?zt&&(nt(),rt(zt,1,1,()=>{zt=null}),ot()):zt?(zt.p(t,r),16384&r[0]&&lt(zt,1)):(zt=ue(t),zt.c(),lt(zt,1),zt.m(it.parentNode,it))},i(t){if(!Pt){lt(l.$$.fragment,t);for(let t=0;t<Zt.length;t+=1)lt(Wt[t]);lt(c.$$.fragment,t),lt(zt),Pt=!0}},o(t){rt(l.$$.fragment,t),Wt=Wt.filter(Boolean);for(let t=0;t<Wt.length;t+=1)rt(Wt[t]);rt(c.$$.fragment,t),rt(zt),Pt=!1},d(e){e&&w(n),pt(l),$(Wt,e),t[29](null),e&&w(a),t[30](null),pt(c,e),e&&w(u),e&&w(d),e&&w(C),e&&w(P),e&&w(Y),e&&w(X),e&&w(et),zt&&zt.d(e),e&&w(it),e&&w(st),Et=!1,r(Ot)}}}function fe(t){const e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY}}const pe=t=>0===t.loc;function he(t,e,n){let o,l,r,i,s;a(t,$t,t=>n(11,o=t)),a(t,xt,t=>n(12,l=t)),a(t,bt,t=>n(13,r=t)),a(t,vt,t=>n(14,i=t));const[u,d]=Tt({duration:t=>Math.sqrt(200*t),fallback(t,e){const n=getComputedStyle(t),o="none"===n.transform?"":n.transform;return{duration:600,easing:_t,css:t=>`\n\t\t\t\t\ttransform: ${o} scale(${t});\n\t\t\t\t\topacity: ${t}\n\t\t\t\t`}}});let f,p,h=function(t){return t<5||12<t?"safe":"combat"},g=function(t=!1){c($t,o={turn:(o.turn+(t?0:1))%2,rolled:0,played:0,round:o.round+1,status:o.status+"\n...next turn...",dicesArr:[0,0,0,0],settings:o.settings,justScored:o.justScored}),$t.set(o)};let m,y,w,$,v,b,k,x,M,_=function(t,e,n){let r=t-1;if(c($t,o.justScored=!1,o),function(t){return 1==o.rolled&&0==o.played&&C==t}(t)){const n=l[r].findIndex(t=>t.id===Number(e)),i=l[r][n],s=i.loc+o.diceToMove;let a,u,d,f,p,m,y=!0;"safe"===h(s)?15===s?(i.loc=15,c($t,o.justScored=!0,o),setTimeout(()=>{c($t,o.justScored=!1,o)},2e3),c($t,o.status=`<em>Player ${t}'s</em> Pawn <em>${i.id}</em> made it!.\n1 Point for <em>Player ${t}!</em>`,o)):s>15?(y=!1,c($t,o.status="You should land exactly onto the New Home\nIf you can't move otherwise you should <code>Pass</code>",o)):0===s?c($t,o.status="This message shouldn't appear. Case is checked in Dice.svelte",o):(a=l[r].find(t=>t.loc===s),f=null!=a,f&&c($t,o.status=`<em>Player ${t}'s </em> own pawn is there. \nIf you can't move otherwise you should <code>Pass</code>`,o)):(d=l[(r+1)%2].find(t=>t.loc===s),m=null!=d,m&&c($t,o.status=`Opponent <em>Player ${(r+1)%2+1}'s </em> pawn is there.`,o),u=l[r].find(t=>t.loc===s),p=null!=u,p&&c($t,o.status+=`\n<em>Player ${t}'s </em> own pawn is there.`,o)),a||u||m||!y?m&&(8===s?c($t,o.status+=`\nPlayer <em>${d.p}</em>'s Pawn #<em>${d.id}</em> is Safe!\nTry another move!`,o):(c($t,o.status+="Send 'em Home!",o),c($t,o.status+=`\nPlayer <em>${d.p}</em>'s Pawn #<em>${d.id}</em> going back Home `,o),d.loc=0,c(xt,l[r][n].loc=s,l),c($t,o.played=1,o),g())):(c($t,o.status+=`\nPlayer <em data-player="${C}">${C}</em>'s Pawn #<em data-player="${C}">${i.id}</em> moving to square <em>${s}</em>`,o),8===s&&c($t,o.status+="\nPawn is now <em>Untouchable</em>!",o),8!==s&&4!==s||c($t,o.status+=`\n<em data-player="${C}">${C} gets to play again!</em>`,o),c(xt,l[r][n].loc=s,l),c($t,o.played=1,o),g(8===s||4===s))}else c($t,o.status+=void 0!==t?`\nit's not Player <em>${t}</em>'s turn!.`:"\nno pawns there!",o)},T=t=>[...new Set(t)],A=function(t,e,n=null){let o=l[t].map(t=>t.loc+e).filter(t=>t<16),r=T(o),i=T([...l[t]].map(t=>t.loc).filter(t=>0<t&&t<15)),s=T([...l[(t+1)%2]].map(t=>t.loc).filter(t=>8===t)),a=(T([...l[0],...l[1]].map(t=>t.loc).filter(t=>4<t&&t<13)),r.filter(t=>!i.includes(t)&&!s.includes(t)));return null!==n&void 0!==n?(console.log("difference:",a),console.log("thispawn + diceToMove:",`${n} + ${e} = ${n+e}`),console.log("movable pawns:",a.filter(t=>t===n+e).length>0?n:null),console.log(a.filter(t=>t===n+e).length>0&&`${t} ${e} ${n}`),a.filter(t=>t===n+e).length>0):a.length>0},S=!1;U(()=>{n(38,S=!0)}),y={top:null,left:null,width:null,height:null};let C;return t.$$.update=()=>{2048&t.$$.dirty[0]&&n(10,C=o.turn+1),98&t.$$.dirty[0]&&(n(2,y.left=m?fe(m).left:{},y),n(2,y.top=m?fe(m).top:{},y)),384&t.$$.dirty[0]&&(n(2,y.width=x,y),n(2,y.height=k,y)),6&t.$$.dirty[0]&&(y?y.left:({}=m?fe(m).left:void 0)),6&t.$$.dirty[0]&&(y?y.top:({}=m?fe(m).top:void 0)),t.$$.dirty[1],2048&t.$$.dirty[0]&&1===o.rolled&&(A(o.turn,o.diceToMove)||setTimeout(()=>{g()},1e3))},[s,m,y,w,$,v,b,k,x,M,C,o,l,r,i,u,d,h,function(t){return 8===t||4===t?"special":""},function(t){f=t.key,p=t.keyCode,"Escape"!==f&&"Esc"!==f||c($t,o.view="",o)},_,A,function(){n(4,$=Ht.pageYOffset),n(3,w=Ht.pageXOffset)},function(){n(5,v=Ht.innerWidth),n(6,b=Ht.innerHeight)},t=>_(t.target.dataset.owner,t.target.dataset.pawnname,t.target),function(t){V[t?"unshift":"push"](()=>{m=t,n(1,m)})},function(){x=this.offsetWidth,k=this.offsetHeight,n(8,x),n(7,k)},(t,e,n,o,l)=>l.loc===t[e]&&("safe"!==h(l.loc)||n===(0===o?1:3)),t=>_(t.target.dataset.owner,t.target.dataset.pawnname,t.target),function(t){V[t?"unshift":"push"](()=>{M=t,n(9,M)})},function(t){V[t?"unshift":"push"](()=>{s=t,n(0,s)})},()=>c($t,o.settings.helpmode=!o.settings.helpmode,o),()=>c($t,o.view="status",o),()=>c($t,o.view="rules",o),()=>c($t,o.view="",o),()=>c($t,o.view="",o)]}class ge extends mt{constructor(t){super(),gt(this,t,he,de,s,{},[-1,-1])}}function me(e){let n,o,l;return o=new ge({}),{c(){n=v("main"),dt(o.$$.fragment)},m(t,e){y(t,n,e),ft(o,n,null),l=!0},p:t,i(t){l||(lt(o.$$.fragment,t),l=!0)},o(t){rt(o.$$.fragment,t),l=!1},d(t){t&&w(n),pt(o)}}}return new class extends mt{constructor(t){super(),gt(this,t,null,me,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
