var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function l(){return Object.create(null)}function r(t){t.forEach(o)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function a(t,e,n=e){return t.set(n),e}const d="undefined"!=typeof window;let u=d?()=>window.performance.now():()=>Date.now(),f=d?t=>requestAnimationFrame(t):t;const p=new Set;function h(t){p.forEach(e=>{e.c(t)||(p.delete(e),e.f())}),0!==p.size&&f(h)}function m(t){let e;return 0===p.size&&f(h),{promise:new Promise(n=>{p.add(e={c:t,f:n})}),abort(){p.delete(e)}}}function g(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function w(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function x(){return b(" ")}function _(){return b("")}function A(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let C;function N(){if(void 0===C){C=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){C=!0}}return C}function P(t,e,n){t.classList[n?"add":"remove"](e)}class L{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=v(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)y(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach($)}}const S=new Set;let E,O=0;function B(t,e,n,o,l,r,i,s=0){const c=16.666/o;let a="{\n";for(let t=0;t<=1;t+=c){const o=e+(n-e)*r(t);a+=100*t+`%{${i(o,1-o)}}\n`}const d=a+`100% {${i(n,1-n)}}\n}`,u=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(d)}_${s}`,f=t.ownerDocument;S.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(v("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[u]||(h[u]=!0,p.insertRule(`@keyframes ${u} ${d}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?m+", ":""}${u} ${o}ms linear ${l}ms 1 both`,O+=1,u}function R(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),l=n.length-o.length;l&&(t.style.animation=o.join(", "),O-=l,O||f(()=>{O||(S.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),S.clear())}))}function D(n,o,l,r){if(!o)return t;const i=n.getBoundingClientRect();if(o.left===i.left&&o.right===i.right&&o.top===i.top&&o.bottom===i.bottom)return t;const{delay:s=0,duration:c=300,easing:a=e,start:d=u()+s,end:f=d+c,tick:p=t,css:h}=l(n,{from:o,to:i},r);let g,y=!0,$=!1;function w(){h&&R(n,g),y=!1}return m(t=>{if(!$&&t>=d&&($=!0),$&&t>=f&&(p(1,0),w()),!y)return!1;if($){const e=0+1*a((t-d)/c);p(e,1-e)}return!0}),h&&(g=B(n,0,1,c,s,a,h)),s||($=!0),p(0,1),w}function U(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:o}=e,l=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=o,V(t,l)}}function V(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const o=getComputedStyle(t),l="none"===o.transform?"":o.transform;t.style.transform=`${l} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}function Z(t){E=t}function q(t){(function(){if(!E)throw new Error("Function called outside component initialization");return E})().$$.on_mount.push(t)}const H=[],I=[],j=[],z=[],W=Promise.resolve();let G=!1;function X(t){j.push(t)}let F=!1;const Y=new Set;function J(){if(!F){F=!0;do{for(let t=0;t<H.length;t+=1){const e=H[t];Z(e),K(e.$$)}for(H.length=0;I.length;)I.pop()();for(let t=0;t<j.length;t+=1){const e=j[t];Y.has(e)||(Y.add(e),e())}j.length=0}while(H.length);for(;z.length;)z.pop()();G=!1,F=!1,Y.clear()}}function K(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}let Q;function tt(){return Q||(Q=Promise.resolve(),Q.then(()=>{Q=null})),Q}function et(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const nt=new Set;let ot;function lt(){ot={r:0,c:[],p:ot}}function rt(){ot.r||r(ot.c),ot=ot.p}function it(t,e){t&&t.i&&(nt.delete(t),t.i(e))}function st(t,e,n,o){if(t&&t.o){if(nt.has(t))return;nt.add(t),ot.c.push(()=>{nt.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const ct={duration:0};function at(n,o,l){let r,s,c=o(n,l),a=!1,d=0;function f(){r&&R(n,r)}function p(){const{delay:o=0,duration:l=300,easing:i=e,tick:p=t,css:h}=c||ct;h&&(r=B(n,0,1,l,o,i,h,d++)),p(0,1);const g=u()+o,y=g+l;s&&s.abort(),a=!0,X(()=>et(n,!0,"start")),s=m(t=>{if(a){if(t>=y)return p(1,0),et(n,!0,"end"),f(),a=!1;if(t>=g){const e=i((t-g)/l);p(e,1-e)}}return a})}let h=!1;return{start(){h||(R(n),i(c)?(c=c(),tt().then(p)):p())},invalidate(){h=!1},end(){a&&(f(),a=!1)}}}function dt(n,o,l){let s,c=o(n,l),a=!0;const d=ot;function f(){const{delay:o=0,duration:l=300,easing:i=e,tick:f=t,css:p}=c||ct;p&&(s=B(n,1,0,l,o,i,p));const h=u()+o,g=h+l;X(()=>et(n,!1,"start")),m(t=>{if(a){if(t>=g)return f(0,1),et(n,!1,"end"),--d.r||r(d.c),!1;if(t>=h){const e=i((t-h)/l);f(1-e,e)}}return a})}return d.r+=1,i(c)?tt().then(()=>{c=c(),f()}):f(),{end(t){t&&c.tick&&c.tick(1,0),a&&(s&&R(n,s),a=!1)}}}const ut="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ft(t,e){t.f(),function(t,e){st(t,1,1,()=>{e.delete(t.key)})}(t,e)}function pt(t,e,n,o,l,r,i,s,c,a,d,u){let f=t.length,p=r.length,h=f;const m={};for(;h--;)m[t[h].key]=h;const g=[],y=new Map,$=new Map;for(h=p;h--;){const t=u(l,r,h),s=n(t);let c=i.get(s);c?o&&c.p(t,e):(c=a(s,t),c.c()),y.set(s,g[h]=c),s in m&&$.set(s,Math.abs(h-m[s]))}const w=new Set,v=new Set;function k(t){it(t,1),t.m(s,d),i.set(t.key,t),d=t.first,p--}for(;f&&p;){const e=g[p-1],n=t[f-1],o=e.key,l=n.key;e===n?(d=e.first,f--,p--):y.has(l)?!i.has(o)||w.has(o)?k(e):v.has(l)?f--:$.get(o)>$.get(l)?(v.add(o),k(e)):(w.add(l),f--):(c(n,i),f--)}for(;f--;){const e=t[f];y.has(e.key)||c(e,i)}for(;p;)k(g[p-1]);return g}function ht(t){t&&t.c()}function mt(t,e,n){const{fragment:l,on_mount:s,on_destroy:c,after_update:a}=t.$$;l&&l.m(e,n),X(()=>{const e=s.map(o).filter(i);c?c.push(...e):r(e),t.$$.on_mount=[]}),a.forEach(X)}function gt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function yt(t,e){-1===t.$$.dirty[0]&&(H.push(t),G||(G=!0,W.then(J)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function $t(e,n,o,i,s,c,a=[-1]){const d=E;Z(e);const u=n.props||{},f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:l(),dirty:a};let p=!1;if(f.ctx=o?o(e,u,(t,n,...o)=>{const l=o.length?o[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=l)&&(f.bound[t]&&f.bound[t](l),p&&yt(e,t)),n}):[],f.update(),p=!0,r(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach($)}else f.fragment&&f.fragment.c();n.intro&&it(e.$$.fragment),mt(e,n.target,n.anchor),J()}Z(d)}class wt{$destroy(){gt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const vt=[];function kt(e,n=t){let o;const l=[];function r(t){if(s(e,t)&&(e=t,o)){const t=!vt.length;for(let t=0;t<l.length;t+=1){const n=l[t];n[1](),vt.push(n,e)}if(t){for(let t=0;t<vt.length;t+=2)vt[t][0](vt[t+1]);vt.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(i,s=t){const c=[i,s];return l.push(c),1===l.length&&(o=n(r)||t),i(e),()=>{const t=l.indexOf(c);-1!==t&&l.splice(t,1),0===l.length&&(o(),o=null)}}}}let bt=kt({round:1,turn:0,rolled:0,status:"",dicesArr:[0,0,0,0]}),xt=kt({points:[],won:null}),_t=kt([{col:[[13,14,15,0,1,2,3,4],[12,11,10,9,8,7,6,5],[13,14,15,0,1,2,3,4]]},{col:[[{},{},{},{},{},{},{},{}],[{},{},{},{},{},{},{},{}],[{},{},{},{},{},{},{},{}]]}]),At=1,Mt=kt([[{loc:0,p:1,id:1,key:At++},{loc:0,p:1,id:2,key:At++},{loc:0,p:1,id:3,key:At++},{loc:0,p:1,id:4,key:At++},{loc:0,p:1,id:5,key:At++},{loc:0,p:1,id:6,key:At++},{loc:0,p:1,id:7,key:At++}],[{loc:0,p:2,id:1,key:At++},{loc:0,p:2,id:2,key:At++},{loc:0,p:2,id:3,key:At++},{loc:0,p:2,id:4,key:At++},{loc:0,p:2,id:5,key:At++},{loc:0,p:2,id:6,key:At++},{loc:0,p:2,id:7,key:At++}]]);function Tt(t){const e=t-1;return e*e*e+1}function Ct(t){return--t*t*t*t*t+1}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function Nt(t){var{fallback:e}=t,o=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(t);l<o.length;l++)e.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(t,o[l])&&(n[o[l]]=t[o[l]])}return n}(t,["fallback"]);const l=new Map,r=new Map;function s(t,l,r){return(s,c)=>(t.set(c.key,{rect:s.getBoundingClientRect()}),()=>{if(l.has(c.key)){const{rect:t}=l.get(c.key);return l.delete(c.key),function(t,e,l){const{delay:r=0,duration:s=(t=>30*Math.sqrt(t)),easing:c=Tt}=n(n({},o),l),a=e.getBoundingClientRect(),d=t.left-a.left,u=t.top-a.top,f=t.width/a.width,p=t.height/a.height,h=Math.sqrt(d*d+u*u),m=getComputedStyle(e),g="none"===m.transform?"":m.transform,y=+m.opacity;return{delay:r,duration:i(s)?s(h):s,easing:c,css:(t,e)=>`\n\t\t\t\topacity: ${t*y};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${g} translate(${e*d}px,${e*u}px) scale(${t+(1-t)*f}, ${t+(1-t)*p});\n\t\t\t`}}(t,s,c)}return t.delete(c.key),e&&e(s,c,r)})}return[s(r,l,!1),s(l,r,!0)]}function Pt(t,e,n){const o=getComputedStyle(t),l="none"===o.transform?"":o.transform,r=e.from.width/t.clientWidth,s=e.from.height/t.clientHeight,c=(e.from.left-e.to.left)/r,a=(e.from.top-e.to.top)/s,d=Math.sqrt(c*c+a*a),{delay:u=0,duration:f=(t=>120*Math.sqrt(t)),easing:p=Tt}=n;return{delay:u,duration:i(f)?f(d):f,easing:p,css:(t,e)=>`transform: ${l} translate(${e*c}px, ${e*a}px);`}}function Lt(e){let n,o;return{c(){n=v("div"),o=b(e[1]),M(n,"class","scoreboard"),M(n,"data-owner",e[0])},m(t,e){y(t,n,e),g(n,o)},p(t,[e]){2&e&&T(o,t[1]),1&e&&M(n,"data-owner",t[0])},i:t,o:t,d(t){t&&$(n)}}}function St(t,e,n){let o,l,r;c(t,Mt,t=>n(5,o=t)),c(t,xt,t=>n(6,l=t)),c(t,bt,t=>n(7,r=t));let i,s,d,u,{col:f}=e;return s=0===f?0:1,i=s+1,t.$set=t=>{"col"in t&&n(2,f=t.col)},t.$$.update=()=>{58&t.$$.dirty&&(n(4,u=o[s].filter(t=>15===t.loc)),n(1,d=u.length),a(xt,l.points[s]=d,l)),73&t.$$.dirty&&7===l.points[s]&&(a(xt,l.won=i,l),a(bt,r.status=`<em class="special">Player ${i} Won!</em>`,r))},[i,d,f]}class Et extends wt{constructor(t){super(),$t(this,t,St,Lt,s,{col:2})}}class Ot{constructor(){this.crypto="function"==typeof window.crypto.getRandomValues,this.intMin=Number.MIN_VALUE,this.intMax=Number.MAX_VALUE}random(){return this.crypto?window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295:Math.random()}bool(){return this.random()<.5}int(t,e){return this.randinterval(t,e,!0)}float(t,e){return t+(e-t)*this.random()}string(t,e){let n="";for(let o=0;o<t;o++)n+=e.charAt(this.int(0,e.length-1));return n}pick(t){return t[this.int(0,t.length-1)]}chance(t){return this.float(0,100)<t}challenge(t,e,n){let o=(n-t)/((e-t)/100);return o<=0&&(o=0),o>=100&&(o=100),this.chance(o)}shuffle(t){let e,n,o=t.length;for(;--o>0;)n=this.int(0,o),e=t[o],t[o]=t[n],t[n]=e;return t}weighted(t,e){if(t.length!==e.length)throw new RangeError("Chance: Length of array and odds must match");let n,o=0;for(let t=0;t<e.length;++t){if(n=e[t],isNaN(n))throw new RangeError("Chance: All weights must be numbers");n>0&&(o+=n)}if(0===o)throw new RangeError("Chance: No valid entries in array odds");const l=this.random()*o;let r,i=0,s=-1;for(let t=0;t<e.length;++t){if(n=e[t],i+=n,n>0){if(l<=i){r=t;break}s=t}t===e.length-1&&(r=s)}return t[r]}randinterval(t,e,n){return t==e?t:e<t?this.randinterval(e,t,n):t<0||e<1?this.rand(e-t+(n?1:0))+t:t+this.rand(e-t+(n?1:0))}rand(t){return(t<=0||t>this.intMax)&&console.error("n out of (0, INT_MAX]"),Math.floor(this.random()*t)}}function Bt(t){let e,n,o,l,r,i,s,c,a,d;return{c(){e=k("g"),n=k("g"),o=k("path"),l=k("path"),r=k("g"),i=k("path"),s=k("path"),c=k("g"),a=k("path"),d=k("path"),M(o,"d","M50 35L62.9904 57.5H37.0096L50 35Z"),M(o,"fill","#7D7D7D"),M(l,"d","M50 35L62.9904 57.5H37.0096L50 35Z"),M(l,"fill","url(#paint2_linear)"),M(n,"class","white-Dice-tri"),M(i,"d","M50 35V50L37.0096 57.5L50 35Z"),M(i,"fill","#F4F4F4"),M(s,"d","M50 35V50L37.0096 57.5L50 35Z"),M(s,"fill","url(#paint3_linear)"),M(r,"class","white-hi"),M(a,"d","M50 35L62.9904 57.5L50 50V35Z"),M(a,"fill","#B9B9B9"),M(d,"d","M50 35L62.9904 57.5L50 50V35Z"),M(d,"fill","url(#paint4_linear)"),M(c,"class","white-low"),M(e,"class","white-top")},m(t,u){y(t,e,u),g(e,n),g(n,o),g(n,l),g(e,r),g(r,i),g(r,s),g(e,c),g(c,a),g(c,d)},d(t){t&&$(e)}}}function Rt(e){let n,o,l,r,i,s,c,a,d,u,f,p,h,m,w,v,b,x,_,A,T,C,N,P,L,S,E=!!e[0]&&1===e[0]&&Bt();return{c(){n=k("svg"),o=k("g"),l=k("g"),r=k("path"),i=k("g"),s=k("path"),c=k("path"),a=k("g"),d=k("path"),u=k("path"),E&&E.c(),f=k("defs"),p=k("linearGradient"),h=k("stop"),m=k("stop"),w=k("linearGradient"),v=k("stop"),b=k("stop"),x=k("linearGradient"),_=k("stop"),A=k("stop"),T=k("linearGradient"),C=k("stop"),N=k("stop"),P=k("linearGradient"),L=k("stop"),S=k("stop"),M(r,"class","Dice-tri"),M(r,"d","M50 0L93.3013 75H6.69873L50 0Z"),M(r,"fill","#0B0B0B"),M(s,"d","M50 0V50L6.69873 75L50 0Z"),M(s,"fill","black"),M(c,"d","M50 0V50L6.69873 75L50 0Z"),M(c,"fill","url(#paint0_linear)"),M(i,"class","black-hi"),M(d,"d","M50 0L93.3013 75L50 50V0Z"),M(d,"fill","#222222"),M(u,"d","M50 0L93.3013 75L50 50V0Z"),M(u,"fill","url(#paint1_linear)"),M(u,"fill-opacity","0.6"),M(a,"class","black-low"),M(l,"class","black-dice"),M(o,"class","Dice-1-000"),M(h,"stop-color","white"),M(m,"offset","0.677083"),M(m,"stop-color","white"),M(m,"stop-opacity","0"),M(p,"id","paint0_linear"),M(p,"x1","-3.5"),M(p,"y1","-13"),M(p,"x2","92"),M(p,"y2","75"),M(p,"gradientUnits","userSpaceOnUse"),M(v,"stop-color","white"),M(b,"offset","0.304651"),M(b,"stop-color","white"),M(b,"stop-opacity","0"),M(w,"id","paint1_linear"),M(w,"x1","39.8013"),M(w,"y1","-13"),M(w,"x2","135.301"),M(w,"y2","75"),M(w,"gradientUnits","userSpaceOnUse"),M(_,"stop-color","white"),M(A,"offset","1"),M(A,"stop-color","white"),M(A,"stop-opacity","0"),M(x,"id","paint2_linear"),M(x,"x1","50"),M(x,"y1","35"),M(x,"x2","50"),M(x,"y2","65"),M(x,"gradientUnits","userSpaceOnUse"),M(C,"stop-color","white"),M(N,"offset","1"),M(N,"stop-color","white"),M(N,"stop-opacity","0"),M(T,"id","paint3_linear"),M(T,"x1","43.5048"),M(T,"y1","35"),M(T,"x2","43.5048"),M(T,"y2","57.5"),M(T,"gradientUnits","userSpaceOnUse"),M(L,"stop-color","white"),M(S,"offset","1"),M(S,"stop-color","white"),M(S,"stop-opacity","0"),M(P,"id","paint4_linear"),M(P,"x1","56.4952"),M(P,"y1","35"),M(P,"x2","56.4952"),M(P,"y2","57.5"),M(P,"gradientUnits","userSpaceOnUse"),M(n,"width","100"),M(n,"height","100"),M(n,"viewBox","0 0 100 77"),M(n,"fill","none"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"class","diceSvg"),M(n,"style",e[1])},m(t,e){y(t,n,e),g(n,o),g(o,l),g(l,r),g(l,i),g(i,s),g(i,c),g(l,a),g(a,d),g(a,u),E&&E.m(o,null),g(n,f),g(f,p),g(p,h),g(p,m),g(f,w),g(w,v),g(w,b),g(f,x),g(x,_),g(x,A),g(f,T),g(T,C),g(T,N),g(f,P),g(P,L),g(P,S)},p(t,[e]){t[0]&&1===t[0]?E||(E=Bt(),E.c(),E.m(o,null)):E&&(E.d(1),E=null),2&e&&M(n,"style",t[1])},i:t,o:t,d(t){t&&$(n),E&&E.d()}}}function Dt(t,e,n){let o,l=new Ot,{rolledNum:r=0}=e,{rolled:i=null}=e,s=0;return t.$set=t=>{"rolledNum"in t&&n(0,r=t.rolledNum),"rolled"in t&&n(2,i=t.rolled)},t.$$.update=()=>{if(12&t.$$.dirty)if(i){let t=l.int(-5,5);n(3,s+=t),n(1,o=`transform: rotate(calc(${s} * 360deg));`)}else n(1,o=`transform: rotate(calc(${s} * 360deg));`)},[r,o,i]}class Ut extends wt{constructor(t){super(),$t(this,t,Dt,Rt,s,{rolledNum:0,rolled:2})}}function Vt(t,e,n){const o=t.slice();return o[8]=e[n],o[10]=n,o}function Zt(t){let e,n,o;return e=new Ut({props:{rolledNum:t[8],rolled:t[1]}}),{c(){ht(e.$$.fragment),n=x()},m(t,l){mt(e,t,l),y(t,n,l),o=!0},p(t,n){const o={};1&n&&(o.rolledNum=t[8]),2&n&&(o.rolled=t[1]),e.$set(o)},i(t){o||(it(e.$$.fragment,t),o=!0)},o(t){st(e.$$.fragment,t),o=!1},d(t){gt(e,t),t&&$(n)}}}function qt(t){let e,n,o,l,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=Zt(Vt(t,r,e));const s=t=>st(i[t],1,1,()=>{i[t]=null});return{c(){e=v("div");for(let t=0;t<i.length;t+=1)i[t].c();M(e,"class","dicesBlock"),M(e,"style",t[2]),P(e,"rolled",t[1])},m(r,s){y(r,e,s);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0,o||(l=A(e,"click",t[5]),o=!0)},p(t,[o]){if(3&o){let n;for(r=t[0],n=0;n<r.length;n+=1){const l=Vt(t,r,n);i[n]?(i[n].p(l,o),it(i[n],1)):(i[n]=Zt(l),i[n].c(),it(i[n],1),i[n].m(e,null))}for(lt(),n=r.length;n<i.length;n+=1)s(n);rt()}(!n||4&o)&&M(e,"style",t[2]),2&o&&P(e,"rolled",t[1])},i(t){if(!n){for(let t=0;t<r.length;t+=1)it(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)st(i[t]);n=!1},d(t){t&&$(e),w(i,t),o=!1,l()}}}function Ht(t,e,n){const[o,l]=Nt({duration:t=>Math.sqrt(200*t),fallback(t,e){const n=getComputedStyle(t),o="none"===n.transform?"":n.transform;return{duration:600,easing:Ct,css:t=>`\n\t\t\t\t\ttransform: ${o} scale(${t});\n\t\t\t\t\topacity: ${t}\n\t\t\t\t`}}});let{dicesArr:r=[0,0,0,0]}=e,{rolled:i=0}=e,{pos:s={left:0,top:0,width:0,height:0}}=e,{moveToDeck:c}=e,a="";return t.$set=t=>{"dicesArr"in t&&n(0,r=t.dicesArr),"rolled"in t&&n(1,i=t.rolled),"pos"in t&&n(3,s=t.pos),"moveToDeck"in t&&n(4,c=t.moveToDeck)},t.$$.update=()=>{24&t.$$.dirty&&n(2,a=c?`position: absolute; top: ${s.top}px; left: ${s.left}px; width: ${s.width}px; height: ${s.height}px;`:"")},[r,i,a,s,c,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}(t,e)}]}class It extends wt{constructor(t){super(),$t(this,t,Ht,qt,s,{dicesArr:0,rolled:1,pos:3,moveToDeck:4})}}function jt(e){let n,o,l;return{c(){n=v("button"),n.textContent="RESTART"},m(t,r){y(t,n,r),o||(l=A(n,"click",e[1]),o=!0)},p:t,d(t){t&&$(n),o=!1,l()}}}function zt(e){let n,o=e[0].won&&jt(e);return{c(){n=v("div"),o&&o.c(),M(n,"class","command")},m(t,e){y(t,n,e),o&&o.m(n,null)},p(t,[e]){t[0].won?o?o.p(t,e):(o=jt(t),o.c(),o.m(n,null)):o&&(o.d(1),o=null)},i:t,o:t,d(t){t&&$(n),o&&o.d()}}}function Wt(t,e,n){let o,l,r;c(t,bt,t=>n(6,o=t)),c(t,Mt,t=>n(7,l=t)),c(t,xt,t=>n(0,r=t));let i=new Ot,s=()=>i.int(0,1),{rollAll:d=function(){return[s(),s(),s(),s()]}}=e,{nextTurn:u=function(){a(bt,o={turn:(o.turn+1)%2,rolled:0,played:0,round:o.round+1,status:o.status+"\n...next turn...",dicesArr:[0,0,0,0]}),console.log("NEXT TURN")}}=e;const f=(t,e)=>t+e;let p;a(bt,o.dicesArr=[0,0,0,0],o),a(bt,o.diceToMove=o.dicesArr.reduce(f),o),a(bt,o.rolled=0,o),a(bt,o.played=0,o);return t.$set=t=>{"rollAll"in t&&n(2,d=t.rollAll),"nextTurn"in t&&n(3,u=t.nextTurn)},t.$$.update=()=>{64&t.$$.dirty&&(p=o.turn+1)},[r,function(){a(Mt,l=[[{loc:0,p:1,id:1},{loc:0,p:1,id:2},{loc:0,p:1,id:3},{loc:0,p:1,id:4},{loc:0,p:1,id:5},{loc:0,p:1,id:6},{loc:0,p:1,id:7}],[{loc:0,p:2,id:1},{loc:0,p:2,id:2},{loc:0,p:2,id:3},{loc:0,p:2,id:4},{loc:0,p:2,id:5},{loc:0,p:2,id:6},{loc:0,p:2,id:7}]]),a(bt,o={round:1,turn:r.won%2,status:"",dicesArr:[0,0,0,0],played:0,rolled:0}),a(xt,r={points:[],won:null})},d,u,function(){0==o.rolled&&0==o.played?(a(bt,o.dicesArr=d(),o),a(bt,o.diceToMove=o.dicesArr.reduce(f),o),a(bt,o.rolled=1,o),a(bt,o.status=`\nPlayer <em>${p}</em> just rolled: <em>${o.diceToMove}</em>`,o),0===o.diceToMove&&setTimeout(()=>{u()},1e3)):a(bt,o.status+="\nDice is already rolled, you can not roll again.",o)}]}class Gt extends wt{constructor(t){super(),$t(this,t,Wt,zt,s,{rollAll:2,nextTurn:3,roll:4})}get roll(){return this.$$.ctx[4]}}const{setTimeout:Xt,window:Ft}=ut;function Yt(t,e,n){const o=t.slice();return o[42]=e[n],o}function Jt(t,e,n){const o=t.slice();return o[42]=e[n],o[55]=n,o}function Kt(t,e,n){const o=t.slice();return o[51]=e[n],o[53]=n,o}function Qt(t,e,n){const o=t.slice();return o[48]=e[n],o[50]=n,o}function te(t,e,n){const o=t.slice();return o[45]=e[n],o[47]=n,o}function ee(t,e,n){const o=t.slice();return o[42]=e[n],o}function ne(e,n){let o,l,r,i,s,c,a,d,u,f=n[42].id+"",p=t;return{key:e,first:null,c(){o=v("div"),l=b(f),r=x(),M(o,"class","pawn"),M(o,"data-owner",i=n[42].p),M(o,"data-pawnname",s=n[42].id),this.first=o},m(t,e){y(t,o,e),g(o,l),g(o,r),u=!0},p(t,e){(!u||2048&e[0])&&f!==(f=t[42].id+"")&&T(l,f),(!u||2048&e[0]&&i!==(i=t[42].p))&&M(o,"data-owner",i),(!u||2048&e[0]&&s!==(s=t[42].id))&&M(o,"data-pawnname",s)},r(){d=o.getBoundingClientRect()},f(){U(o),p(),V(o,d)},a(){p(),p=D(o,d,Pt,{})},i(t){u||(X(()=>{a&&a.end(1),c||(c=at(o,n[15],{key:n[42].key})),c.start()}),u=!0)},o(t){c&&c.invalidate(),a=dt(o,n[14],{key:n[42].key}),u=!1},d(t){t&&$(o),t&&a&&a.end()}}}function oe(t){let e,n,o,l,r,i,s,c,a,d=t[11],u=[];for(let e=0;e<d.length;e+=1)u[e]=se(Kt(t,d,e));const f=t=>st(u[t],1,1,()=>{u[t]=null});return{c(){e=v("td");for(let t=0;t<u.length;t+=1)u[t].c();M(e,"data-col",n=t[50]),M(e,"data-row",o=t[47]),M(e,"data-order",l=t[48][t[47]]),M(e,"data-celltype",r=t[16](t[48][t[47]])),M(e,"class",i=t[17](t[48][t[47]]))},m(n,o){y(n,e,o);for(let t=0;t<u.length;t+=1)u[t].m(e,null);s=!0,c||(a=A(e,"click",t[24]),c=!0)},p(t,n){if(71680&n[0]){let o;for(d=t[11],o=0;o<d.length;o+=1){const l=Kt(t,d,o);u[o]?(u[o].p(l,n),it(u[o],1)):(u[o]=se(l),u[o].c(),it(u[o],1),u[o].m(e,null))}for(lt(),o=d.length;o<u.length;o+=1)f(o);rt()}(!s||4096&n[0]&&l!==(l=t[48][t[47]]))&&M(e,"data-order",l),(!s||4096&n[0]&&r!==(r=t[16](t[48][t[47]])))&&M(e,"data-celltype",r),(!s||4096&n[0]&&i!==(i=t[17](t[48][t[47]])))&&M(e,"class",i)},i(t){if(!s){for(let t=0;t<d.length;t+=1)it(u[t]);s=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)st(u[t]);s=!1},d(t){t&&$(e),w(u,t),c=!1,a()}}}function le(e){let n;return{c(){n=v("td"),M(n,"class","none")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}function re(e){let n,o,l;return o=new Et({props:{col:e[50]}}),{c(){n=v("td"),ht(o.$$.fragment),M(n,"class","none")},m(t,e){y(t,n,e),mt(o,n,null),l=!0},p:t,i(t){l||(it(o.$$.fragment,t),l=!0)},o(t){st(o.$$.fragment,t),l=!1},d(t){t&&$(n),gt(o)}}}function ie(t){let e,n,o,l,r,i,s,c=t[42].id+"";return{c(){e=v("div"),n=b(c),M(e,"class","pawn"),M(e,"data-owner",o=t[42].p),M(e,"data-pawnname",l=t[42].id)},m(t,o){y(t,e,o),g(e,n),s=!0},p(t,r){(!s||6144&r[0])&&c!==(c=t[42].id+"")&&T(n,c),(!s||6144&r[0]&&o!==(o=t[42].p))&&M(e,"data-owner",o),(!s||6144&r[0]&&l!==(l=t[42].id))&&M(e,"data-pawnname",l)},i(n){s||(X(()=>{i&&i.end(1),r||(r=at(e,t[15],{key:t[42].key})),r.start()}),s=!0)},o(n){r&&r.invalidate(),i=dt(e,t[14],{key:t[42].key}),s=!1},d(t){t&&$(e),t&&i&&i.end()}}}function se(t){let e,n;function o(...e){return t[23](t[48],t[47],t[50],t[53],...e)}let l=t[51].filter(o),r=[];for(let e=0;e<l.length;e+=1)r[e]=ie(Jt(t,l,e));const i=t=>st(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=_()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);y(t,e,o),n=!0},p(n,s){if(t=n,71680&s[0]){let n;for(l=t[51].filter(o),n=0;n<l.length;n+=1){const o=Jt(t,l,n);r[n]?(r[n].p(o,s),it(r[n],1)):(r[n]=ie(o),r[n].c(),it(r[n],1),r[n].m(e.parentNode,e))}for(lt(),n=l.length;n<r.length;n+=1)i(n);rt()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)it(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)st(r[t]);n=!1},d(t){w(r,t),t&&$(e)}}}function ce(t){let e,n,o,l;const r=[re,le,oe],i=[];function s(t,e){return"15"==t[48][t[47]]?0:"0"==t[48][t[47]]?1:2}return e=s(t),n=i[e]=r[e](t),{c(){n.c(),o=_()},m(t,n){i[e].m(t,n),y(t,o,n),l=!0},p(t,l){let c=e;e=s(t),e===c?i[e].p(t,l):(lt(),st(i[c],1,1,()=>{i[c]=null}),rt(),n=i[e],n||(n=i[e]=r[e](t),n.c()),it(n,1),n.m(o.parentNode,o))},i(t){l||(it(n),l=!0)},o(t){st(n),l=!1},d(t){i[e].d(t),t&&$(o)}}}function ae(t){let e,n,o,l=t[12][0].col,r=[];for(let e=0;e<l.length;e+=1)r[e]=ce(Qt(t,l,e));const i=t=>st(r[t],1,1,()=>{r[t]=null});return{c(){e=v("tr");for(let t=0;t<r.length;t+=1)r[t].c();n=x()},m(t,l){y(t,e,l);for(let t=0;t<r.length;t+=1)r[t].m(e,null);g(e,n),o=!0},p(t,o){if(464896&o[0]){let s;for(l=t[12][0].col,s=0;s<l.length;s+=1){const i=Qt(t,l,s);r[s]?(r[s].p(i,o),it(r[s],1)):(r[s]=ce(i),r[s].c(),it(r[s],1),r[s].m(e,n))}for(lt(),s=l.length;s<r.length;s+=1)i(s);rt()}},i(t){if(!o){for(let t=0;t<l.length;t+=1)it(r[t]);o=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)st(r[t]);o=!1},d(t){t&&$(e),w(r,t)}}}function de(e,n){let o,l,r,i,s,c,a,d,u,f=n[42].id+"",p=t;return{key:e,first:null,c(){o=v("div"),l=b(f),r=x(),M(o,"class","pawn"),M(o,"data-owner",i=n[42].p),M(o,"data-pawnname",s=n[42].id),this.first=o},m(t,e){y(t,o,e),g(o,l),g(o,r),u=!0},p(t,e){(!u||2048&e[0])&&f!==(f=t[42].id+"")&&T(l,f),(!u||2048&e[0]&&i!==(i=t[42].p))&&M(o,"data-owner",i),(!u||2048&e[0]&&s!==(s=t[42].id))&&M(o,"data-pawnname",s)},r(){d=o.getBoundingClientRect()},f(){U(o),p(),V(o,d)},a(){p(),p=D(o,d,Pt,{})},i(t){u||(X(()=>{a&&a.end(1),c||(c=at(o,n[15],{key:n[42].key})),c.start()}),u=!0)},o(t){c&&c.invalidate(),a=dt(o,n[14],{key:n[42].key}),u=!1},d(t){t&&$(o),t&&a&&a.end()}}}function ue(t){let e,n;return e=new It({props:{dicesArr:t[10].dicesArr,moveToDeck:!0,rolled:t[10].rolled,pos:t[1]}}),e.$on("click",(function(){i(t[0].roll)&&t[0].roll.apply(this,arguments)})),{c(){ht(e.$$.fragment)},m(t,o){mt(e,t,o),n=!0},p(n,o){t=n;const l={};1024&o[0]&&(l.dicesArr=t[10].dicesArr),1024&o[0]&&(l.rolled=t[10].rolled),2&o[0]&&(l.pos=t[1]),e.$set(l)},i(t){n||(it(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){gt(e,t)}}}function fe(t){let e,n,o,l,i,s,c,a,d,u,f,p,h,m,k,C,S,E,O,B,R,D,U,V,Z,q,H,I,j,z,W,G,F,Y,J,K,Q,tt,et,nt,ot,ct,at,dt,ut,yt,$t,wt,vt,kt,bt,xt,_t=!1,At=()=>{_t=!1},Mt=[],Tt=new Map,Ct=[],Nt=new Map,Pt=t[10].round+"",Lt=t[10].rolled?`<em data-player="${t[9]}">Player ${t[9]}</em> rolled the Dices`:`<em data-player="${t[9]}">Player ${t[9]}</em> hasn't rolled yet.`,St=t[10].status+"";X(t[19]),X(t[20]),l=new It({props:{dicesArr:t[10].dicesArr,moveToDeck:!1,rolled:t[10].rolled}});let Et=t[11][0].filter(he);const Ot=t=>t[42].id;for(let e=0;e<Et.length;e+=1){let n=ee(t,Et,e),o=Ot(n);Tt.set(o,Mt[e]=ne(o,n))}let Bt=t[12][0].col[0],Rt=[];for(let e=0;e<Bt.length;e+=1)Rt[e]=ae(te(t,Bt,e));const Dt=t=>st(Rt[t],1,1,()=>{Rt[t]=null});let Ut=t[11][1].filter(me);const Vt=t=>t[42].id;for(let e=0;e<Ut.length;e+=1){let n=Yt(t,Ut,e),o=Vt(n);Nt.set(o,Ct[e]=de(o,n))}O=new Gt({props:{}}),t[27](O);let Zt=!t[13].won&&ue(t);return{c(){n=v("div"),o=v("div"),ht(l.$$.fragment),i=x(),s=v("div"),c=v("div");for(let t=0;t<Mt.length;t+=1)Mt[t].c();a=x(),d=v("div"),f=x(),p=v("table");for(let t=0;t<Rt.length;t+=1)Rt[t].c();h=x(),m=v("div"),k=v("div");for(let t=0;t<Ct.length;t+=1)Ct[t].c();C=x(),S=v("div"),E=x(),ht(O.$$.fragment),B=x(),R=v("nav"),D=v("button"),D.textContent="log",U=x(),V=v("button"),V.textContent="help",Z=x(),q=v("div"),H=v("nav"),I=v("button"),I.textContent="x",j=x(),z=v("pre"),W=b("Round:"),G=v("em"),F=b(Pt),Y=b("\nit's "),J=v("em"),K=b("Player "),Q=b(t[9]),tt=b("'s turn\n\n\n"),nt=b("\n\n"),ct=x(),at=v("div"),dt=v("nav"),ut=v("button"),ut.textContent="x",yt=x(),$t=v("h2"),$t.textContent="royal game of ur",wt=x(),Zt&&Zt.c(),vt=_(),M(o,"class","ghostlayer"),P(o,"ghVisible",1===t[10].rolled),M(c,"class","pawns pawns1"),M(d,"class","tetra-dices"),X(()=>t[22].call(d)),P(d,"active",0===t[10].turn),M(s,"class","deck deck1"),M(k,"class","pawns pawns2"),M(S,"class","tetra-dices"),P(S,"active",1===t[10].turn),M(m,"class","deck deck2"),M(n,"class","board"),P(n,"fadeAlittle",1===t[10].rolled),M(J,"data-player",t[9]),et=new L(nt),ot=new L(null),M(q,"class","status"),P(q,"visible","status"===t[10].view),M(at,"class","help"),P(at,"visible","help"===t[10].view)},m(r,w){y(r,n,w),g(n,o),mt(l,o,null),g(n,i),g(n,s),g(s,c);for(let t=0;t<Mt.length;t+=1)Mt[t].m(c,null);g(s,a),g(s,d),u=function(t,e){const n=getComputedStyle(t),o=(parseInt(n.zIndex)||0)-1;"static"===n.position&&(t.style.position="relative");const l=v("iframe");l.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${o};`),l.setAttribute("aria-hidden","true"),l.tabIndex=-1;const r=N();let i;return r?(l.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=A(window,"message",t=>{t.source===l.contentWindow&&e()})):(l.src="about:blank",l.onload=()=>{i=A(l.contentWindow,"resize",e)}),g(t,l),()=>{(r||i&&l.contentWindow)&&i(),$(l)}}(d,t[22].bind(d)),g(n,f),g(n,p);for(let t=0;t<Rt.length;t+=1)Rt[t].m(p,null);g(n,h),g(n,m),g(m,k);for(let t=0;t<Ct.length;t+=1)Ct[t].m(k,null);g(m,C),g(m,S),t[26](n),y(r,E,w),mt(O,r,w),y(r,B,w),y(r,R,w),g(R,D),g(R,U),g(R,V),y(r,Z,w),y(r,q,w),g(q,H),g(H,I),g(q,j),g(q,z),g(z,W),g(z,G),g(G,F),g(z,Y),g(z,J),g(J,K),g(J,Q),g(z,tt),et.m(Lt,z),g(z,nt),ot.m(St,z),y(r,ct,w),y(r,at,w),g(at,dt),g(dt,ut),g(at,yt),g(at,$t),y(r,wt,w),Zt&&Zt.m(r,w),y(r,vt,w),kt=!0,bt||(xt=[A(Ft,"scroll",()=>{_t=!0,clearTimeout(e),e=Xt(At,100),t[19]()}),A(Ft,"resize",t[20]),A(c,"click",t[21]),A(k,"click",t[25]),A(D,"click",t[28]),A(V,"click",t[29]),A(I,"click",t[30]),A(ut,"click",t[31])],bt=!0)},p(t,r){12&r[0]&&!_t&&(_t=!0,clearTimeout(e),scrollTo(t[2],t[3]),e=Xt(At,100));const i={};if(1024&r[0]&&(i.dicesArr=t[10].dicesArr),1024&r[0]&&(i.rolled=t[10].rolled),l.$set(i),1024&r[0]&&P(o,"ghVisible",1===t[10].rolled),2048&r[0]){const e=t[11][0].filter(he);lt();for(let t=0;t<Mt.length;t+=1)Mt[t].r();Mt=pt(Mt,r,Ot,1,t,e,Tt,c,ft,ne,null,ee);for(let t=0;t<Mt.length;t+=1)Mt[t].a();rt()}if(1024&r[0]&&P(d,"active",0===t[10].turn),464896&r[0]){let e;for(Bt=t[12][0].col[0],e=0;e<Bt.length;e+=1){const n=te(t,Bt,e);Rt[e]?(Rt[e].p(n,r),it(Rt[e],1)):(Rt[e]=ae(n),Rt[e].c(),it(Rt[e],1),Rt[e].m(p,null))}for(lt(),e=Bt.length;e<Rt.length;e+=1)Dt(e);rt()}if(2048&r[0]){const e=t[11][1].filter(me);lt();for(let t=0;t<Ct.length;t+=1)Ct[t].r();Ct=pt(Ct,r,Vt,1,t,e,Nt,k,ft,de,null,Yt);for(let t=0;t<Ct.length;t+=1)Ct[t].a();rt()}1024&r[0]&&P(S,"active",1===t[10].turn),1024&r[0]&&P(n,"fadeAlittle",1===t[10].rolled);O.$set({}),(!kt||1024&r[0])&&Pt!==(Pt=t[10].round+"")&&T(F,Pt),(!kt||512&r[0])&&T(Q,t[9]),(!kt||512&r[0])&&M(J,"data-player",t[9]),(!kt||1536&r[0])&&Lt!==(Lt=t[10].rolled?`<em data-player="${t[9]}">Player ${t[9]}</em> rolled the Dices`:`<em data-player="${t[9]}">Player ${t[9]}</em> hasn't rolled yet.`)&&et.p(Lt),(!kt||1024&r[0])&&St!==(St=t[10].status+"")&&ot.p(St),1024&r[0]&&P(q,"visible","status"===t[10].view),1024&r[0]&&P(at,"visible","help"===t[10].view),t[13].won?Zt&&(lt(),st(Zt,1,1,()=>{Zt=null}),rt()):Zt?(Zt.p(t,r),8192&r[0]&&it(Zt,1)):(Zt=ue(t),Zt.c(),it(Zt,1),Zt.m(vt.parentNode,vt))},i(t){if(!kt){it(l.$$.fragment,t);for(let t=0;t<Et.length;t+=1)it(Mt[t]);for(let t=0;t<Bt.length;t+=1)it(Rt[t]);for(let t=0;t<Ut.length;t+=1)it(Ct[t]);it(O.$$.fragment,t),it(Zt),kt=!0}},o(t){st(l.$$.fragment,t);for(let t=0;t<Mt.length;t+=1)st(Mt[t]);Rt=Rt.filter(Boolean);for(let t=0;t<Rt.length;t+=1)st(Rt[t]);for(let t=0;t<Ct.length;t+=1)st(Ct[t]);st(O.$$.fragment,t),st(Zt),kt=!1},d(e){e&&$(n),gt(l);for(let t=0;t<Mt.length;t+=1)Mt[t].d();u(),w(Rt,e);for(let t=0;t<Ct.length;t+=1)Ct[t].d();t[26](null),e&&$(E),t[27](null),gt(O,e),e&&$(B),e&&$(R),e&&$(Z),e&&$(q),e&&$(ct),e&&$(at),e&&$(wt),Zt&&Zt.d(e),e&&$(vt),bt=!1,r(xt)}}}function pe(t){const e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY}}const he=t=>0===t.loc,me=t=>0===t.loc;function ge(t,e,n){let o,l,r,i,s;c(t,bt,t=>n(10,o=t)),c(t,Mt,t=>n(11,l=t)),c(t,_t,t=>n(12,r=t)),c(t,xt,t=>n(13,i=t));const[d,u]=Nt({duration:t=>Math.sqrt(200*t),fallback(t,e){const n=getComputedStyle(t),o="none"===n.transform?"":n.transform;return{duration:600,easing:Ct,css:t=>`\n\t\t\t\t\ttransform: ${o} scale(${t});\n\t\t\t\t\topacity: ${t}\n\t\t\t\t`}}});let f,p,h,m,g,y,$,w,v,k=function(t){return t<5||12<t?"safe":"combat"},b=function(t){return 1==o.rolled&&0==o.played&&T==t},x=function(t=!1){a(bt,o={turn:(o.turn+(t?0:1))%2,rolled:0,played:0,round:o.round+1,status:o.status+"\n...next turn...",dicesArr:[0,0,0,0]}),bt.set(o),console.log("NEXT TURN")},_=function(t,e,n){let r=t-1;if(console.log(b(t)?t+" may play":t+" may not play"),b(t)){let n;const i=l[r].findIndex(t=>t.id===Number(e)),s=l[r][i],c=s.loc+o.diceToMove;let d,u,f;console.log(c,t,s.id,s.loc);let p,h,m,g=!0;"safe"===k(c)?(n=Number(1==t?0:2),console.log("check col",n),15===c?(s.loc=15,a(bt,o.status=`<em>Player ${t}'s</em> Pawn <em>${s.id}</em> made it!.\n1 Point for <em>Player ${t}!</em>`,o)):c>15?(g=!1,a(bt,o.status="You should land exactly onto the New Home\nIf you can't move otherwise you should <code>Pass</code>",o)):0===c?a(bt,o.status="This message shouldn't appear. Case is checked in Dice.svelte",o):(d=l[r].find(t=>t.loc===c),p=null!=d,p&&a(bt,o.status=`<em>Player ${t}'s </em> own pawn is there. \nIf you can't move otherwise you should <code>Pass</code>`,o))):(n=1,f=l[(r+1)%2].find(t=>t.loc===c),m=null!=f,m&&a(bt,o.status=`Opponent <em>Player ${(r+1)%2+1}'s </em> pawn is there.`,o),u=l[r].find(t=>t.loc===c),h=null!=u,h&&a(bt,o.status+=`\n<em>Player ${t}'s </em> own pawn is there.`,o)),console.log("that cell",n,c),d||u||m||!g?m&&(8===c?a(bt,o.status+=`\nPlayer <em>${f.p}</em>'s Pawn #<em>${f.id}</em> is Safe!\nTry another move!`,o):(a(bt,o.status+="Send 'em Home!",o),a(bt,o.status+=`\nPlayer <em>${f.p}</em>'s Pawn #<em>${f.id}</em> going back Home `,o),f.loc=0,a(Mt,l[r][i].loc=c,l),a(bt,o.played=1,o),x())):(console.log("MOVING PAWN"),a(bt,o.status+=`\nPlayer <em data-player="${T}">${T}</em>'s Pawn #<em data-player="${T}">${s.id}</em> moving to square <em>${c}</em>`,o),8===c&&a(bt,o.status+="\nPawn is now <em>Untouchable</em>!",o),8!==c&&4!==c||a(bt,o.status+=`\n<em data-player="${T}">${T} gets to play again!</em>`,o),a(Mt,l[r][i].loc=c,l),a(bt,o.played=1,o),x(8===c||4===c))}else a(bt,o.status+=void 0!==t?`\nit's not Player <em>${t}</em>'s turn!.`:"\nno pawns there!",o)},A=t=>[...new Set(t)],M=!1;q(()=>{n(32,M=!0)}),p={top:null,left:null,width:null,height:null};let T;return t.$$.update=()=>{1024&t.$$.dirty[0]&&n(9,T=o.turn+1),1024&t.$$.dirty[0]&&n(33,f=document.querySelector(`.deck${o.turn+1} .tetra-dices`)),48&t.$$.dirty[0]|4&t.$$.dirty[1]&&(n(1,p.left=f?pe(f).left:{},p),n(1,p.top=f?pe(f).top:{},p)),192&t.$$.dirty[0]&&(n(1,p.width=w,p),n(1,p.height=$,p)),2&t.$$.dirty[0]|4&t.$$.dirty[1]&&(p?p.left:({}=f?pe(f).left:void 0)),2&t.$$.dirty[0]|4&t.$$.dirty[1]&&(p?p.top:({}=f?pe(f).top:void 0)),t.$$.dirty[1],1024&t.$$.dirty[0]&&1===o.rolled&&(function(t,e){let n=l[t].map(t=>t.loc+e).filter(t=>t<16),o=A(n),r=A([...l[t]].map(t=>t.loc).filter(t=>0<t&&t<15)),i=A([...l[(t+1)%2]].map(t=>t.loc).filter(t=>8===t));A([...l[0],...l[1]].map(t=>t.loc).filter(t=>4<t&&t<13));return o.filter(t=>!r.includes(t)&&!i.includes(t)).length>0}(o.turn,o.diceToMove)||setTimeout(()=>{x()},1e3))},[s,p,h,m,g,y,$,w,v,T,o,l,r,i,d,u,k,function(t){return 8===t||4===t?"special":""},_,function(){n(3,m=Ft.pageYOffset),n(2,h=Ft.pageXOffset)},function(){n(4,g=Ft.innerWidth),n(5,y=Ft.innerHeight)},t=>_(t.target.dataset.owner,t.target.dataset.pawnname,t.target),function(){w=this.offsetWidth,$=this.offsetHeight,n(7,w),n(6,$)},(t,e,n,o,l)=>l.loc===t[e]&&("safe"!==k(l.loc)||n===(0===o?0:2)),t=>_(t.target.dataset.owner,t.target.dataset.pawnname,t.target),t=>_(t.target.dataset.owner,t.target.dataset.pawnname,t.target),function(t){I[t?"unshift":"push"](()=>{v=t,n(8,v)})},function(t){I[t?"unshift":"push"](()=>{s=t,n(0,s)})},()=>a(bt,o.view="status",o),()=>a(bt,o.view="help",o),()=>a(bt,o.view="",o),()=>a(bt,o.view="",o)]}class ye extends wt{constructor(t){super(),$t(this,t,ge,fe,s,{},[-1,-1])}}function $e(e){let n,o,l;return o=new ye({}),{c(){n=v("main"),ht(o.$$.fragment)},m(t,e){y(t,n,e),mt(o,n,null),l=!0},p:t,i(t){l||(it(o.$$.fragment,t),l=!0)},o(t){st(o.$$.fragment,t),l=!1},d(t){t&&$(n),gt(o)}}}function we(t,e,n){let o,l,r;return c(t,bt,t=>n(0,o=t)),c(t,Mt,t=>n(1,l=t)),c(t,xt,t=>n(2,r=t)),t.$$.update=()=>{1&t.$$.dirty&&console.log("gamestate:",o),2&t.$$.dirty&&console.log("pawns:",l),4&t.$$.dirty&&console.log("game",r)},[]}return new class extends wt{constructor(t){super(),$t(this,t,we,$e,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
