var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function l(){return Object.create(null)}function r(t){t.forEach(o)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function a(t,e,n=e){return t.set(n),e}const d="undefined"!=typeof window;let u=d?()=>window.performance.now():()=>Date.now(),f=d?t=>requestAnimationFrame(t):t;const p=new Set;function h(t){p.forEach(e=>{e.c(t)||(p.delete(e),e.f())}),0!==p.size&&f(h)}function m(t){let e;return 0===p.size&&f(h),{promise:new Promise(n=>{p.add(e={c:t,f:n})}),abort(){p.delete(e)}}}function g(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function w(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function x(){return k(" ")}function _(){return k("")}function M(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let C;function N(){if(void 0===C){C=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){C=!0}}return C}function P(t,e,n){t.classList[n?"add":"remove"](e)}class L{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=v(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)y(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach($)}}const S=new Set;let E,B=0;function O(t,e,n,o,l,r,i,s=0){const c=16.666/o;let a="{\n";for(let t=0;t<=1;t+=c){const o=e+(n-e)*r(t);a+=100*t+`%{${i(o,1-o)}}\n`}const d=a+`100% {${i(n,1-n)}}\n}`,u=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(d)}_${s}`,f=t.ownerDocument;S.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(v("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[u]||(h[u]=!0,p.insertRule(`@keyframes ${u} ${d}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?m+", ":""}${u} ${o}ms linear ${l}ms 1 both`,B+=1,u}function D(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),l=n.length-o.length;l&&(t.style.animation=o.join(", "),B-=l,B||f(()=>{B||(S.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),S.clear())}))}function R(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const o=getComputedStyle(t),l="none"===o.transform?"":o.transform;t.style.transform=`${l} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}function U(t){E=t}function V(t){(function(){if(!E)throw new Error("Function called outside component initialization");return E})().$$.on_mount.push(t)}const Z=[],G=[],H=[],q=[],I=Promise.resolve();let j=!1;function z(t){H.push(t)}let W=!1;const F=new Set;function X(){if(!W){W=!0;do{for(let t=0;t<Z.length;t+=1){const e=Z[t];U(e),Y(e.$$)}for(Z.length=0;G.length;)G.pop()();for(let t=0;t<H.length;t+=1){const e=H[t];F.has(e)||(F.add(e),e())}H.length=0}while(Z.length);for(;q.length;)q.pop()();j=!1,W=!1,F.clear()}}function Y(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}let J;function K(){return J||(J=Promise.resolve(),J.then(()=>{J=null})),J}function Q(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const tt=new Set;let et;function nt(){et={r:0,c:[],p:et}}function ot(){et.r||r(et.c),et=et.p}function lt(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function rt(t,e,n,o){if(t&&t.o){if(tt.has(t))return;tt.add(t),et.c.push(()=>{tt.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const it={duration:0};function st(n,o,l){let r,s,c=o(n,l),a=!1,d=0;function f(){r&&D(n,r)}function p(){const{delay:o=0,duration:l=300,easing:i=e,tick:p=t,css:h}=c||it;h&&(r=O(n,0,1,l,o,i,h,d++)),p(0,1);const g=u()+o,y=g+l;s&&s.abort(),a=!0,z(()=>Q(n,!0,"start")),s=m(t=>{if(a){if(t>=y)return p(1,0),Q(n,!0,"end"),f(),a=!1;if(t>=g){const e=i((t-g)/l);p(e,1-e)}}return a})}let h=!1;return{start(){h||(D(n),i(c)?(c=c(),K().then(p)):p())},invalidate(){h=!1},end(){a&&(f(),a=!1)}}}function ct(n,o,l){let s,c=o(n,l),a=!0;const d=et;function f(){const{delay:o=0,duration:l=300,easing:i=e,tick:f=t,css:p}=c||it;p&&(s=O(n,1,0,l,o,i,p));const h=u()+o,g=h+l;z(()=>Q(n,!1,"start")),m(t=>{if(a){if(t>=g)return f(0,1),Q(n,!1,"end"),--d.r||r(d.c),!1;if(t>=h){const e=i((t-h)/l);f(1-e,e)}}return a})}return d.r+=1,i(c)?K().then(()=>{c=c(),f()}):f(),{end(t){t&&c.tick&&c.tick(1,0),a&&(s&&D(n,s),a=!1)}}}const at="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function dt(t,e){t.f(),function(t,e){rt(t,1,1,()=>{e.delete(t.key)})}(t,e)}function ut(t){t&&t.c()}function ft(t,e,n){const{fragment:l,on_mount:s,on_destroy:c,after_update:a}=t.$$;l&&l.m(e,n),z(()=>{const e=s.map(o).filter(i);c?c.push(...e):r(e),t.$$.on_mount=[]}),a.forEach(z)}function pt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ht(t,e){-1===t.$$.dirty[0]&&(Z.push(t),j||(j=!0,I.then(X)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function mt(e,n,o,i,s,c,a=[-1]){const d=E;U(e);const u=n.props||{},f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:l(),dirty:a};let p=!1;if(f.ctx=o?o(e,u,(t,n,...o)=>{const l=o.length?o[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=l)&&(f.bound[t]&&f.bound[t](l),p&&ht(e,t)),n}):[],f.update(),p=!0,r(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach($)}else f.fragment&&f.fragment.c();n.intro&&lt(e.$$.fragment),ft(e,n.target,n.anchor),X()}U(d)}class gt{$destroy(){pt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const yt=[];function $t(e,n=t){let o;const l=[];function r(t){if(s(e,t)&&(e=t,o)){const t=!yt.length;for(let t=0;t<l.length;t+=1){const n=l[t];n[1](),yt.push(n,e)}if(t){for(let t=0;t<yt.length;t+=2)yt[t][0](yt[t+1]);yt.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(i,s=t){const c=[i,s];return l.push(c),1===l.length&&(o=n(r)||t),i(e),()=>{const t=l.indexOf(c);-1!==t&&l.splice(t,1),0===l.length&&(o(),o=null)}}}}let wt=$t({round:1,turn:0,rolled:0,status:"",dicesArr:[0,0,0,0],settings:{helpmode:!0}}),vt=$t({points:[],won:null}),bt=$t([{col:[[0,0,0,0,0,0,0,0],[13,14,15,0,1,2,3,4],[12,11,10,9,8,7,6,5],[13,14,15,0,1,2,3,4],[0,0,0,0,0,0,0,0]]},{col:[[{},{},{},{},{},{},{},{}],[{},{},{},{},{},{},{},{}],[{},{},{},{},{},{},{},{}]]}]),kt=1,xt=$t([[{loc:0,p:1,id:1,key:kt++},{loc:0,p:1,id:2,key:kt++},{loc:0,p:1,id:3,key:kt++},{loc:0,p:1,id:4,key:kt++},{loc:0,p:1,id:5,key:kt++},{loc:0,p:1,id:6,key:kt++},{loc:0,p:1,id:7,key:kt++}],[{loc:0,p:2,id:1,key:kt++},{loc:0,p:2,id:2,key:kt++},{loc:0,p:2,id:3,key:kt++},{loc:0,p:2,id:4,key:kt++},{loc:0,p:2,id:5,key:kt++},{loc:0,p:2,id:6,key:kt++},{loc:0,p:2,id:7,key:kt++}]]);function _t(t){const e=t-1;return e*e*e+1}function Mt(t){return--t*t*t*t*t+1}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function At(t){var{fallback:e}=t,o=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(t);l<o.length;l++)e.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(t,o[l])&&(n[o[l]]=t[o[l]])}return n}(t,["fallback"]);const l=new Map,r=new Map;function s(t,l,r){return(s,c)=>(t.set(c.key,{rect:s.getBoundingClientRect()}),()=>{if(l.has(c.key)){const{rect:t}=l.get(c.key);return l.delete(c.key),function(t,e,l){const{delay:r=0,duration:s=(t=>30*Math.sqrt(t)),easing:c=_t}=n(n({},o),l),a=e.getBoundingClientRect(),d=t.left-a.left,u=t.top-a.top,f=t.width/a.width,p=t.height/a.height,h=Math.sqrt(d*d+u*u),m=getComputedStyle(e),g="none"===m.transform?"":m.transform,y=+m.opacity;return{delay:r,duration:i(s)?s(h):s,easing:c,css:(t,e)=>`\n\t\t\t\topacity: ${t*y};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${g} translate(${e*d}px,${e*u}px) scale(${t+(1-t)*f}, ${t+(1-t)*p});\n\t\t\t`}}(t,s,c)}return t.delete(c.key),e&&e(s,c,r)})}return[s(r,l,!1),s(l,r,!0)]}function Tt(t,e,n){const o=getComputedStyle(t),l="none"===o.transform?"":o.transform,r=e.from.width/t.clientWidth,s=e.from.height/t.clientHeight,c=(e.from.left-e.to.left)/r,a=(e.from.top-e.to.top)/s,d=Math.sqrt(c*c+a*a),{delay:u=0,duration:f=(t=>120*Math.sqrt(t)),easing:p=_t}=n;return{delay:u,duration:i(f)?f(d):f,easing:p,css:(t,e)=>`transform: ${l} translate(${e*c}px, ${e*a}px);`}}function Ct(e){let n,o;return{c(){n=v("div"),o=k(e[1]),A(n,"class","scoreboard"),A(n,"data-owner",e[0])},m(t,e){y(t,n,e),g(n,o)},p(t,[e]){2&e&&T(o,t[1]),1&e&&A(n,"data-owner",t[0])},i:t,o:t,d(t){t&&$(n)}}}function Nt(t,e,n){let o,l,r;c(t,xt,t=>n(5,o=t)),c(t,vt,t=>n(6,l=t)),c(t,wt,t=>n(7,r=t));let i,s,d,u,{col:f}=e;return s=1===f?0:1,i=s+1,t.$set=t=>{"col"in t&&n(2,f=t.col)},t.$$.update=()=>{58&t.$$.dirty&&(n(4,u=o[s].filter(t=>15===t.loc)),n(1,d=u.length),a(vt,l.points[s]=d,l)),73&t.$$.dirty&&7===l.points[s]&&(a(vt,l.won=i,l),a(wt,r.status=`<em class="special">Player ${i} Won!</em>`,r))},[i,d,f]}class Pt extends gt{constructor(t){super(),mt(this,t,Nt,Ct,s,{col:2})}}class Lt{constructor(){this.crypto="function"==typeof window.crypto.getRandomValues,this.intMin=Number.MIN_VALUE,this.intMax=Number.MAX_VALUE}random(){return this.crypto?window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295:Math.random()}bool(){return this.random()<.5}int(t,e){return this.randinterval(t,e,!0)}float(t,e){return t+(e-t)*this.random()}string(t,e){let n="";for(let o=0;o<t;o++)n+=e.charAt(this.int(0,e.length-1));return n}pick(t){return t[this.int(0,t.length-1)]}chance(t){return this.float(0,100)<t}challenge(t,e,n){let o=(n-t)/((e-t)/100);return o<=0&&(o=0),o>=100&&(o=100),this.chance(o)}shuffle(t){let e,n,o=t.length;for(;--o>0;)n=this.int(0,o),e=t[o],t[o]=t[n],t[n]=e;return t}weighted(t,e){if(t.length!==e.length)throw new RangeError("Chance: Length of array and odds must match");let n,o=0;for(let t=0;t<e.length;++t){if(n=e[t],isNaN(n))throw new RangeError("Chance: All weights must be numbers");n>0&&(o+=n)}if(0===o)throw new RangeError("Chance: No valid entries in array odds");const l=this.random()*o;let r,i=0,s=-1;for(let t=0;t<e.length;++t){if(n=e[t],i+=n,n>0){if(l<=i){r=t;break}s=t}t===e.length-1&&(r=s)}return t[r]}randinterval(t,e,n){return t==e?t:e<t?this.randinterval(e,t,n):t<0||e<1?this.rand(e-t+(n?1:0))+t:t+this.rand(e-t+(n?1:0))}rand(t){return(t<=0||t>this.intMax)&&console.error("n out of (0, INT_MAX]"),Math.floor(this.random()*t)}}function St(t){let e,n,o,l,r,i,s,c,a,d;return{c(){e=b("g"),n=b("g"),o=b("path"),l=b("path"),r=b("g"),i=b("path"),s=b("path"),c=b("g"),a=b("path"),d=b("path"),A(o,"d","M50 35L62.9904 57.5H37.0096L50 35Z"),A(o,"fill","#7D7D7D"),A(l,"d","M50 35L62.9904 57.5H37.0096L50 35Z"),A(l,"fill","url(#paint2_linear)"),A(n,"class","white-Dice-tri"),A(i,"d","M50 35V50L37.0096 57.5L50 35Z"),A(i,"fill","#F4F4F4"),A(s,"d","M50 35V50L37.0096 57.5L50 35Z"),A(s,"fill","url(#paint3_linear)"),A(r,"class","white-hi"),A(a,"d","M50 35L62.9904 57.5L50 50V35Z"),A(a,"fill","#B9B9B9"),A(d,"d","M50 35L62.9904 57.5L50 50V35Z"),A(d,"fill","url(#paint4_linear)"),A(c,"class","white-low"),A(e,"class","white-top")},m(t,u){y(t,e,u),g(e,n),g(n,o),g(n,l),g(e,r),g(r,i),g(r,s),g(e,c),g(c,a),g(c,d)},d(t){t&&$(e)}}}function Et(e){let n,o,l,r,i,s,c,a,d,u,f,p,h,m,w,v,k,x,_,M,T,C,N,P,L,S,E=!!e[0]&&1===e[0]&&St();return{c(){n=b("svg"),o=b("g"),l=b("g"),r=b("path"),i=b("g"),s=b("path"),c=b("path"),a=b("g"),d=b("path"),u=b("path"),E&&E.c(),f=b("defs"),p=b("linearGradient"),h=b("stop"),m=b("stop"),w=b("linearGradient"),v=b("stop"),k=b("stop"),x=b("linearGradient"),_=b("stop"),M=b("stop"),T=b("linearGradient"),C=b("stop"),N=b("stop"),P=b("linearGradient"),L=b("stop"),S=b("stop"),A(r,"class","Dice-tri"),A(r,"d","M50 0L93.3013 75H6.69873L50 0Z"),A(r,"fill","#0B0B0B"),A(s,"d","M50 0V50L6.69873 75L50 0Z"),A(s,"fill","black"),A(c,"d","M50 0V50L6.69873 75L50 0Z"),A(c,"fill","url(#paint0_linear)"),A(i,"class","black-hi"),A(d,"d","M50 0L93.3013 75L50 50V0Z"),A(d,"fill","#222222"),A(u,"d","M50 0L93.3013 75L50 50V0Z"),A(u,"fill","url(#paint1_linear)"),A(u,"fill-opacity","0.6"),A(a,"class","black-low"),A(l,"class","black-dice"),A(o,"class","Dice-1-000"),A(h,"stop-color","white"),A(m,"offset","0.677083"),A(m,"stop-color","white"),A(m,"stop-opacity","0"),A(p,"id","paint0_linear"),A(p,"x1","-3.5"),A(p,"y1","-13"),A(p,"x2","92"),A(p,"y2","75"),A(p,"gradientUnits","userSpaceOnUse"),A(v,"stop-color","white"),A(k,"offset","0.304651"),A(k,"stop-color","white"),A(k,"stop-opacity","0"),A(w,"id","paint1_linear"),A(w,"x1","39.8013"),A(w,"y1","-13"),A(w,"x2","135.301"),A(w,"y2","75"),A(w,"gradientUnits","userSpaceOnUse"),A(_,"stop-color","white"),A(M,"offset","1"),A(M,"stop-color","white"),A(M,"stop-opacity","0"),A(x,"id","paint2_linear"),A(x,"x1","50"),A(x,"y1","35"),A(x,"x2","50"),A(x,"y2","65"),A(x,"gradientUnits","userSpaceOnUse"),A(C,"stop-color","white"),A(N,"offset","1"),A(N,"stop-color","white"),A(N,"stop-opacity","0"),A(T,"id","paint3_linear"),A(T,"x1","43.5048"),A(T,"y1","35"),A(T,"x2","43.5048"),A(T,"y2","57.5"),A(T,"gradientUnits","userSpaceOnUse"),A(L,"stop-color","white"),A(S,"offset","1"),A(S,"stop-color","white"),A(S,"stop-opacity","0"),A(P,"id","paint4_linear"),A(P,"x1","56.4952"),A(P,"y1","35"),A(P,"x2","56.4952"),A(P,"y2","57.5"),A(P,"gradientUnits","userSpaceOnUse"),A(n,"width","100"),A(n,"height","100"),A(n,"viewBox","0 0 100 77"),A(n,"fill","none"),A(n,"xmlns","http://www.w3.org/2000/svg"),A(n,"class","diceSvg"),A(n,"style",e[1])},m(t,e){y(t,n,e),g(n,o),g(o,l),g(l,r),g(l,i),g(i,s),g(i,c),g(l,a),g(a,d),g(a,u),E&&E.m(o,null),g(n,f),g(f,p),g(p,h),g(p,m),g(f,w),g(w,v),g(w,k),g(f,x),g(x,_),g(x,M),g(f,T),g(T,C),g(T,N),g(f,P),g(P,L),g(P,S)},p(t,[e]){t[0]&&1===t[0]?E||(E=St(),E.c(),E.m(o,null)):E&&(E.d(1),E=null),2&e&&A(n,"style",t[1])},i:t,o:t,d(t){t&&$(n),E&&E.d()}}}function Bt(t,e,n){let o,l=new Lt,{rolledNum:r=0}=e,{rolled:i=null}=e,s=0;return t.$set=t=>{"rolledNum"in t&&n(0,r=t.rolledNum),"rolled"in t&&n(2,i=t.rolled)},t.$$.update=()=>{if(12&t.$$.dirty)if(i){let t=l.int(-5,5);n(3,s+=t),n(1,o=`transform: rotate(calc(${s} * 360deg));`)}else n(1,o=`transform: rotate(calc(${s} * 360deg));`)},[r,o,i]}class Ot extends gt{constructor(t){super(),mt(this,t,Bt,Et,s,{rolledNum:0,rolled:2})}}function Dt(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function Rt(t){let e,n,o;return e=new Ot({props:{rolledNum:t[9],rolled:t[1]}}),{c(){ut(e.$$.fragment),n=x()},m(t,l){ft(e,t,l),y(t,n,l),o=!0},p(t,n){const o={};1&n&&(o.rolledNum=t[9]),2&n&&(o.rolled=t[1]),e.$set(o)},i(t){o||(lt(e.$$.fragment,t),o=!0)},o(t){rt(e.$$.fragment,t),o=!1},d(t){pt(e,t),t&&$(n)}}}function Ut(t){let e,n,o,l,r=t[0],i=[];for(let e=0;e<r.length;e+=1)i[e]=Rt(Dt(t,r,e));const s=t=>rt(i[t],1,1,()=>{i[t]=null});return{c(){e=v("div");for(let t=0;t<i.length;t+=1)i[t].c();A(e,"class","dicesBlock"),A(e,"style",t[2]),P(e,"rolled",t[1]),P(e,"helpglow",t[3].settings.helpmode&&!t[1])},m(r,s){y(r,e,s);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0,o||(l=M(e,"click",t[6]),o=!0)},p(t,[o]){if(3&o){let n;for(r=t[0],n=0;n<r.length;n+=1){const l=Dt(t,r,n);i[n]?(i[n].p(l,o),lt(i[n],1)):(i[n]=Rt(l),i[n].c(),lt(i[n],1),i[n].m(e,null))}for(nt(),n=r.length;n<i.length;n+=1)s(n);ot()}(!n||4&o)&&A(e,"style",t[2]),2&o&&P(e,"rolled",t[1]),10&o&&P(e,"helpglow",t[3].settings.helpmode&&!t[1])},i(t){if(!n){for(let t=0;t<r.length;t+=1)lt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)rt(i[t]);n=!1},d(t){t&&$(e),w(i,t),o=!1,l()}}}function Vt(t,e,n){let o;c(t,wt,t=>n(3,o=t));const[l,r]=At({duration:t=>Math.sqrt(200*t),fallback(t,e){const n=getComputedStyle(t),o="none"===n.transform?"":n.transform;return{duration:600,easing:Mt,css:t=>`\n\t\t\t\t\ttransform: ${o} scale(${t});\n\t\t\t\t\topacity: ${t}\n\t\t\t\t`}}});let{dicesArr:i=[0,0,0,0]}=e,{rolled:s=0}=e,{pos:a={left:0,top:0,width:0,height:0}}=e,{moveToDeck:d}=e,u="";return t.$set=t=>{"dicesArr"in t&&n(0,i=t.dicesArr),"rolled"in t&&n(1,s=t.rolled),"pos"in t&&n(4,a=t.pos),"moveToDeck"in t&&n(5,d=t.moveToDeck)},t.$$.update=()=>{48&t.$$.dirty&&n(2,u=d?`position: absolute; top: ${a.top}px; left: ${a.left}px; width: ${a.width}px; height: ${a.height}px;`:"")},[i,s,u,o,a,d,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}(t,e)}]}class Zt extends gt{constructor(t){super(),mt(this,t,Vt,Ut,s,{dicesArr:0,rolled:1,pos:4,moveToDeck:5})}}function Gt(e){let n,o,l,r;return{c(){n=v("div"),o=v("button"),o.textContent="RESTART",A(n,"class","command")},m(t,i){y(t,n,i),g(n,o),l||(r=M(o,"click",e[1]),l=!0)},p:t,d(t){t&&$(n),l=!1,r()}}}function Ht(e){let n,o=e[0].won&&Gt(e);return{c(){o&&o.c(),n=_()},m(t,e){o&&o.m(t,e),y(t,n,e)},p(t,[e]){t[0].won?o?o.p(t,e):(o=Gt(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:t,o:t,d(t){o&&o.d(t),t&&$(n)}}}function qt(t,e,n){let o,l,r;c(t,wt,t=>n(6,o=t)),c(t,xt,t=>n(7,l=t)),c(t,vt,t=>n(0,r=t));let i=new Lt,s=()=>i.int(0,1),{rollAll:d=function(){return[s(),s(),s(),s()]}}=e,{nextTurn:u=function(){a(wt,o={turn:(o.turn+1)%2,rolled:0,played:0,round:o.round+1,status:o.status+"\n...next turn...",dicesArr:[0,0,0,0],settings:o.settings}),console.log("NEXT TURN")}}=e;const f=(t,e)=>t+e;let p;a(wt,o.dicesArr=[0,0,0,0],o),a(wt,o.diceToMove=o.dicesArr.reduce(f),o),a(wt,o.rolled=0,o),a(wt,o.played=0,o);return t.$set=t=>{"rollAll"in t&&n(2,d=t.rollAll),"nextTurn"in t&&n(3,u=t.nextTurn)},t.$$.update=()=>{64&t.$$.dirty&&(p=o.turn+1)},[r,function(){a(xt,l=[[{loc:0,p:1,id:1},{loc:0,p:1,id:2},{loc:0,p:1,id:3},{loc:0,p:1,id:4},{loc:0,p:1,id:5},{loc:0,p:1,id:6},{loc:0,p:1,id:7}],[{loc:0,p:2,id:1},{loc:0,p:2,id:2},{loc:0,p:2,id:3},{loc:0,p:2,id:4},{loc:0,p:2,id:5},{loc:0,p:2,id:6},{loc:0,p:2,id:7}]]),a(wt,o={round:1,turn:r.won%2,status:"",dicesArr:[0,0,0,0],played:0,rolled:0,settings:o.settings}),a(vt,r={points:[],won:null})},d,u,function(){0==o.rolled&&0==o.played?(a(wt,o.dicesArr=d(),o),a(wt,o.diceToMove=o.dicesArr.reduce(f),o),a(wt,o.rolled=1,o),a(wt,o.status=`\nPlayer <em>${p}</em> just rolled: <em>${o.diceToMove}</em>`,o),0===o.diceToMove&&setTimeout(()=>{u()},1e3)):a(wt,o.status+="\nDice is already rolled, you can not roll again.",o)}]}class It extends gt{constructor(t){super(),mt(this,t,qt,Ht,s,{rollAll:2,nextTurn:3,roll:4})}get roll(){return this.$$.ctx[4]}}const{setTimeout:jt,window:zt}=at;function Wt(t,e,n){const o=t.slice();return o[48]=e[n],o[55]=n,o}function Ft(t,e,n){const o=t.slice();return o[51]=e[n],o[53]=n,o}function Xt(t,e,n){const o=t.slice();return o[48]=e[n],o[50]=n,o}function Yt(t,e,n){const o=t.slice();return o[45]=e[n],o[47]=n,o}function Jt(t,e,n){const o=t.slice();return o[42]=e[n],o[44]=n,o}function Kt(t){let e,n,o,l,r,i,s,c,a,d=t[12],u=[];for(let e=0;e<d.length;e+=1)u[e]=re(Ft(t,d,e));const f=t=>rt(u[t],1,1,()=>{u[t]=null});return{c(){e=v("td");for(let t=0;t<u.length;t+=1)u[t].c();A(e,"data-col",n=t[47]),A(e,"data-row",o=t[44]),A(e,"data-order",l=t[45][t[44]]),A(e,"data-celltype",r=t[17](t[45][t[44]])),A(e,"class",i=t[18](t[45][t[44]]))},m(n,o){y(n,e,o);for(let t=0;t<u.length;t+=1)u[t].m(e,null);s=!0,c||(a=M(e,"click",t[27]),c=!0)},p(t,n){if(1193984&n[0]){let o;for(d=t[12],o=0;o<d.length;o+=1){const l=Ft(t,d,o);u[o]?(u[o].p(l,n),lt(u[o],1)):(u[o]=re(l),u[o].c(),lt(u[o],1),u[o].m(e,null))}for(nt(),o=d.length;o<u.length;o+=1)f(o);ot()}(!s||8192&n[0]&&l!==(l=t[45][t[44]]))&&A(e,"data-order",l),(!s||8192&n[0]&&r!==(r=t[17](t[45][t[44]])))&&A(e,"data-celltype",r),(!s||8192&n[0]&&i!==(i=t[18](t[45][t[44]])))&&A(e,"class",i)},i(t){if(!s){for(let t=0;t<d.length;t+=1)lt(u[t]);s=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)rt(u[t]);s=!1},d(t){t&&$(e),w(u,t),c=!1,a()}}}function Qt(e){let n;return{c(){n=v("td"),A(n,"class","none")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&$(n)}}}function te(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function ee(e){let n;function o(t,e){return 0===t[11].turn&&0===t[47]||1===t[11].turn&&4===t[47]?se:ie}let l=o(e),r=l(e);return{c(){r.c(),n=_()},m(t,e){r.m(t,e),y(t,n,e)},p(t,e){l===(l=o(t))&&r?r.p(t,e):(r.d(1),r=l(t),r&&(r.c(),r.m(n.parentNode,n)))},i:t,o:t,d(t){r.d(t),t&&$(n)}}}function ne(t){let e,n,o=(0===t[47]||4===t[47])&&function(t){let e,n,o,l,r,i=[],s=new Map,c=t[12][0===t[47]?0:1].filter(he);const a=t=>t[48].id;for(let e=0;e<c.length;e+=1){let n=Xt(t,c,e),o=a(n);s.set(o,i[e]=ce(o,n))}return{c(){e=v("div");for(let t=0;t<i.length;t+=1)i[t].c();A(e,"class",n="pawns pawns"+(0===t[47]?1:2))},m(n,s){y(n,e,s);for(let t=0;t<i.length;t+=1)i[t].m(e,null);o=!0,l||(r=M(e,"click",t[23]),l=!0)},p(t,n){if(1054720&n[0]){const o=t[12][0===t[47]?0:1].filter(he);nt();for(let t=0;t<i.length;t+=1)i[t].r();i=function(t,e,n,o,l,r,i,s,c,a,d,u){let f=t.length,p=r.length,h=f;const m={};for(;h--;)m[t[h].key]=h;const g=[],y=new Map,$=new Map;for(h=p;h--;){const t=u(l,r,h),s=n(t);let c=i.get(s);c?o&&c.p(t,e):(c=a(s,t),c.c()),y.set(s,g[h]=c),s in m&&$.set(s,Math.abs(h-m[s]))}const w=new Set,v=new Set;function b(t){lt(t,1),t.m(s,d),i.set(t.key,t),d=t.first,p--}for(;f&&p;){const e=g[p-1],n=t[f-1],o=e.key,l=n.key;e===n?(d=e.first,f--,p--):y.has(l)?!i.has(o)||w.has(o)?b(e):v.has(l)?f--:$.get(o)>$.get(l)?(v.add(o),b(e)):(w.add(l),f--):(c(n,i),f--)}for(;f--;){const e=t[f];y.has(e.key)||c(e,i)}for(;p;)b(g[p-1]);return g}(i,n,a,1,t,o,s,e,dt,ce,null,Xt);for(let t=0;t<i.length;t+=1)i[t].a();ot()}},i(t){if(!o){for(let t=0;t<c.length;t+=1)lt(i[t]);o=!0}},o(t){for(let t=0;t<i.length;t+=1)rt(i[t]);o=!1},d(t){t&&$(e);for(let t=0;t<i.length;t+=1)i[t].d();l=!1,r()}}}(t);return{c(){e=v("td"),o&&o.c(),A(e,"class","start none")},m(t,l){y(t,e,l),o&&o.m(e,null),n=!0},p(t,e){0!==t[47]&&4!==t[47]||o.p(t,e)},i(t){n||(lt(o),n=!0)},o(t){rt(o),n=!1},d(t){t&&$(e),o&&o.d()}}}function oe(e){let n,o,l;return o=new Pt({props:{col:e[47]}}),{c(){n=v("td"),ut(o.$$.fragment),A(n,"class","none")},m(t,e){y(t,n,e),ft(o,n,null),l=!0},p:t,i(t){l||(lt(o.$$.fragment,t),l=!0)},o(t){rt(o.$$.fragment,t),l=!1},d(t){t&&$(n),pt(o)}}}function le(t){let e,n,o,l,r,i,s,c=t[48].id+"";return{c(){e=v("div"),n=k(c),A(e,"class","pawn"),A(e,"data-owner",o=t[48].p),A(e,"data-pawnname",l=t[48].id),P(e,"helpglow",!((1===t[48].p?0:1)!==t[11].turn||!t[11].settings.helpmode||!t[11].rolled||0===t[11].diceToMove)&&t[20](1===t[48].p?0:1,t[11].diceToMove,t[48].loc))},m(t,o){y(t,e,o),g(e,n),s=!0},p(t,r){(!s||12288&r[0])&&c!==(c=t[48].id+"")&&T(n,c),(!s||12288&r[0]&&o!==(o=t[48].p))&&A(e,"data-owner",o),(!s||12288&r[0]&&l!==(l=t[48].id))&&A(e,"data-pawnname",l),1193984&r[0]&&P(e,"helpglow",!((1===t[48].p?0:1)!==t[11].turn||!t[11].settings.helpmode||!t[11].rolled||0===t[11].diceToMove)&&t[20](1===t[48].p?0:1,t[11].diceToMove,t[48].loc))},i(n){s||(z(()=>{i&&i.end(1),r||(r=st(e,t[16],{key:t[48].key})),r.start()}),s=!0)},o(n){r&&r.invalidate(),i=ct(e,t[15],{key:t[48].key}),s=!1},d(t){t&&$(e),t&&i&&i.end()}}}function re(t){let e,n;function o(...e){return t[26](t[45],t[44],t[47],t[53],...e)}let l=t[51].filter(o),r=[];for(let e=0;e<l.length;e+=1)r[e]=le(Wt(t,l,e));const i=t=>rt(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=_()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);y(t,e,o),n=!0},p(n,s){if(t=n,1193984&s[0]){let n;for(l=t[51].filter(o),n=0;n<l.length;n+=1){const o=Wt(t,l,n);r[n]?(r[n].p(o,s),lt(r[n],1)):(r[n]=le(o),r[n].c(),lt(r[n],1),r[n].m(e.parentNode,e))}for(nt(),n=l.length;n<r.length;n+=1)i(n);ot()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)lt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)rt(r[t]);n=!1},d(t){w(r,t),t&&$(e)}}}function ie(e){let n;return{c(){n=v("td"),A(n,"class","none"),A(n,"rowspan","4")},m(t,e){y(t,n,e)},p:t,d(t){t&&$(n)}}}function se(e){let n,o;return{c(){n=v("td"),A(n,"class","none"),A(n,"rowspan","4"),z(()=>e[25].call(n))},m(t,l){y(t,n,l),e[24](n),o=function(t,e){const n=getComputedStyle(t),o=(parseInt(n.zIndex)||0)-1;"static"===n.position&&(t.style.position="relative");const l=v("iframe");l.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${o};`),l.setAttribute("aria-hidden","true"),l.tabIndex=-1;const r=N();let i;return r?(l.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=M(window,"message",t=>{t.source===l.contentWindow&&e()})):(l.src="about:blank",l.onload=()=>{i=M(l.contentWindow,"resize",e)}),g(t,l),()=>{(r||i&&l.contentWindow)&&i(),$(l)}}(n,e[25].bind(n))},p:t,d(t){t&&$(n),e[24](null),o()}}}function ce(n,o){let l,r,i,s,c,a,d,f,p=o[48].id+"",h=t;return{key:n,first:null,c(){l=v("div"),r=k(p),A(l,"class","pawn"),A(l,"data-owner",i=o[48].p),A(l,"data-pawnname",s=o[48].id),P(l,"helpglow",!!((1===o[48].p?0:1)===o[11].turn&&o[11].settings.helpmode&&o[11].rolled&&0!==o[11].diceToMove&&o[50]<1)&&o[20](1===o[48].p?0:1,o[11].diceToMove,o[48].loc)),this.first=l},m(t,e){y(t,l,e),g(l,r),f=!0},p(t,e){(!f||4096&e[0])&&p!==(p=t[48].id+"")&&T(r,p),(!f||4096&e[0]&&i!==(i=t[48].p))&&A(l,"data-owner",i),(!f||4096&e[0]&&s!==(s=t[48].id))&&A(l,"data-pawnname",s),1054720&e[0]&&P(l,"helpglow",!!((1===t[48].p?0:1)===t[11].turn&&t[11].settings.helpmode&&t[11].rolled&&0!==t[11].diceToMove&&t[50]<1)&&t[20](1===t[48].p?0:1,t[11].diceToMove,t[48].loc))},r(){d=l.getBoundingClientRect()},f(){!function(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:o}=e,l=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=o,R(t,l)}}(l),h(),R(l,d)},a(){h(),h=function(n,o,l,r){if(!o)return t;const i=n.getBoundingClientRect();if(o.left===i.left&&o.right===i.right&&o.top===i.top&&o.bottom===i.bottom)return t;const{delay:s=0,duration:c=300,easing:a=e,start:d=u()+s,end:f=d+c,tick:p=t,css:h}=l(n,{from:o,to:i},r);let g,y=!0,$=!1;function w(){h&&D(n,g),y=!1}return m(t=>{if(!$&&t>=d&&($=!0),$&&t>=f&&(p(1,0),w()),!y)return!1;if($){const e=0+1*a((t-d)/c);p(e,1-e)}return!0}),h&&(g=O(n,0,1,c,s,a,h)),s||($=!0),p(0,1),w}(l,d,Tt,{})},i(t){f||(z(()=>{a&&a.end(1),c||(c=st(l,o[16],{key:o[48].key})),c.start()}),f=!0)},o(t){c&&c.invalidate(),a=ct(l,o[15],{key:o[48].key}),f=!1},d(t){t&&$(l),t&&a&&a.end()}}}function ae(t){let e,n,o,l;const r=[oe,ne,ee,te,Qt,Kt],i=[];function s(t,e){return"15"==t[45][t[44]]?0:"0"==t[44]&&"0"==t[45][t[44]]?1:0!=t[47]&&4!=t[47]||4!==t[44]?(0===t[47]||4===t[47])&&4<t[44]?3:"0"==t[45][t[44]]?4:5:2}return e=s(t),n=i[e]=r[e](t),{c(){n.c(),o=_()},m(t,n){i[e].m(t,n),y(t,o,n),l=!0},p(t,l){let c=e;e=s(t),e===c?i[e].p(t,l):(nt(),rt(i[c],1,1,()=>{i[c]=null}),ot(),n=i[e],n||(n=i[e]=r[e](t),n.c()),lt(n,1),n.m(o.parentNode,o))},i(t){l||(lt(n),l=!0)},o(t){rt(n),l=!1},d(t){i[e].d(t),t&&$(o)}}}function de(t){let e,n,o,l=t[13][0].col,r=[];for(let e=0;e<l.length;e+=1)r[e]=ae(Yt(t,l,e));const i=t=>rt(r[t],1,1,()=>{r[t]=null});return{c(){e=v("tr");for(let t=0;t<r.length;t+=1)r[t].c();n=x()},m(t,l){y(t,e,l);for(let t=0;t<r.length;t+=1)r[t].m(e,null);g(e,n),o=!0},p(t,o){if(1980802&o[0]){let s;for(l=t[13][0].col,s=0;s<l.length;s+=1){const i=Yt(t,l,s);r[s]?(r[s].p(i,o),lt(r[s],1)):(r[s]=ae(i),r[s].c(),lt(r[s],1),r[s].m(e,n))}for(nt(),s=l.length;s<r.length;s+=1)i(s);ot()}},i(t){if(!o){for(let t=0;t<l.length;t+=1)lt(r[t]);o=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)rt(r[t]);o=!1},d(t){t&&$(e),w(r,t)}}}function ue(t){let e,n;return e=new Zt({props:{dicesArr:t[11].dicesArr,moveToDeck:!0,rolled:t[11].rolled,pos:t[2]}}),e.$on("click",(function(){i(t[0].roll)&&t[0].roll.apply(this,arguments)})),{c(){ut(e.$$.fragment)},m(t,o){ft(e,t,o),n=!0},p(n,o){t=n;const l={};2048&o[0]&&(l.dicesArr=t[11].dicesArr),2048&o[0]&&(l.rolled=t[11].rolled),4&o[0]&&(l.pos=t[2]),e.$set(l)},i(t){n||(lt(e.$$.fragment,t),n=!0)},o(t){rt(e.$$.fragment,t),n=!1},d(t){pt(e,t)}}}function fe(t){let e,n,o,l,i,s,c,a,d,u,f,p,h,m,_,C,N,S,E,B,O,D,R,U,V,Z,G,H,q,I,j,W,F,X,Y,J,K,Q,tt,et,it,st,ct,at,dt,ht,mt,gt,yt,$t,wt,vt,bt,kt,xt=!1,_t=()=>{xt=!1},Mt=t[11].settings.helpmode?"help on":"help off",At=t[11].round+"",Tt=t[11].rolled?`<em data-player="${t[10]}">Player ${t[10]}</em> rolled the Dices`:`<em data-player="${t[10]}">Player ${t[10]}</em> hasn't rolled yet.`,Ct=t[11].status+"";z(t[21]),z(t[22]),l=new Zt({props:{dicesArr:t[11].dicesArr,moveToDeck:!1,rolled:t[11].rolled}});let Nt=t[13][0].col[0],Pt=[];for(let e=0;e<Nt.length;e+=1)Pt[e]=de(Jt(t,Nt,e));const Lt=t=>rt(Pt[t],1,1,()=>{Pt[t]=null});a=new It({props:{}}),t[29](a);let St=!t[14].won&&ue(t);return{c(){n=v("div"),o=v("div"),ut(l.$$.fragment),i=x(),s=v("table");for(let t=0;t<Pt.length;t+=1)Pt[t].c();c=x(),ut(a.$$.fragment),d=x(),u=v("nav"),f=v("button"),p=k(Mt),h=x(),m=v("button"),m.textContent="log",_=x(),C=v("div"),N=v("nav"),S=v("button"),S.textContent="x",E=x(),B=v("pre"),O=k("Round:"),D=v("em"),R=k(At),U=k("\nit's "),V=v("em"),Z=k("Player "),G=k(t[10]),H=k("'s turn\n\n\n"),I=k("\n\n"),W=x(),F=v("div"),X=v("nav"),Y=v("button"),Y.textContent="x",J=x(),K=v("h2"),K.textContent="royal game of ur",Q=x(),St&&St.c(),tt=x(),et=b("svg"),it=b("defs"),st=b("filter"),ct=b("feMorphology"),at=b("animate"),dt=b("feGaussianBlur"),ht=b("animate"),mt=b("feFlood"),gt=b("feComposite"),yt=b("feMerge"),$t=b("feMergeNode"),wt=b("feMergeNode"),A(o,"class","ghostlayer"),P(o,"ghVisible",1===t[11].rolled),A(n,"class","board"),P(n,"fadeAlittle",1===t[11].rolled),P(f,"modepassive",!t[11].settings.helpmode),A(V,"data-player",t[10]),q=new L(I),j=new L(null),A(C,"class","status"),P(C,"visible","status"===t[11].view),A(F,"class","help"),P(F,"visible","help"===t[11].view),A(at,"attributeName","radius"),A(at,"values","0;0;0;0;0;3;0;0;0;0;0;4;0;5;0;0;"),A(at,"dur","6s"),A(at,"repeatCount","indefinite"),A(ct,"operator","dilate"),A(ct,"radius","4"),A(ct,"in","SourceAlpha"),A(ct,"result","thicken"),A(ht,"attributeName","stdDeviation"),A(ht,"values","0;0;0;0;0;6;0;0;0;0;0;7;1;5;0;0;"),A(ht,"dur","6s"),A(ht,"repeatCount","indefinite"),A(dt,"in","thicken"),A(dt,"stdDeviation","10"),A(dt,"result","blurred"),A(mt,"flood-color","gold"),A(mt,"result","glowColor"),A(gt,"in","glowColor"),A(gt,"in2","blurred"),A(gt,"operator","in"),A(gt,"result","softGlow_colored"),A($t,"in","softGlow_colored"),A(wt,"in","SourceGraphic"),A(st,"id","sofGlow"),A(st,"height","300%"),A(st,"width","300%"),A(st,"x","-75%"),A(st,"y","-75%"),A(et,"id","svgdefs")},m(r,$){y(r,n,$),g(n,o),ft(l,o,null),g(n,i),g(n,s);for(let t=0;t<Pt.length;t+=1)Pt[t].m(s,null);t[28](n),y(r,c,$),ft(a,r,$),y(r,d,$),y(r,u,$),g(u,f),g(f,p),g(u,h),g(u,m),y(r,_,$),y(r,C,$),g(C,N),g(N,S),g(C,E),g(C,B),g(B,O),g(B,D),g(D,R),g(B,U),g(B,V),g(V,Z),g(V,G),g(B,H),q.m(Tt,B),g(B,I),j.m(Ct,B),y(r,W,$),y(r,F,$),g(F,X),g(X,Y),g(F,J),g(F,K),y(r,Q,$),St&&St.m(r,$),y(r,tt,$),y(r,et,$),g(et,it),g(it,st),g(st,ct),g(ct,at),g(st,dt),g(dt,ht),g(st,mt),g(st,gt),g(st,yt),g(yt,$t),g(yt,wt),vt=!0,bt||(kt=[M(zt,"scroll",()=>{xt=!0,clearTimeout(e),e=jt(_t,100),t[21]()}),M(zt,"resize",t[22]),M(f,"click",t[30]),M(m,"click",t[31]),M(S,"click",t[32]),M(Y,"click",t[33])],bt=!0)},p(t,r){24&r[0]&&!xt&&(xt=!0,clearTimeout(e),scrollTo(t[3],t[4]),e=jt(_t,100));const i={};if(2048&r[0]&&(i.dicesArr=t[11].dicesArr),2048&r[0]&&(i.rolled=t[11].rolled),l.$set(i),2048&r[0]&&P(o,"ghVisible",1===t[11].rolled),1980802&r[0]){let e;for(Nt=t[13][0].col[0],e=0;e<Nt.length;e+=1){const n=Jt(t,Nt,e);Pt[e]?(Pt[e].p(n,r),lt(Pt[e],1)):(Pt[e]=de(n),Pt[e].c(),lt(Pt[e],1),Pt[e].m(s,null))}for(nt(),e=Nt.length;e<Pt.length;e+=1)Lt(e);ot()}2048&r[0]&&P(n,"fadeAlittle",1===t[11].rolled);a.$set({}),(!vt||2048&r[0])&&Mt!==(Mt=t[11].settings.helpmode?"help on":"help off")&&T(p,Mt),2048&r[0]&&P(f,"modepassive",!t[11].settings.helpmode),(!vt||2048&r[0])&&At!==(At=t[11].round+"")&&T(R,At),(!vt||1024&r[0])&&T(G,t[10]),(!vt||1024&r[0])&&A(V,"data-player",t[10]),(!vt||3072&r[0])&&Tt!==(Tt=t[11].rolled?`<em data-player="${t[10]}">Player ${t[10]}</em> rolled the Dices`:`<em data-player="${t[10]}">Player ${t[10]}</em> hasn't rolled yet.`)&&q.p(Tt),(!vt||2048&r[0])&&Ct!==(Ct=t[11].status+"")&&j.p(Ct),2048&r[0]&&P(C,"visible","status"===t[11].view),2048&r[0]&&P(F,"visible","help"===t[11].view),t[14].won?St&&(nt(),rt(St,1,1,()=>{St=null}),ot()):St?(St.p(t,r),16384&r[0]&&lt(St,1)):(St=ue(t),St.c(),lt(St,1),St.m(tt.parentNode,tt))},i(t){if(!vt){lt(l.$$.fragment,t);for(let t=0;t<Nt.length;t+=1)lt(Pt[t]);lt(a.$$.fragment,t),lt(St),vt=!0}},o(t){rt(l.$$.fragment,t),Pt=Pt.filter(Boolean);for(let t=0;t<Pt.length;t+=1)rt(Pt[t]);rt(a.$$.fragment,t),rt(St),vt=!1},d(e){e&&$(n),pt(l),w(Pt,e),t[28](null),e&&$(c),t[29](null),pt(a,e),e&&$(d),e&&$(u),e&&$(_),e&&$(C),e&&$(W),e&&$(F),e&&$(Q),St&&St.d(e),e&&$(tt),e&&$(et),bt=!1,r(kt)}}}function pe(t){const e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY}}const he=t=>0===t.loc;function me(t,e,n){let o,l,r,i,s;c(t,wt,t=>n(11,o=t)),c(t,xt,t=>n(12,l=t)),c(t,bt,t=>n(13,r=t)),c(t,vt,t=>n(14,i=t));const[d,u]=At({duration:t=>Math.sqrt(200*t),fallback(t,e){const n=getComputedStyle(t),o="none"===n.transform?"":n.transform;return{duration:600,easing:Mt,css:t=>`\n\t\t\t\t\ttransform: ${o} scale(${t});\n\t\t\t\t\topacity: ${t}\n\t\t\t\t`}}});let f,p,h,m,g,y,$,w,v,b=function(t){return t<5||12<t?"safe":"combat"},k=function(t=!1){a(wt,o={turn:(o.turn+(t?0:1))%2,rolled:0,played:0,round:o.round+1,status:o.status+"\n...next turn...",dicesArr:[0,0,0,0],settings:o.settings}),wt.set(o)},x=function(t,e,n){let r=t-1;if(function(t){return 1==o.rolled&&0==o.played&&T==t}(t)){const n=l[r].findIndex(t=>t.id===Number(e)),i=l[r][n],s=i.loc+o.diceToMove;let c,d,u,f,p,h,m=!0;"safe"===b(s)?15===s?(i.loc=15,a(wt,o.status=`<em>Player ${t}'s</em> Pawn <em>${i.id}</em> made it!.\n1 Point for <em>Player ${t}!</em>`,o)):s>15?(m=!1,a(wt,o.status="You should land exactly onto the New Home\nIf you can't move otherwise you should <code>Pass</code>",o)):0===s?a(wt,o.status="This message shouldn't appear. Case is checked in Dice.svelte",o):(c=l[r].find(t=>t.loc===s),f=null!=c,f&&a(wt,o.status=`<em>Player ${t}'s </em> own pawn is there. \nIf you can't move otherwise you should <code>Pass</code>`,o)):(u=l[(r+1)%2].find(t=>t.loc===s),h=null!=u,h&&a(wt,o.status=`Opponent <em>Player ${(r+1)%2+1}'s </em> pawn is there.`,o),d=l[r].find(t=>t.loc===s),p=null!=d,p&&a(wt,o.status+=`\n<em>Player ${t}'s </em> own pawn is there.`,o)),c||d||h||!m?h&&(8===s?a(wt,o.status+=`\nPlayer <em>${u.p}</em>'s Pawn #<em>${u.id}</em> is Safe!\nTry another move!`,o):(a(wt,o.status+="Send 'em Home!",o),a(wt,o.status+=`\nPlayer <em>${u.p}</em>'s Pawn #<em>${u.id}</em> going back Home `,o),u.loc=0,a(xt,l[r][n].loc=s,l),a(wt,o.played=1,o),k())):(a(wt,o.status+=`\nPlayer <em data-player="${T}">${T}</em>'s Pawn #<em data-player="${T}">${i.id}</em> moving to square <em>${s}</em>`,o),8===s&&a(wt,o.status+="\nPawn is now <em>Untouchable</em>!",o),8!==s&&4!==s||a(wt,o.status+=`\n<em data-player="${T}">${T} gets to play again!</em>`,o),a(xt,l[r][n].loc=s,l),a(wt,o.played=1,o),k(8===s||4===s))}else a(wt,o.status+=void 0!==t?`\nit's not Player <em>${t}</em>'s turn!.`:"\nno pawns there!",o)},_=t=>[...new Set(t)],M=function(t,e,n=null){let o=l[t].map(t=>t.loc+e).filter(t=>t<16),r=_(o),i=_([...l[t]].map(t=>t.loc).filter(t=>0<t&&t<15)),s=_([...l[(t+1)%2]].map(t=>t.loc).filter(t=>8===t)),c=(_([...l[0],...l[1]].map(t=>t.loc).filter(t=>4<t&&t<13)),r.filter(t=>!i.includes(t)&&!s.includes(t)));return null!==n&void 0!==n?(console.log("difference:",c),console.log("thispawn + diceToMove:",`${n} + ${e} = ${n+e}`),console.log("movable pawns:",c.filter(t=>t===n+e).length>0?n:null),console.log(c.filter(t=>t===n+e).length>0&&`${t} ${e} ${n}`),c.filter(t=>t===n+e).length>0):c.length>0},A=!1;V(()=>{n(34,A=!0)}),p={top:null,left:null,width:null,height:null};let T;return t.$$.update=()=>{2048&t.$$.dirty[0]&&n(10,T=o.turn+1),98&t.$$.dirty[0]&&(n(2,p.left=f?pe(f).left:{},p),n(2,p.top=f?pe(f).top:{},p)),384&t.$$.dirty[0]&&(n(2,p.width=w,p),n(2,p.height=$,p)),6&t.$$.dirty[0]&&(p?p.left:({}=f?pe(f).left:void 0)),6&t.$$.dirty[0]&&(p?p.top:({}=f?pe(f).top:void 0)),t.$$.dirty[1],2048&t.$$.dirty[0]&&1===o.rolled&&(M(o.turn,o.diceToMove)||setTimeout(()=>{k()},1e3))},[s,f,p,h,m,g,y,$,w,v,T,o,l,r,i,d,u,b,function(t){return 8===t||4===t?"special":""},x,M,function(){n(4,m=zt.pageYOffset),n(3,h=zt.pageXOffset)},function(){n(5,g=zt.innerWidth),n(6,y=zt.innerHeight)},t=>x(t.target.dataset.owner,t.target.dataset.pawnname,t.target),function(t){G[t?"unshift":"push"](()=>{f=t,n(1,f)})},function(){w=this.offsetWidth,$=this.offsetHeight,n(8,w),n(7,$)},(t,e,n,o,l)=>l.loc===t[e]&&("safe"!==b(l.loc)||n===(0===o?1:3)),t=>x(t.target.dataset.owner,t.target.dataset.pawnname,t.target),function(t){G[t?"unshift":"push"](()=>{v=t,n(9,v)})},function(t){G[t?"unshift":"push"](()=>{s=t,n(0,s)})},()=>a(wt,o.settings.helpmode=!o.settings.helpmode,o),()=>a(wt,o.view="status",o),()=>a(wt,o.view="",o),()=>a(wt,o.view="",o)]}class ge extends gt{constructor(t){super(),mt(this,t,me,fe,s,{},[-1,-1])}}function ye(e){let n,o,l;return o=new ge({}),{c(){n=v("main"),ut(o.$$.fragment)},m(t,e){y(t,n,e),ft(o,n,null),l=!0},p:t,i(t){l||(lt(o.$$.fragment,t),l=!0)},o(t){rt(o.$$.fragment,t),l=!1},d(t){t&&$(n),pt(o)}}}return new class extends gt{constructor(t){super(),mt(this,t,null,ye,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
